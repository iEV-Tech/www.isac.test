"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9707],{9707:(me,b,m)=>{m.r(b),m.d(b,{VehiclePageModule:()=>ue});var _=m(177),k=m(9417),c=m(791),C=m(7625),d=m(467),M=m(5312),h=m(5972);const P=function(){var l=(0,d.A)(function*(n){var i,a;n.params=n.params||{},(0,h.hm)({url:"api/CarManuft/get-carmanufts",params:{PageNumber:null!==(i=n.params.PageNumber)&&void 0!==i?i:1,PageSize:null!==(a=n.params.PageSize)&&void 0!==a?a:10},success:t=>{"function"==typeof n.callback&&n.callback(t.data||null)},error:t=>{var r;"function"==typeof n.callback&&n.callback(null==t||null===(r=t.response)||void 0===r?void 0:r.data),console.error(t)},loading:n.loading,loadingController:n.loadingController})});return function(i){return l.apply(this,arguments)}}(),$=function(){var l=(0,d.A)(function*(n){var i,a,t;n.params=n.params||{},(0,h.hm)({url:"api/CarModel/get-carmodels",params:{CarManuftId:null!==(i=n.params.CarManuftId)&&void 0!==i?i:null,PageNumber:null!==(a=n.params.PageNumber)&&void 0!==a?a:1,PageSize:null!==(t=n.params.PageSize)&&void 0!==t?t:10},success:r=>{"function"==typeof n.callback&&n.callback(r.data||null)},error:r=>{var o;"function"==typeof n.callback&&n.callback(null==r||null===(o=r.response)||void 0===o?void 0:o.data),console.error(r)},loading:n.loading,loadingController:n.loadingController})});return function(i){return l.apply(this,arguments)}}(),I=function(){var l=(0,d.A)(function*(n){var i,a;n.params=n.params||{},(0,h.hm)({url:"api/VehicleList/get-mycars",params:{PageNumber:null!==(i=n.params.PageNumber)&&void 0!==i?i:1,PageSize:null!==(a=n.params.PageSize)&&void 0!==a?a:10},success:t=>{"function"==typeof n.callback&&n.callback(t.data||null)},error:t=>{var r;"function"==typeof n.callback&&n.callback(null==t||null===(r=t.response)||void 0===r?void 0:r.data),console.error(t)},loading:n.loading,loadingController:n.loadingController})});return function(i){return l.apply(this,arguments)}}(),F=function(){var l=(0,d.A)(function*(n){n.params=n.params||{},(0,h.hm)({url:`api/VehicleList/get-cardetail/${n.params.VehicleId}`,params:{},success:i=>{"function"==typeof n.callback&&n.callback(i.data||null)},error:i=>{var a;"function"==typeof n.callback&&n.callback(null==i||null===(a=i.response)||void 0===a?void 0:a.data),console.error(i)},loading:n.loading,loadingController:n.loadingController})});return function(i){return l.apply(this,arguments)}}(),j=function(){var l=(0,d.A)(function*(n){var i,a,t,r,o,s,u;n.params=n.params||{},(0,h.Ll)({url:"api/VehicleList/create",params:{CarName:null!==(i=n.params.CarName)&&void 0!==i?i:null,CarBrand:null!==(a=n.params.CarBrand)&&void 0!==a?a:null,ModelName:null!==(t=n.params.ModelName)&&void 0!==t?t:null,Vin:null!==(r=n.params.Vin)&&void 0!==r?r:null,VehicleNumber:null!==(o=n.params.VehicleNumber)&&void 0!==o?o:null,YearOfManufacture:null!==(s=n.params.YearOfManufacture)&&void 0!==s?s:null,IsDefault:null!==(u=n.params.IsDefault)&&void 0!==u?u:null},success:p=>{"function"==typeof n.callback&&n.callback(p.data||null)},error:p=>{var g;"function"==typeof n.callback&&n.callback(null==p||null===(g=p.response)||void 0===g?void 0:g.data),console.error(p)},loading:n.loading,loadingController:n.loadingController})});return function(i){return l.apply(this,arguments)}}(),N=function(){var l=(0,d.A)(function*(n){var i,a,t,r,o,s,u,p;n.params=n.params||{},(0,h.IH)({url:"api/VehicleList/update-mycar",params:{VehicleId:null!==(i=n.params.VehicleId)&&void 0!==i?i:null,CarName:null!==(a=n.params.CarName)&&void 0!==a?a:null,CarBrand:null!==(t=n.params.CarBrand)&&void 0!==t?t:null,ModelName:null!==(r=n.params.ModelName)&&void 0!==r?r:null,Vin:null!==(o=n.params.Vin)&&void 0!==o?o:null,VehicleNumber:null!==(s=n.params.VehicleNumber)&&void 0!==s?s:null,YearOfManufacture:null!==(u=n.params.YearOfManufacture)&&void 0!==u?u:null,IsDefault:null!==(p=n.params.IsDefault)&&void 0!==p?p:null},success:g=>{"function"==typeof n.callback&&n.callback(g.data||null)},error:g=>{var v;"function"==typeof n.callback&&n.callback(null==g||null===(v=g.response)||void 0===v?void 0:v.data),console.error(g)},loading:n.loading,loadingController:n.loadingController})});return function(i){return l.apply(this,arguments)}}(),y=function(){var l=(0,d.A)(function*(n){n.params=n.params||{},(0,h.sj)({url:`api/VehicleList/delete-mycar/${n.params.VehicleId}`,params:{},success:i=>{"function"==typeof n.callback&&n.callback(i.data||null)},error:i=>{var a;"function"==typeof n.callback&&n.callback(null==i||null===(a=i.response)||void 0===a?void 0:a.data),console.error(i)},loading:n.loading,loadingController:n.loadingController})});return function(i){return l.apply(this,arguments)}}();var f=m(8650),e=m(4438),V=m(4842);const G=["modalBranch"],T=()=>[0,.75,1];function O(l,n){if(1&l){const i=e.RV6();e.qex(0),e.j41(1,"ion-item",24),e.bIt("click",function(t){const r=e.eBV(i).$implicit,o=e.XpG(2);return e.Njj(o.changeModelName(t,r.ModelName,r))}),e.j41(2,"ion-label")(3,"h6"),e.EFF(4),e.k0s(),e.j41(5,"small"),e.EFF(6),e.k0s()()(),e.bVm()}if(2&l){const i=n.$implicit,a=e.XpG(2);e.R7$(),e.Y8G("color",a.vehicle.ModelName==i.ModelName?"medium":"light"),e.R7$(3),e.JRh(i.ModelName),e.R7$(2),e.JRh(i.ModelDesc)}}function D(l,n){if(1&l&&(e.j41(0,"ion-content",21)(1,"ion-list",22),e.DNE(2,O,7,3,"ng-container",23),e.k0s()()),2&l){const i=e.XpG();e.R7$(2),e.Y8G("ngForOf",i.carModels)}}function x(l,n){if(1&l){const i=e.RV6();e.qex(0),e.j41(1,"div",29)(2,"div",30)(3,"div",31),e.bIt("click",function(t){const r=e.eBV(i).$implicit,o=e.XpG(2);return e.Njj(o.changeCarBrand(t,r.CarBrand,r))}),e.nrm(4,"ion-img",32),e.k0s()()(),e.bVm()}if(2&l){const i=n.$implicit,a=e.XpG(2);e.R7$(4),e.Y8G("src",a.getLogoUrl(i.LogoUrl))("alt",i.CarBrand)}}function E(l,n){if(1&l&&(e.j41(0,"div",25)(1,"div",26)(2,"h4",27),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div",28),e.DNE(6,x,5,2,"ng-container",23),e.k0s()()),2&l){const i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,2,"SelectVehicleBrand")),e.R7$(3),e.Y8G("ngForOf",i.carManufts)}}let A=(()=>{var l;class n{constructor(a,t,r){this.modalController=a,this.loadingController=t,this.toastController=r,this.vehicle={},this.carManufts=[],this.carModels=[]}ngOnInit(){this.refreshData()}onIonRefresher(a){this.refreshData(()=>{a.target.complete()})}refreshData(a){var t=this;let r=[];r.push(new Promise((o,s)=>{P({params:{PageNumber:1,PageSize:100},callback:u=>{null!=u&&u.Succeeded&&(this.carManufts=u.Data),o(u)}})})),Promise.all(r).then((0,d.A)(function*(){t.VehicleId&&F({loadingController:t.loadingController,params:{VehicleId:t.VehicleId},callback:o=>{var s;t.response=o,null!=o&&o.Succeeded?t.vehicle=null!==(s=o.Data)&&void 0!==s?s:{}:(0,f.cX)(t.toastController,{},o).then(u=>u.present())}}),a&&a()}))}GetCarmodels(a){var t=this;return(0,d.A)(function*(){a&&$({params:{CarManuftId:a,PageNumber:1,PageSize:100},callback:r=>{null!=r&&r.Succeeded&&(t.carModels=r.Data)}})})()}close(a){var t=this;return(0,d.A)(function*(){t.modalController.dismiss(null,"cancel")})()}changeCarName(a){var t=this;return(0,d.A)(function*(){t.vehicle.CarName=a.detail.value})()}changeCarBrand(a,t,r){var o=this;return(0,d.A)(function*(){var s;o.vehicle.CarBrand=null!=t?t:a.detail.value,o.vehicle.LogoUrl=null==r?void 0:r.LogoUrl,o.GetCarmodels(null==r?void 0:r.CarManuftId),null===(s=o.modalBranch)||void 0===s||s.dismiss()})()}changeModelName(a,t,r){var o=this;return(0,d.A)(function*(){o.vehicle.ModelName=null!=t?t:a.detail.value})()}changeVin(a){var t=this;return(0,d.A)(function*(){t.vehicle.Vin=a.detail.value})()}changeVehicleNumber(a){var t=this;return(0,d.A)(function*(){t.vehicle.VehicleNumber=a.detail.value})()}changeYearOfManufacture(a){var t=this;return(0,d.A)(function*(){t.vehicle.YearOfManufacture=a.detail.value})()}changeIsDefault(a){var t=this;return(0,d.A)(function*(){t.vehicle.IsDefault=a.detail.checked})()}submit(a){var t=this;return(0,d.A)(function*(){t.vehicle.VehicleId?N({loadingController:t.loadingController,params:t.vehicle,callback:r=>{t.response=r,null!=r&&r.Succeeded?t.modalController.dismiss(null,"success"):(0,f.cX)(t.toastController,{},r).then(o=>o.present())}}):j({loadingController:t.loadingController,params:t.vehicle,callback:r=>{t.response=r,null!=r&&r.Succeeded?t.modalController.dismiss(null,"success"):(0,f.cX)(t.toastController,{},r).then(o=>o.present())}})})()}getLogoUrl(a){return!a||a.match(/^http(s)\:\/\//)?null!=a?a:"assets/image/favicon.svg":M.c.readfile_url+a.replace(/^\//,"")}}return(l=n).\u0275fac=function(a){return new(a||l)(e.rXU(c.W3),e.rXU(c.Xi),e.rXU(c.K_))},l.\u0275cmp=e.VBU({type:l,selectors:[["app-modal-add-vehicle"]],viewQuery:function(a,t){if(1&a&&e.GBs(G,5),2&a){let r;e.mGM(r=e.lsd())&&(t.modalBranch=r.first)}},inputs:{VehicleId:"VehicleId"},decls:72,vars:39,consts:[["modalBranch",""],["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],["slot","fixed",3,"ionRefresh"],[1,"card-info","bg-white","container","py-3","min-h-100"],["lines","none"],[1,"form-group"],[1,"text-danger"],[1,"ion-item-input"],["placeholder","Xe c\u1ee7a M",3,"ionChange","value"],[3,"ionChange","placeholder","value"],["id","click-trigger-modal-branch"],["id","click-trigger-popover-model"],["trigger","click-trigger-popover-model","triggerAction","click","dismissOnSelect","true"],["type","number","inputmode","decimal",3,"ionChange","placeholder","value"],[1,"row"],["labelPlacement","end","justify","start",3,"ionChange","checked"],["trigger","click-trigger-modal-branch",3,"initialBreakpoint","breakpoints"],[1,"p-3"],["color","primary","shape","round","expand","block",3,"click"],[1,"ion-no-padding"],["lines","none","mode","ios"],[4,"ngFor","ngForOf"],["button","","detail","false",3,"click","color"],[1,"ion-background-color-primary"],[1,"pt-4"],[1,"text-center","my-0"],[1,"p-3","d-flex","flex-wrap"],[1,"col-4","p-2"],[1,"p-3","rounded","bg-white"],[1,"embed-responsive","embed-responsive-1by1","cursor-pointer",3,"click"],[1,"embed-responsive-item",3,"src","alt"]],template:function(a,t){if(1&a){const r=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),e.bIt("click",function(s){return e.eBV(r),e.Njj(t.close(s))}),e.nrm(4,"ion-icon",3),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"ion-content")(9,"ion-refresher",4),e.bIt("ionRefresh",function(s){return e.eBV(r),e.Njj(t.onIonRefresher(s))}),e.nrm(10,"ion-refresher-content"),e.k0s(),e.j41(11,"div",5)(12,"ion-list",6)(13,"div",7)(14,"label"),e.EFF(15),e.nI1(16,"translate"),e.j41(17,"span",8),e.EFF(18,"*"),e.k0s()(),e.j41(19,"div",9)(20,"ion-item")(21,"ion-input",10),e.bIt("ionChange",function(s){return e.eBV(r),e.Njj(t.changeCarName(s))}),e.k0s()()()(),e.j41(22,"div",7)(23,"label"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"div",9)(27,"ion-item")(28,"ion-input",11),e.nI1(29,"translate"),e.bIt("ionChange",function(s){return e.eBV(r),e.Njj(t.changeVehicleNumber(s))}),e.k0s()()()(),e.j41(30,"div",7)(31,"label"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"div",9)(35,"ion-item",12)(36,"ion-label"),e.EFF(37),e.k0s()()()(),e.j41(38,"div",7)(39,"label"),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"div",9)(43,"ion-item",13)(44,"ion-label"),e.EFF(45),e.k0s()()(),e.j41(46,"ion-popover",14),e.DNE(47,D,3,1,"ng-template"),e.k0s()(),e.j41(48,"div",7)(49,"label"),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.j41(52,"div",9)(53,"ion-item")(54,"ion-input",15),e.nI1(55,"translate"),e.bIt("ionChange",function(s){return e.eBV(r),e.Njj(t.changeYearOfManufacture(s))}),e.k0s()()()(),e.j41(56,"div",7)(57,"div",16)(58,"ion-item")(59,"ion-checkbox",17),e.bIt("ionChange",function(s){return e.eBV(r),e.Njj(t.changeIsDefault(s))}),e.j41(60,"small")(61,"b"),e.EFF(62),e.nI1(63,"translate"),e.k0s()()()()()()()(),e.j41(64,"ion-modal",18,0),e.DNE(66,E,7,4,"ng-template"),e.k0s()(),e.j41(67,"ion-footer")(68,"div",19)(69,"ion-button",20),e.bIt("click",function(s){return e.eBV(r),e.Njj(t.submit(s))}),e.EFF(70),e.nI1(71,"translate"),e.k0s()()()}2&a&&(e.R7$(6),e.JRh(e.bMT(7,18,"NewVehicle")),e.R7$(9),e.SpI("",e.bMT(16,20,"VehicleName")," "),e.R7$(6),e.Y8G("value",t.vehicle.CarName),e.R7$(3),e.JRh(e.bMT(25,22,"VehicleNumber")),e.R7$(4),e.FS9("placeholder",e.bMT(29,24,"VehicleNumber")),e.Y8G("value",t.vehicle.VehicleNumber),e.R7$(4),e.JRh(e.bMT(33,26,"CarBrand")),e.R7$(5),e.JRh(t.vehicle.CarBrand),e.R7$(3),e.JRh(e.bMT(41,28,"ModelName")),e.R7$(5),e.JRh(t.vehicle.ModelName),e.R7$(5),e.JRh(e.bMT(51,30,"YearOfManufacture")),e.R7$(4),e.FS9("placeholder",e.bMT(55,32,"YearOfManufacture")),e.Y8G("value",t.vehicle.YearOfManufacture),e.R7$(5),e.Y8G("checked",!!t.vehicle.IsDefault),e.R7$(3),e.JRh(e.bMT(63,34,"VehicleDefault")),e.R7$(2),e.Y8G("initialBreakpoint",.75)("breakpoints",e.lJ4(38,T)),e.R7$(6),e.JRh(e.bMT(71,36,"Save")))},dependencies:[_.Sq,c.Jm,c.QW,c.eY,c.W9,c.M0,c.eU,c.iq,c.KW,c.$w,c.uz,c.he,c.nf,c.To,c.Ki,c.BC,c.ai,c.Sb,c.CF,c.hB,c.su,c.Gw,V.D9],styles:["ion-thumbnail[_ngcontent-%COMP%]{--size: 3rem;--border-radius: 1rem}ion-list[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:.25rem;border:2px solid var(--ion-color-primary)}.card-info[_ngcontent-%COMP%]{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}.ion-background-color-primary[_ngcontent-%COMP%]{background-color:var(--ion-background-color-primary)}.ion-background-color-primary[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{border-radius:.5rem!important}"]}),n})();const Y=function(){var l=(0,d.A)(function*(n){var i,a;n.params=n.params||{},(0,h.hm)({url:"api/VehicleVip/get-myvehiclevip-paging",params:{PageNumber:null!==(i=n.params.PageNumber)&&void 0!==i?i:1,PageSize:null!==(a=n.params.PageSize)&&void 0!==a?a:10},success:t=>{"function"==typeof n.callback&&n.callback(t.data||null)},error:t=>{var r;"function"==typeof n.callback&&n.callback(null==t||null===(r=t.response)||void 0===r?void 0:r.data),console.error(t)},loading:n.loading,loadingController:n.loadingController})});return function(i){return l.apply(this,arguments)}}();var B=m(6539),J=m(8517),X=m(8833);const R=l=>({$implicit:l});function S(l,n){1&l&&(e.j41(0,"div",12),e.nrm(1,"img",13),e.j41(2,"div",14),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&l&&(e.R7$(3),e.JRh(e.bMT(4,1,"DataNotFound")))}function L(l,n){if(1&l&&(e.j41(0,"div",8),e.eu8(1,15),e.k0s()),2&l){const i=n.$implicit;e.XpG();const a=e.sdS(25);e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(2,R,i))}}function z(l,n){if(1&l&&(e.j41(0,"div",8),e.eu8(1,15),e.k0s()),2&l){const i=n.$implicit;e.XpG();const a=e.sdS(27);e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(2,R,i))}}function U(l,n){if(1&l){const i=e.RV6();e.j41(0,"ion-infinite-scroll",16),e.bIt("ionInfinite",function(t){e.eBV(i);const r=e.XpG();return e.Njj(r.onIonInfinite(t))}),e.nrm(1,"ion-infinite-scroll-content"),e.k0s()}}function w(l,n){1&l&&(e.j41(0,"small",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI("(",e.bMT(2,1,"Default"),")"))}function H(l,n){if(1&l&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&l){const i=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"CarBrand")),e.R7$(4),e.JRh(i.CarBrand)}}function W(l,n){if(1&l&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&l){const i=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"ModelName")),e.R7$(4),e.JRh(i.ModelName)}}function K(l,n){if(1&l&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&l){const i=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"VehicleNumber")),e.R7$(4),e.JRh(i.VehicleNumber)}}function Q(l,n){if(1&l&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&l){const i=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"Vin")),e.R7$(4),e.JRh(i.Vin)}}function Z(l,n){if(1&l&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&l){const i=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"YearOfManufacture")),e.R7$(4),e.JRh(i.YearOfManufacture)}}function q(l,n){if(1&l&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&l){const i=e.XpG().$implicit,a=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"ExpiredDate")),e.R7$(4),e.JRh(a.APP_FUNC_FormatDate(i.ExpiredDate,"HH:mm, DD-MM-YYYY",!0))}}function ee(l,n){if(1&l&&(e.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"b",20),e.EFF(4),e.k0s(),e.DNE(5,w,3,3,"small",21),e.k0s()(),e.nrm(6,"hr",22),e.j41(7,"div",23)(8,"div",24),e.nrm(9,"ion-img",25),e.k0s(),e.j41(10,"table",26),e.DNE(11,H,7,4,"tr",27)(12,W,7,4,"tr",27)(13,K,7,4,"tr",27)(14,Q,7,4,"tr",27)(15,Z,7,4,"tr",27)(16,q,7,4,"tr",27),e.k0s()()()),2&l){const i=n.$implicit,a=e.XpG();e.R7$(4),e.JRh(i.VVehicleLevelName),e.R7$(),e.Y8G("ngIf",i.IsDefault),e.R7$(4),e.Y8G("src",a.getLogoUrl(i.LogoUrl)),e.R7$(2),e.Y8G("ngIf",i.CarBrand),e.R7$(),e.Y8G("ngIf",i.ModelName),e.R7$(),e.Y8G("ngIf",i.VehicleNumber),e.R7$(),e.Y8G("ngIf",i.Vin),e.R7$(),e.Y8G("ngIf",i.YearOfManufacture),e.R7$(),e.Y8G("ngIf",i.ExpiredDate)}}function ne(l,n){1&l&&(e.j41(0,"small",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI("(",e.bMT(2,1,"Default"),")"))}function te(l,n){if(1&l&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&l){const i=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"CarBrand")),e.R7$(4),e.JRh(i.CarBrand)}}function ae(l,n){if(1&l&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&l){const i=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"ModelName")),e.R7$(4),e.JRh(i.ModelName)}}function ie(l,n){if(1&l&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&l){const i=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"VehicleNumber")),e.R7$(4),e.JRh(i.VehicleNumber)}}function le(l,n){if(1&l&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&l){const i=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"Vin")),e.R7$(4),e.JRh(i.Vin)}}function re(l,n){if(1&l&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&l){const i=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,"YearOfManufacture")),e.R7$(4),e.JRh(i.YearOfManufacture)}}function oe(l,n){if(1&l){const i=e.RV6();e.j41(0,"div",29)(1,"div",18)(2,"div",19)(3,"b",20),e.EFF(4),e.k0s(),e.DNE(5,ne,3,3,"small",21),e.k0s(),e.j41(6,"div",30)(7,"ion-button",31),e.bIt("click",function(t){const r=e.eBV(i).$implicit,o=e.XpG();return e.Njj(o.presentModalAddVehicle(t,r.VehicleId))}),e.nrm(8,"ion-icon",32),e.k0s(),e.j41(9,"ion-button",33),e.bIt("click",function(t){const r=e.eBV(i).$implicit,o=e.XpG();return e.Njj(o.DeleteVehicle(t,r.VehicleId))}),e.nrm(10,"ion-icon",34),e.k0s()()(),e.nrm(11,"hr",22),e.j41(12,"div",23)(13,"div",24),e.nrm(14,"ion-img",25),e.k0s(),e.j41(15,"table",26),e.DNE(16,te,7,4,"tr",27)(17,ae,7,4,"tr",27)(18,ie,7,4,"tr",27)(19,le,7,4,"tr",27)(20,re,7,4,"tr",27),e.k0s()()()}if(2&l){const i=n.$implicit,a=e.XpG();e.R7$(4),e.JRh(i.CarName),e.R7$(),e.Y8G("ngIf",i.IsDefault),e.R7$(9),e.Y8G("src",a.getLogoUrl(i.LogoUrl)),e.R7$(2),e.Y8G("ngIf",i.CarBrand),e.R7$(),e.Y8G("ngIf",i.ModelName),e.R7$(),e.Y8G("ngIf",i.VehicleNumber),e.R7$(),e.Y8G("ngIf",i.Vin),e.R7$(),e.Y8G("ngIf",i.YearOfManufacture)}}const ce=[{path:"",component:(()=>{var l;class n{constructor(a,t,r,o){this.modalController=a,this.toastController=t,this.loadingController=r,this.animationController=o,this.APP_ROUTE=X._,this.APP_FUNC_FormatDate=J.Rv,this.paging={sortfield:null,sorttype:null,page:1,limit:10,loading:!1,active:!0},this.filter={},this.vehicles=[],this.vehicleVips=[],this.limitLoad=0}ngOnInit(){var a=this;(0,d.A)(function*(){(yield(0,B.kU)())&&a.refreshData()})()}onIonRefresher(a){this.filter={},this.refreshData(()=>{a.target.complete()})}onIonInfinite(a){this.loadMore(()=>{a.target.complete()})}pushData(a){1==this.paging.page&&(this.vehicles.length=0),this.vehicles=this.vehicles.concat(a)}refreshData(a){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit(a),Y({loadingController:this.loadingController,params:{PageNumber:this.paging.page,PageSize:this.paging.limit},callback:t=>{var r;null!=t&&t.Succeeded&&(this.vehicleVips=null!==(r=t.Data)&&void 0!==r?r:[])}})}loadMore(a){this.paging.page+=1,this.loadData_Paging_Limit(a)}searchChange(a){this.filter.search=a.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}sortChange(a,t){this.paging.sortfield=a||null,this.paging.sorttype=t||null,this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}loadData_Paging_Limit(a){var t=this;return(0,d.A)(function*(){if(t.limitLoad>0)return void(a&&a());t.limitLoad=300;let r=setInterval(()=>{t.limitLoad-=100,t.limitLoad<=0&&(clearInterval(r),t.loadData_Paging(a))},100)})()}loadData_Paging(a){var t=this;return(0,d.A)(function*(){t.paging.loading=!0,I({loadingController:t.loadingController,params:{PageNumber:t.paging.page,PageSize:t.paging.limit},callback:r=>{var o;t.response=r,null!=r&&r.Succeeded?t.pushData(null!==(o=r.Data)&&void 0!==o?o:[]):(0,f.cX)(t.toastController,{},r).then(s=>s.present()),t.paging.loading=!1,t.paging.active=!(null==r||!r.HasNextPage),a&&a()}})})()}presentModalAddVehicle(a,t){var r=this;return(0,d.A)(function*(){let o=yield r.modalController.create({component:A,componentProps:{VehicleId:t}});o.onDidDismiss().then(s=>{"success"==s.role&&r.refreshData()}),o.present()})()}DeleteVehicle(a,t){var r=this;return(0,d.A)(function*(){t&&(0,f.Yy)(r.modalController,r.animationController,{selectedId:t,message:{TitleConfirm:"Delete_Confirm",TextConfirm:"Delete"},fnConfirm:o=>{y({loadingController:r.loadingController,params:{VehicleId:o},callback:s=>{null!=s&&s.Succeeded?r.refreshData():(0,f.cX)(r.toastController,{},s).then(u=>u.present())}})}})})()}getLogoUrl(a){return!a||a.match(/^http(s)\:\/\//)?null!=a?a:"assets/image/favicon.svg":M.c.readfile_url+a.replace(/^\//,"")}}return(l=n).\u0275fac=function(a){return new(a||l)(e.rXU(c.W3),e.rXU(c.K_),e.rXU(c.Xi),e.rXU(c.Hx))},l.\u0275cmp=e.VBU({type:l,selectors:[["app-vehicle"]],decls:28,vars:9,consts:[["templateVehicleVip",""],["templateVehicle",""],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],["class","container py-5 text-center",4,"ngIf"],[1,"container"],[1,"row","align-items-stretch"],[1,"col-12","col-lg-6","mb-3"],[3,"ionInfinite",4,"ngIf"],[1,"container","py-3"],["color","primary","expand","block","shape","round",3,"click"],[1,"container","py-5","text-center"],["src","../../../assets/image/default/no-info.svg"],[1,"text-muted","mt-4"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ionInfinite"],[1,"card-vehicle-vip","rounded","h-100"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-ellipsis"],[1,"mr-1"],["class","text-primary d-inline-block",4,"ngIf"],[1,"mt-2","mb-3"],[1,"d-flex","align-items-start"],[1,"pr-2"],[3,"src"],[1,"table","table-borderless","m-0"],[4,"ngIf"],[1,"text-primary","d-inline-block"],[1,"card-vehicle","rounded","bg-white","border","h-100"],[1,"text-nowrap"],["size","small","color","medium","fill","clear",3,"click"],["src","../../../assets/icon/ion-icon/edit.svg",1,"fs-4"],["size","small","color","danger","fill","clear",3,"click"],["name","close-outline",1,"fs-5"]],template:function(a,t){if(1&a){const r=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",2),e.nrm(3,"ion-back-button",3),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-content")(8,"ion-refresher",4),e.bIt("ionRefresh",function(s){return e.eBV(r),e.Njj(t.onIonRefresher(s))}),e.nrm(9,"ion-refresher-content"),e.k0s(),e.DNE(10,S,5,3,"div",5),e.j41(11,"div",6)(12,"div",7),e.Z7z(13,L,2,4,"div",8,e.fX1),e.Z7z(15,z,2,4,"div",8,e.fX1),e.k0s()(),e.DNE(17,U,2,0,"ion-infinite-scroll",9),e.k0s(),e.j41(18,"ion-footer")(19,"div",10)(20,"ion-button",11),e.bIt("click",function(s){return e.eBV(r),e.Njj(t.presentModalAddVehicle(s))}),e.j41(21,"ion-label"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()(),e.DNE(24,ee,17,9,"ng-template",null,0,e.C5r)(26,oe,21,8,"ng-template",null,1,e.C5r)}2&a&&(e.R7$(3),e.Y8G("defaultHref",t.APP_ROUTE.USER),e.R7$(2),e.JRh(e.bMT(6,5,"Vehicle")),e.R7$(5),e.Y8G("ngIf",t.response&&!t.vehicles.length),e.R7$(3),e.Dyx(t.vehicleVips),e.R7$(2),e.Dyx(t.vehicles),e.R7$(2),e.Y8G("ngIf",t.paging.active),e.R7$(5),e.JRh(e.bMT(23,7,"NewVehicle")))},dependencies:[_.bT,_.T3,c.Jm,c.QW,c.W9,c.M0,c.eU,c.iq,c.KW,c.Ax,c.Hp,c.he,c.To,c.Ki,c.BC,c.ai,c.el,V.D9],styles:[".card-vehicle[_ngcontent-%COMP%]{padding:1rem}.card-vehicle.rounded[_ngcontent-%COMP%]{border-radius:1.5rem!important}.card-vehicle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important}.card-vehicle[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2rem;height:2rem;min-width:2rem;min-height:2rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-radius: .5rem}.card-vehicle[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:3rem}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;vertical-align:top}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;color:var(--ion-color-medium-shade)}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}.card-vehicle-vip[_ngcontent-%COMP%]{background:url(card-vip.6b629719e1df315e.svg) no-repeat;background-size:100% auto;background-position:center center;color:#fff;padding:1rem}.card-vehicle-vip.rounded[_ngcontent-%COMP%]{border-radius:1.5rem!important}.card-vehicle-vip[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important;border-color:#999}.card-vehicle-vip[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2rem;height:2rem;min-width:2rem;min-height:2rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-radius: .5rem}.card-vehicle-vip[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:3rem}.card-vehicle-vip[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem;color:inherit}.card-vehicle-vip[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;vertical-align:top}.card-vehicle-vip[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem}.card-vehicle-vip[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}"]}),n})()}];let se=(()=>{var l;class n{}return(l=n).\u0275fac=function(a){return new(a||l)},l.\u0275mod=e.$C({type:l}),l.\u0275inj=e.G2t({imports:[C.iI.forChild(ce),C.iI]}),n})();var de=m(3890);let ue=(()=>{var l;class n{}return(l=n).\u0275fac=function(a){return new(a||l)},l.\u0275mod=e.$C({type:l}),l.\u0275inj=e.G2t({imports:[_.MD,k.YN,c.bv,se,de.x]}),n})()}}]);