"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5214],{6043:(E,p,g)=>{g.d(p,{V:()=>R,j:()=>c});var m=g(467),f=g(5972);const c=function(){var C=(0,m.A)(function*(l){l.params=l.params||{},(0,f.hm)({url:`api/ChargingConnector/get-byqr/${l.params.QrCode}`,success:s=>{"function"==typeof l.callback&&l.callback(s.data||null)},error:s=>{var h;"function"==typeof l.callback&&l.callback(null==s||null===(h=s.response)||void 0===h?void 0:h.data),console.error(s)},loading:l.loading})});return function(s){return C.apply(this,arguments)}}(),R=function(){var C=(0,m.A)(function*(l){l.params=l.params||{},(0,f.hm)({url:`api/ChargingConnector/get-byid/${l.params.ChargeConnectorId}`,success:s=>{"function"==typeof l.callback&&l.callback(s.data||null)},error:s=>{var h;"function"==typeof l.callback&&l.callback(null==s||null===(h=s.response)||void 0===h?void 0:h.data),console.error(s)},loading:l.loading})});return function(s){return C.apply(this,arguments)}}()},5214:(E,p,g)=>{g.r(p),g.d(p,{ChargingReservationDetailPageModule:()=>$});var m=g(177),f=g(9417),c=g(7896),R=g(7625),C=g(467),l=g(6043),s=g(1278),h=g(6539),b=g(8517),_=g(8344),F=g(8833),n=g(4438),P=g(4842);function D(a,d){if(1&a&&(n.j41(0,"div",21)(1,"div")(2,"div",22)(3,"h6",23)(4,"b"),n.EFF(5),n.nI1(6,"translate"),n.k0s()(),n.nrm(7,"hr",24),n.j41(8,"div")(9,"ion-text",25)(10,"b"),n.EFF(11),n.k0s()()()()(),n.j41(12,"div",26)(13,"div",22)(14,"h6",23)(15,"b"),n.EFF(16),n.nI1(17,"translate"),n.k0s()(),n.nrm(18,"hr",24),n.j41(19,"div")(20,"table")(21,"tbody")(22,"tr")(23,"td"),n.EFF(24,"Ng\xe0y"),n.k0s(),n.j41(25,"td"),n.EFF(26),n.k0s()(),n.j41(27,"tr")(28,"td"),n.EFF(29,"B\u1eaft \u0111\u1ea7u"),n.k0s(),n.j41(30,"td"),n.EFF(31),n.k0s()(),n.j41(32,"tr")(33,"td"),n.EFF(34,"K\u1ebft th\xfac"),n.k0s(),n.j41(35,"td"),n.EFF(36),n.k0s()()()()()()()()),2&a){const t=n.XpG(2);n.R7$(5),n.JRh(n.bMT(6,7,"Status")),n.R7$(4),n.Y8G("color","Scheduled"==t.chargingReservation.StatusName?"tertiary":"Cancelled"==t.chargingReservation.StatusName?"danger":""),n.R7$(2),n.JRh(t.chargingReservation.StatusDescription),n.R7$(5),n.JRh(n.bMT(17,9,"ApplyDate")),n.R7$(10),n.JRh(t.chargingReservation.ApplyDate),n.R7$(5),n.JRh(t.chargingReservation.ApplyTimeStart),n.R7$(5),n.JRh(t.chargingReservation.ApplyTimeEnd)}}function M(a,d){if(1&a&&(n.j41(0,"div",21)(1,"div",22)(2,"h6",23)(3,"b"),n.EFF(4),n.nI1(5,"translate"),n.k0s()(),n.nrm(6,"hr",24),n.j41(7,"div")(8,"b",27),n.EFF(9),n.k0s()()()()),2&a){const t=n.XpG(2);n.R7$(4),n.JRh(n.bMT(5,2,"CreatedDate")),n.R7$(5),n.JRh(t.APP_FUNC_FormatDate(t.chargingReservation.CreatedDate))}}function I(a,d){if(1&a){const t=n.RV6();n.j41(0,"div",28)(1,"h4",29),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"div",30),n.EFF(5,'R\u1ea5t ti\u1ebfc, v\xec b\u1ea1n ch\u1ecdn h\u1ee7y l\u1ecbch \u0111\u1eb7t ch\u1ed7 tr\xean iSAC, vui l\xf2ng \u0111\u1ecdc k\u0129 c\xe1c \u0111i\u1ec1u kho\u1ea3n b\xean d\u01b0\u1edbi c\u1ee7a ch\xfang t\xf4i tr\u01b0\u1edbc khi "X\xe1c nh\u1eadn" l\u1ef1a ch\u1ecdn c\u1ee7a b\u1ea1n.'),n.k0s(),n.j41(6,"div",31)(7,"div"),n.EFF(8,"Xin l\u01b0u \xfd:"),n.k0s(),n.j41(9,"ul",32)(10,"li"),n.EFF(11,"H\u1ee7y \u0111\u1eb7t ch\u1ed7 tr\u01b0\u1edbc 3 gi\u1edd: ho\xe0n 100% ph\xed"),n.k0s(),n.j41(12,"li"),n.EFF(13,"H\u1ee7y \u0111\u1eb7t ch\u1ed7 sau 3 gi\u1edd: ho\xe0n 50% ph\xed."),n.k0s()()(),n.j41(14,"div",33)(15,"div",34)(16,"ion-button",35),n.bIt("click",function(){n.eBV(t),n.XpG();const i=n.sdS(37);return n.Njj(null==i?null:i.dismiss())}),n.EFF(17),n.nI1(18,"translate"),n.k0s()(),n.j41(19,"div",36)(20,"ion-button",37),n.bIt("click",function(i){n.eBV(t),n.XpG();const r=n.sdS(37),o=n.XpG();return null==r||r.dismiss(),n.Njj(o.submitCancleReserve(i))}),n.EFF(21),n.nI1(22,"translate"),n.k0s()()()()}2&a&&(n.R7$(2),n.JRh(n.bMT(3,3,"CancleReserve_Confirm")),n.R7$(15),n.JRh(n.bMT(18,5,"Cancel")),n.R7$(4),n.JRh(n.bMT(22,7,"Confirm")))}function k(a,d){1&a&&(n.qex(0),n.j41(1,"div",38)(2,"ion-button",39)(3,"ion-label"),n.EFF(4),n.nI1(5,"translate"),n.k0s()()(),n.bVm()),2&a&&(n.R7$(4),n.JRh(n.bMT(5,1,"CancleReserve")))}function y(a,d){if(1&a&&(n.qex(0),n.j41(1,"div",38)(2,"ion-button",40)(3,"ion-label"),n.EFF(4),n.k0s()()(),n.bVm()),2&a){const t=n.XpG(2);n.R7$(4),n.JRh(null==t.chargingReservation?null:t.chargingReservation.StatusDescription)}}function j(a,d){if(1&a){const t=n.RV6();n.qex(0),n.j41(1,"ion-content")(2,"ion-refresher",4),n.bIt("ionRefresh",function(i){n.eBV(t);const r=n.XpG();return n.Njj(r.onIonRefresher(i))}),n.nrm(3,"ion-refresher-content"),n.k0s(),n.j41(4,"div",5)(5,"div",6)(6,"div",7)(7,"div")(8,"ion-thumbnail"),n.nrm(9,"img",8),n.k0s()(),n.j41(10,"div",9)(11,"h5",10),n.nrm(12,"ion-icon",11),n.j41(13,"span",12),n.EFF(14),n.k0s()(),n.j41(15,"div")(16,"small"),n.EFF(17),n.k0s()()()()(),n.j41(18,"div",13)(19,"div",14)(20,"b"),n.EFF(21),n.nI1(22,"translate"),n.k0s()(),n.j41(23,"div",15)(24,"div"),n.nrm(25,"ion-img",16),n.k0s(),n.j41(26,"div",9)(27,"div",10)(28,"b"),n.EFF(29),n.nI1(30,"translate"),n.k0s()(),n.j41(31,"div")(32,"small"),n.EFF(33),n.k0s()()()()()(),n.DNE(34,D,37,11,"div",17)(35,M,10,4,"div",17),n.j41(36,"ion-modal",18,0),n.DNE(38,I,23,9,"ng-template"),n.k0s()(),n.j41(39,"ion-footer"),n.qex(40,19),n.DNE(41,k,6,3,"ng-container",20)(42,y,5,1,"ng-container",20),n.bVm(),n.k0s(),n.bVm()}if(2&a){const t=n.XpG();n.R7$(9),n.Y8G("src",t.getLocImage(t.chargingLocation),n.B4B),n.R7$(5),n.JRh(null==t.chargingLocation?null:t.chargingLocation.LocName),n.R7$(3),n.SpI("ID: ",null==t.chargingStation?null:t.chargingStation.StationCode,""),n.R7$(4),n.JRh(n.bMT(22,13,"Connector")),n.R7$(8),n.Lme("",n.bMT(30,15,"ConnectorNum")," ",null==t.chargingConnector?null:t.chargingConnector.ConnectorId,""),n.R7$(4),n.Lme("ID: ",null==t.chargingStation?null:t.chargingStation.StationCode,"",null==t.chargingConnector?null:t.chargingConnector.ConnectorId,""),n.R7$(),n.Y8G("ngIf",t.chargingReservation),n.R7$(),n.Y8G("ngIf",t.chargingReservation),n.R7$(5),n.Y8G("ngSwitch",null==t.chargingReservation?null:t.chargingReservation.StatusName),n.R7$(),n.Y8G("ngSwitchCase","Scheduled"),n.R7$(),n.Y8G("ngSwitchCase","Cancelled")}}const O=[{path:"",component:(()=>{var a;class d{get chargingStation(){var e;return null===(e=this.chargingConnector)||void 0===e?void 0:e.ChargingStation}get chargingLocation(){var e;return null===(e=this.chargingConnector)||void 0===e?void 0:e.ChargingLocation}constructor(e,i,r){var o;this.activatedRoute=e,this.toastController=i,this.loadingController=r,this.APP_ROUTE=F._,this.APP_FUNC_FormatDate=b.Rv,this.loadingController.create({message:""}).then(v=>this.loading=v);let u=null!==(o=e.snapshot.params.id)&&void 0!==o?o:"";u&&(this.ChargeReservationId=parseFloat(u))}ngOnInit(){var e=this;(0,C.A)(function*(){(yield(0,h.kU)())&&e.refreshData()})()}onIonRefresher(e){this.refreshData(()=>{e.target.complete()})}refreshData(e){this.ChargeReservationId&&(0,s._m)({loading:i=>{var r,o;i?null===(r=this.loading)||void 0===r||r.present():null===(o=this.loading)||void 0===o||o.dismiss()},params:{ChargeReservationId:this.ChargeReservationId},callback:i=>{this.response=i,null!=i&&i.Succeeded?(this.chargingReservation=i.Data,this.GetChargingConnector()):(0,_.cX)(this.toastController,{},i).then(r=>r.present()),e&&e()}})}GetChargingConnector(){var e=this;return(0,C.A)(function*(){var i,r;null!==(i=e.chargingReservation)&&void 0!==i&&i.ChargeConnectorId&&(0,l.V)({params:{ChargeConnectorId:null===(r=e.chargingReservation)||void 0===r?void 0:r.ChargeConnectorId},callback:o=>{null!=o&&o.Succeeded?e.chargingConnector=o.Data:(0,_.cX)(e.toastController,{},o).then(u=>u.present())}})})()}getLocImage(e){var i;if((null==e||!e.LocImage)&&null!=e&&e.LocImages)if("string"==typeof e.LocImages){var r,o;e.LocImage=(null!==(r=(null!==(o=JSON.parse(e.LocImages))&&void 0!==o?o:[])[0])&&void 0!==r?r:{}).imageurl}else{var u,v;e.LocImage=(null!==(u=(null!==(v=e.LocImages)&&void 0!==v?v:[])[0])&&void 0!==u?u:{}).imageurl}return null!==(i=null==e?void 0:e.LocImage)&&void 0!==i?i:"assets/image/favicon.svg"}submitCancleReserve(e){var i=this;return(0,C.A)(function*(){var r;(0,s.Ux)({loading:o=>{var u,v;o?null===(u=i.loading)||void 0===u||u.present():null===(v=i.loading)||void 0===v||v.dismiss()},params:{ChargeReservationId:null===(r=i.chargingReservation)||void 0===r?void 0:r.ChargeReservationId},callback:o=>{null!=o&&o.Succeeded?i.refreshData():(0,_.cX)(i.toastController,{},o).then(u=>u.present())}})})()}}return(a=d).\u0275fac=function(e){return new(e||a)(n.rXU(R.nX),n.rXU(c.K_),n.rXU(c.Xi))},a.\u0275cmp=n.VBU({type:a,selectors:[["app-charging-reservation-detail"]],decls:8,vars:5,consts:[["modalCancleReserve",""],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],[4,"ngIf"],["slot","fixed",3,"ionRefresh"],[1,"container","px-0","mb-4"],[1,"card-station","rounded","bg-primary","text-white"],[1,"d-flex","align-items-center"],[3,"src"],[1,"pl-3"],[1,"d-flex","align-items-center","my-0"],["color","light","src","../../../assets/icon/ion-icon/changing-station.svg"],[1,"ml-2"],[1,"card-connector","rounded","bg-white"],[1,"mb-2"],[1,"d-flex","align-items-center","bg-secondary","rounded","p-3"],["src","../../../assets/icon/ion-img/changing-connector.svg"],["class","container mb-4",4,"ngIf"],["trigger","click-trigger-modal-cancel-reservation",1,"ion-modal-small"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"container","mb-4"],[1,"card-day","rounded","bg-white","p-3"],[1,"m-0"],[1,"border-dashed"],[3,"color"],[1,"mt-4"],[1,"text-medium"],[1,"p-4"],[1,"mt-0","mb-4"],[1,"fs-14"],[1,"fs-12","mt-2"],[1,"pl-3","my-0"],[1,"d-flex","mt-4"],[1,"w-50","pr-1"],["fill","outline","color","medium","expand","block","shape","round",3,"click"],[1,"w-50","pl-1"],["color","danger","expand","block","shape","round",3,"click"],[1,"container","py-3"],["color","danger","expand","block","shape","round","id","click-trigger-modal-cancel-reservation"],["color","medium","expand","block","shape","round"]],template:function(e,i){1&e&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),n.nrm(3,"ion-back-button",2),n.k0s(),n.j41(4,"ion-title"),n.EFF(5),n.nI1(6,"translate"),n.k0s()()(),n.DNE(7,j,43,17,"ng-container",3)),2&e&&(n.R7$(3),n.Y8G("defaultHref",i.APP_ROUTE.TABS_DEFAULT),n.R7$(2),n.JRh(n.bMT(6,3,"ChargingReservation")),n.R7$(2),n.Y8G("ngIf",null==i.response?null:i.response.Succeeded))},dependencies:[m.bT,m.ux,m.e1,c.Jm,c.QW,c.W9,c.M0,c.eU,c.iq,c.KW,c.he,c.To,c.Ki,c.IO,c.Zx,c.BC,c.ai,c.Sb,c.el,P.D9],styles:[".card-day.rounded[_ngcontent-%COMP%], .card-day.rounded[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-day[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}.card-day[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;vertical-align:top}.card-day[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;font-size:.875rem;color:var(--ion-color-medium-shade)}.card-day[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   b[_ngcontent-%COMP%]{color:var(--ion-color-dark)}.card-day[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.card-station[_ngcontent-%COMP%]{padding:1rem 1rem 2.5rem}.card-station.rounded[_ngcontent-%COMP%]{border-top-left-radius:1.5rem!important;border-top-right-radius:1.5rem!important}.card-station[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 5rem;--border-radius: .5rem;border:1px solid var(--ion-color-light)}.card-connector[_ngcontent-%COMP%]{padding:1rem;margin-top:-1.5rem}.card-connector.rounded[_ngcontent-%COMP%]{border-top-left-radius:1.5rem!important;border-top-right-radius:1.5rem!important}.card-connector[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-connector[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:2rem}.card-connector[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 2.5rem;--border-radius: .25rem}"]}),d})()}];let x=(()=>{var a;class d{}return(a=d).\u0275fac=function(e){return new(e||a)},a.\u0275mod=n.$C({type:a}),a.\u0275inj=n.G2t({imports:[R.iI.forChild(O),R.iI]}),d})();var T=g(3890);let $=(()=>{var a;class d{}return(a=d).\u0275fac=function(e){return new(e||a)},a.\u0275mod=n.$C({type:a}),a.\u0275inj=n.G2t({imports:[m.MD,f.YN,c.bv,x,T.x]}),d})()}}]);