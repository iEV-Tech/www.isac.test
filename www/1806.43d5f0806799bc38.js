"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1806],{5970:(b,f,v)=>{v.d(f,{$J:()=>e,NT:()=>c,Ul:()=>h,Wu:()=>_,kT:()=>I});var d=v(467),C=v(5972);const _=function(){var p=(0,d.A)(function*(a){var i,r,s,t,n,o,l;a.params=a.params||{},(0,C.Ll)({url:"api/CustomerInvoice/create",params:{IsCompany:null!==(i=a.params.IsCompany)&&void 0!==i?i:null,TaxCode:null!==(r=a.params.TaxCode)&&void 0!==r?r:null,CompanyName:null!==(s=a.params.CompanyName)&&void 0!==s?s:null,Address:null!==(t=a.params.Address)&&void 0!==t?t:null,BuyerPhone:null!==(n=a.params.BuyerPhone)&&void 0!==n?n:null,BuyerEmail:null!==(o=a.params.BuyerEmail)&&void 0!==o?o:null,IsDefault:null!==(l=a.params.IsDefault)&&void 0!==l?l:null},success:u=>{"function"==typeof a.callback&&a.callback(u.data||null)},error:u=>{var m;"function"==typeof a.callback&&a.callback(null==u||null===(m=u.response)||void 0===m?void 0:m.data),console.error(u)},loading:a.loading})});return function(i){return p.apply(this,arguments)}}(),h=function(){var p=(0,d.A)(function*(a){var i,r;a.params=a.params||{},(0,C.hm)({url:"api/CustomerInvoice/get-customerinvoices",params:{PageNumber:null!==(i=a.params.PageNumber)&&void 0!==i?i:1,PageSize:null!==(r=a.params.PageSize)&&void 0!==r?r:10},success:s=>{"function"==typeof a.callback&&a.callback(s.data||null)},error:s=>{var t;"function"==typeof a.callback&&a.callback(null==s||null===(t=s.response)||void 0===t?void 0:t.data),console.error(s)},loading:a.loading})});return function(i){return p.apply(this,arguments)}}(),I=function(){var p=(0,d.A)(function*(a){a.params=a.params||{},(0,C.hm)({url:`api/CustomerInvoice/get/${a.params.CustomerInvoiceId}`,success:i=>{"function"==typeof a.callback&&a.callback(i.data||null)},error:i=>{var r;"function"==typeof a.callback&&a.callback(null==i||null===(r=i.response)||void 0===r?void 0:r.data),console.error(i)},loading:a.loading})});return function(i){return p.apply(this,arguments)}}(),e=function(){var p=(0,d.A)(function*(a){var i,r,s,t,n,o,l,u;a.params=a.params||{},(0,C.IH)({url:"api/CustomerInvoice/update",params:{CustomerInvoiceId:null!==(i=a.params.CustomerInvoiceId)&&void 0!==i?i:null,IsCompany:null!==(r=a.params.IsCompany)&&void 0!==r?r:null,TaxCode:null!==(s=a.params.TaxCode)&&void 0!==s?s:null,CompanyName:null!==(t=a.params.CompanyName)&&void 0!==t?t:null,Address:null!==(n=a.params.Address)&&void 0!==n?n:null,BuyerPhone:null!==(o=a.params.BuyerPhone)&&void 0!==o?o:null,BuyerEmail:null!==(l=a.params.BuyerEmail)&&void 0!==l?l:null,IsDefault:null!==(u=a.params.IsDefault)&&void 0!==u?u:null},success:m=>{"function"==typeof a.callback&&a.callback(m.data||null)},error:m=>{var g;"function"==typeof a.callback&&a.callback(null==m||null===(g=m.response)||void 0===g?void 0:g.data),console.error(m)},loading:a.loading})});return function(i){return p.apply(this,arguments)}}(),c=function(){var p=(0,d.A)(function*(a){a.params=a.params||{},(0,C.sj)({url:`api/CustomerInvoice/delete/${a.params.CustomerInvoiceId}`,params:{},success:i=>{"function"==typeof a.callback&&a.callback(i.data||null)},error:i=>{var r;"function"==typeof a.callback&&a.callback(null==i||null===(r=i.response)||void 0===r?void 0:r.data),console.error(i)},loading:a.loading})});return function(i){return p.apply(this,arguments)}}()},1806:(b,f,v)=>{v.d(f,{$:()=>a});var d=v(467),C=v(5972);const _=function(){var i=(0,d.A)(function*(r){r.params=r.params||{},(0,C.hm)({url:`api/CompanyLookup/get/${r.params.TaxCode}`,success:s=>{"function"==typeof r.callback&&r.callback(s.data||null)},error:s=>{var t;"function"==typeof r.callback&&r.callback(null==s||null===(t=s.response)||void 0===t?void 0:t.data),console.error(s)},loading:r.loading})});return function(s){return i.apply(this,arguments)}}();var h=v(5970),I=v(8344),e=v(4438),c=v(7896),p=v(4842);let a=(()=>{var i;class r{constructor(t,n,o){this.modalController=t,this.loadingController=n,this.toastController=o,this.customerInvoice={IsCompany:!0},this.loadingController.create({message:""}).then(l=>this.loading=l)}ngOnInit(){this.refreshData()}onIonRefresher(t){this.refreshData(()=>{t.target.complete()})}refreshData(t){this.CustomerInvoiceId?(0,h.kT)({loading:n=>{var o,l;n?null===(o=this.loading)||void 0===o||o.present():null===(l=this.loading)||void 0===l||l.dismiss()},params:{CustomerInvoiceId:this.CustomerInvoiceId},callback:n=>{var o;this.response=n,null!=n&&n.Succeeded?this.customerInvoice=null!==(o=n.Data)&&void 0!==o?o:{}:(0,I.cX)(this.toastController,{},n).then(l=>l.present()),t&&t()}}):t&&t()}close(t){var n=this;return(0,d.A)(function*(){n.modalController.dismiss(null,"cancel")})()}submit(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.CustomerInvoiceId?(0,h.$J)({loading:o=>{var l,u;o?null===(l=n.loading)||void 0===l||l.present():null===(u=n.loading)||void 0===u||u.dismiss()},params:n.customerInvoice,callback:o=>{n.response=o,null!=o&&o.Succeeded?n.modalController.dismiss(null,"success"):(0,I.cX)(n.toastController,{},o).then(l=>l.present())}}):(0,h.Wu)({loading:o=>{var l,u;o?null===(l=n.loading)||void 0===l||l.present():null===(u=n.loading)||void 0===u||u.dismiss()},params:n.customerInvoice,callback:o=>{n.response=o,null!=o&&o.Succeeded?n.modalController.dismiss(null,"success"):(0,I.cX)(n.toastController,{},o).then(l=>l.present())}})})()}changeBuyerPhone(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.BuyerPhone=t.detail.value})()}changeBuyerEmail(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.BuyerEmail=t.detail.value})()}changeCompanyName(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.CompanyName=t.detail.value})()}changeAddress(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.Address=t.detail.value})()}changeTaxCode(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.TaxCode=t.detail.value,_({params:{TaxCode:n.customerInvoice.TaxCode},callback:o=>{if(null!=o&&o.Succeeded){let m=null==o?void 0:o.Data;var l,u;m&&(n.customerInvoice.CompanyName=null!==(l=m.Name)&&void 0!==l?l:n.customerInvoice.CompanyName,n.customerInvoice.Address=null!==(u=m.Address)&&void 0!==u?u:n.customerInvoice.Address)}}})})()}changeIsDefault(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.IsDefault=t.detail.checked})()}}return(i=r).\u0275fac=function(t){return new(t||i)(e.rXU(c.W3),e.rXU(c.Xi),e.rXU(c.K_))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-modal-add-customer-invoice"]],inputs:{CustomerInvoiceId:"CustomerInvoiceId"},decls:76,vars:48,consts:[["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],["slot","fixed",3,"ionRefresh"],[1,"card-info","bg-white","container","py-3","min-h-100"],[1,"text-center","mb-3"],[1,"text-muted"],["lines","none"],[1,"form-group"],[1,"text-danger"],[1,"ion-item-input"],[3,"ionChange","placeholder","value"],[1,"row"],["labelPlacement","end","justify","start",3,"ionChange","checked"],[1,"p-3"],["color","primary","shape","round","expand","block",3,"click"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(l){return n.close(l)}),e.nrm(4,"ion-icon",2),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"ion-content")(9,"ion-refresher",3),e.bIt("ionRefresh",function(l){return n.onIonRefresher(l)}),e.nrm(10,"ion-refresher-content"),e.k0s(),e.j41(11,"div",4)(12,"div",5)(13,"small",6),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"ion-list",7)(17,"div",8)(18,"label"),e.EFF(19),e.nI1(20,"translate"),e.j41(21,"span",9),e.EFF(22,"*"),e.k0s()(),e.j41(23,"div",10)(24,"ion-item")(25,"ion-input",11),e.nI1(26,"translate"),e.bIt("ionChange",function(l){return n.changeTaxCode(l)}),e.k0s()()()(),e.j41(27,"div",8)(28,"label"),e.EFF(29),e.nI1(30,"translate"),e.j41(31,"span",9),e.EFF(32,"*"),e.k0s()(),e.j41(33,"div",10)(34,"ion-item")(35,"ion-input",11),e.nI1(36,"translate"),e.bIt("ionChange",function(l){return n.changeCompanyName(l)}),e.k0s()()()(),e.j41(37,"div",8)(38,"label"),e.EFF(39),e.nI1(40,"translate"),e.j41(41,"span",9),e.EFF(42,"*"),e.k0s()(),e.j41(43,"div",10)(44,"ion-item")(45,"ion-input",11),e.nI1(46,"translate"),e.bIt("ionChange",function(l){return n.changeAddress(l)}),e.k0s()()()(),e.j41(47,"div",8)(48,"label"),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.j41(51,"div",10)(52,"ion-item")(53,"ion-input",11),e.nI1(54,"translate"),e.bIt("ionChange",function(l){return n.changeBuyerEmail(l)}),e.k0s()()()(),e.j41(55,"div",8)(56,"label"),e.EFF(57),e.nI1(58,"translate"),e.k0s(),e.j41(59,"div",10)(60,"ion-item")(61,"ion-input",11),e.nI1(62,"translate"),e.bIt("ionChange",function(l){return n.changeBuyerPhone(l)}),e.k0s()()()(),e.j41(63,"div",8)(64,"div",12)(65,"ion-item")(66,"ion-checkbox",13),e.bIt("ionChange",function(l){return n.changeIsDefault(l)}),e.j41(67,"small")(68,"b"),e.EFF(69),e.nI1(70,"translate"),e.k0s()()()()()()()()(),e.j41(71,"ion-footer")(72,"div",14)(73,"ion-button",15),e.bIt("click",function(l){return n.submit(l)}),e.EFF(74),e.nI1(75,"translate"),e.k0s()()()),2&t&&(e.R7$(6),e.JRh(e.bMT(7,20,"CustomerInvoice")),e.R7$(8),e.JRh(e.bMT(15,22,"CustomerInvoiceDescription")),e.R7$(5),e.SpI("",e.bMT(20,24,"BillCompanyTax")," "),e.R7$(6),e.FS9("placeholder",e.bMT(26,26,"BillCompanyTax")),e.Y8G("value",n.customerInvoice.TaxCode),e.R7$(4),e.SpI("",e.bMT(30,28,"BillCompanyName")," "),e.R7$(6),e.FS9("placeholder",e.bMT(36,30,"BillCompanyName")),e.Y8G("value",n.customerInvoice.CompanyName),e.R7$(4),e.SpI("",e.bMT(40,32,"BillCompanyAddress")," "),e.R7$(6),e.FS9("placeholder",e.bMT(46,34,"BillCompanyAddress")),e.Y8G("value",n.customerInvoice.Address),e.R7$(4),e.JRh(e.bMT(50,36,"Email")),e.R7$(4),e.FS9("placeholder",e.bMT(54,38,"Email")),e.Y8G("value",n.customerInvoice.BuyerEmail),e.R7$(4),e.JRh(e.bMT(58,40,"Mobile")),e.R7$(4),e.FS9("placeholder",e.bMT(62,42,"Mobile")),e.Y8G("value",n.customerInvoice.BuyerPhone),e.R7$(5),e.Y8G("checked",!!n.customerInvoice.IsDefault),e.R7$(3),e.JRh(e.bMT(70,44,"CustomerInvoiceDefault")),e.R7$(5),e.JRh(e.bMT(75,46,"Save")))},dependencies:[c.Jm,c.QW,c.eY,c.W9,c.M0,c.eU,c.iq,c.$w,c.uz,c.nf,c.To,c.Ki,c.BC,c.ai,c.hB,c.Gw,p.D9],styles:["ion-list[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}ion-list[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:.25rem;border:2px solid var(--ion-color-primary)}.card-info[_ngcontent-%COMP%]{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}"]}),r})()}}]);