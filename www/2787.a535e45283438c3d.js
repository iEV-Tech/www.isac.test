"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2787],{5454:(Y,j,d)=>{d.d(j,{K5:()=>q,X1:()=>u,fy:()=>v,nY:()=>k});var $=d(467),E=d(5972);const u=function(){var P=(0,$.A)(function*(l){var p,R,h,b,m,C,e,y,M,F,x;l.params=l.params||{},(0,E.Ll)({url:"api/RequestService/create",params:{ServiceId:null!==(p=l.params.ServiceId)&&void 0!==p?p:null,ChargePackageId:null!==(R=l.params.ChargePackageId)&&void 0!==R?R:null,RequestAddress:null!==(h=l.params.RequestAddress)&&void 0!==h?h:null,RequestLat:null!==(b=l.params.RequestLat)&&void 0!==b?b:null,RequestLong:null!==(m=l.params.RequestLong)&&void 0!==m?m:null,DestAddress:null!==(C=l.params.DestAddress)&&void 0!==C?C:null,DestLat:null!==(e=l.params.DestLat)&&void 0!==e?e:null,DestLong:null!==(y=l.params.DestLong)&&void 0!==y?y:null,ExecutionDateAsString:null!==(M=l.params.ExecutionDate)&&void 0!==M?M:null,ExecutionTimeAsString:null!==(F=l.params.ExecutionTime)&&void 0!==F?F:null,Notes:null!==(x=l.params.Notes)&&void 0!==x?x:null},success:S=>{"function"==typeof l.callback&&l.callback(S.data||null)},error:S=>{var A;"function"==typeof l.callback&&l.callback(null==S||null===(A=S.response)||void 0===A?void 0:A.data),console.error(S)},loading:l.loading,loadingController:l.loadingController})});return function(p){return P.apply(this,arguments)}}(),k=function(){var P=(0,$.A)(function*(l){var p,R;l.params=l.params||{},(0,E.Ll)({url:"api/RequestService/cancel",params:{RequestServiceId:null!==(p=l.params.RequestServiceId)&&void 0!==p?p:null,CancelReason:null!==(R=l.params.CancelReason)&&void 0!==R?R:null},success:h=>{"function"==typeof l.callback&&l.callback(h.data||null)},error:h=>{var b;"function"==typeof l.callback&&l.callback(null==h||null===(b=h.response)||void 0===b?void 0:b.data),console.error(h)},loading:l.loading,loadingController:l.loadingController})});return function(p){return P.apply(this,arguments)}}(),v=function(){var P=(0,$.A)(function*(l){var p,R,h,b;l.params=l.params||{},(0,E.hm)({url:"api/RequestService/get-myhistory",params:{VRequestStatus:null!==(p=l.params.VRequestStatus)&&void 0!==p?p:null,VRequestStatusMulti:null!==(R=l.params.VRequestStatusMulti)&&void 0!==R?R:null,PageNumber:null!==(h=l.params.PageNumber)&&void 0!==h?h:1,PageSize:null!==(b=l.params.PageSize)&&void 0!==b?b:10},success:m=>{"function"==typeof l.callback&&l.callback(m.data||null)},error:m=>{var C;"function"==typeof l.callback&&l.callback(null==m||null===(C=m.response)||void 0===C?void 0:C.data),console.error(m)},loading:l.loading,loadingController:l.loadingController})});return function(p){return P.apply(this,arguments)}}(),q=function(){var P=(0,$.A)(function*(l){l.params=l.params||{},(0,E.hm)({url:`api/RequestService/get-detail/${l.params.RequestServiceId}`,success:p=>{"function"==typeof l.callback&&l.callback(p.data||null)},error:p=>{var R;"function"==typeof l.callback&&l.callback(null==p||null===(R=p.response)||void 0===R?void 0:R.data),console.error(p)},loading:l.loading,loadingController:l.loadingController})});return function(p){return P.apply(this,arguments)}}()},2787:(Y,j,d)=>{d.r(j),d.d(j,{RequestServiceDetailPageModule:()=>_e});var $=d(177),E=d(9417),u=d(9465),k=d(7625),v=d(467),q=d(5972);const P=function(){var a=(0,v.A)(function*(s){var o,t,i,r,n;s.params=s.params||{},(0,q.Ll)({url:"api/Rating/create",params:{VRatingType:null!==(o=s.params.VRatingType)&&void 0!==o?o:null,ObjectId:null!==(t=s.params.ObjectId)&&void 0!==t?t:null,RateValue:null!==(i=s.params.RateValue)&&void 0!==i?i:null,RateComment:null!==(r=s.params.RateComment)&&void 0!==r?r:null,RateAttach:null!==(n=s.params.RateAttach)&&void 0!==n?n:null},success:c=>{"function"==typeof s.callback&&s.callback(c.data||null)},error:c=>{var g;"function"==typeof s.callback&&s.callback(null==c||null===(g=c.response)||void 0===g?void 0:g.data),console.error(c)},loading:s.loading,loadingController:s.loadingController})});return function(o){return a.apply(this,arguments)}}();var m=d(8517),C=d(8650),e=d(4438),y=d(4842);const M=()=>[1,2,3,4,5],F=()=>[];function x(a,s){if(1&a){const o=e.RV6();e.qex(0),e.j41(1,"div")(2,"ion-icon",20),e.bIt("click",function(i){const r=e.eBV(o).$implicit,n=e.XpG();return e.Njj(n.changeRateValue(i,r))}),e.k0s()(),e.bVm()}if(2&a){const o=s.$implicit,t=e.XpG();e.R7$(2),e.Y8G("color",t.rating.RateValue&&t.rating.RateValue>=o?"warning":"medium")}}function S(a,s){if(1&a){const o=e.RV6();e.qex(0),e.j41(1,"div",22)(2,"ion-thumbnail"),e.nrm(3,"img",23),e.k0s(),e.j41(4,"div",24)(5,"ion-icon",25),e.bIt("click",function(i){const r=e.eBV(o).$implicit,n=e.XpG(2);return e.Njj(n.removeImage(i,r.id))}),e.k0s()()(),e.bVm()}if(2&a){const o=s.$implicit;e.R7$(3),e.Y8G("src",o.src,e.B4B)}}function A(a,s){if(1&a&&(e.qex(0),e.j41(1,"div",21),e.DNE(2,S,6,1,"ng-container",5),e.k0s(),e.bVm()),2&a){let o;const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",null!==(o=t.rating.RateAttachs)&&void 0!==o?o:e.lJ4(1,F))}}let z=(()=>{var a;class s{constructor(t,i,r){this.modalController=t,this.loadingController=i,this.toastController=r,this.rating={}}ngOnInit(){this.rating.RateAttachs=this.rating.RateAttach?JSON.parse(this.rating.RateAttach):[]}close(t){var i=this;return(0,v.A)(function*(){i.modalController.dismiss(null,"cancel")})()}get submitDisabled(){return!this.rating.RateValue||!this.rating.RateComment}submit(t){var i=this;return(0,v.A)(function*(){i.submitDisabled||P({loadingController:i.loadingController,params:i.rating,callback:r=>{i.response=r,null!=r&&r.Succeeded?i.modalController.dismiss(null,"success"):(0,C.cX)(i.toastController,{},r).then(n=>n.present())}})})()}changeRateValue(t,i){var r=this;return(0,v.A)(function*(){r.rating.RateValue=i})()}changeRateComment(t,i){var r=this;return(0,v.A)(function*(){var n;r.rating.RateComment=null!==(n=t.detail.value)&&void 0!==n?n:i})()}addImage(t){var i=this;return(0,v.A)(function*(){(0,m.oG)({accept:"image/*",multiple:!0},r=>{let n=0,c=g=>{if(g){var f=new FileReader;f.onload=()=>{var _;null===(_=i.rating.RateAttachs)||void 0===_||_.push({id:Math.ceil(1e6*Math.random()),src:f.result}),c(r[n++])},f.onerror=()=>{c(r[n++])},f.readAsDataURL(g)}};c(r[n++])})})()}removeImage(t,i){var r=this;return(0,v.A)(function*(){var n,c;r.rating.RateAttachs=null!==(n=null===(c=r.rating.RateAttachs)||void 0===c?void 0:c.filter(g=>g.id!=i))&&void 0!==n?n:[],r.rating.RateAttach=r.rating.RateAttachs.length?JSON.stringify(r.rating.RateAttachs):void 0})()}}return(a=s).\u0275fac=function(t){return new(t||a)(e.rXU(u.W3),e.rXU(u.Xi),e.rXU(u.K_))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-modal-add-rating"]],inputs:{rating:"rating"},decls:40,vars:27,consts:[[1,"container","text-center","my-4"],[1,"text-muted"],[1,"container","mb-3"],[1,"mb-4"],[1,"d-flex","align-items-center","justify-content-around","list-star"],[4,"ngFor","ngForOf"],["lines","none"],[1,"form-group","mb-3"],[1,"text-danger"],[1,"ion-item-input"],["maxlength","250",3,"ionChange","autoGrow","placeholder","value"],[1,"d-flex","justify-content-center"],["size","small","color","medium",3,"click"],["slot","start","src","../../../assets/icon/ion-icon/camera.svg"],[4,"ngIf"],[1,"row","mt-3"],[1,"col-6","pr-1"],["color","medium","expand","block","shape","round","fill","outline",3,"click"],[1,"col-6","pl-1"],["color","primary","expand","block","shape","round",3,"click","disabled"],["src","../../../assets/icon/ion-icon/star.svg",3,"click","color"],[1,"d-flex","flex-wrap","mt-4","list-image"],[1,"position-relative","mr-3","mb-2"],[3,"src"],[1,"position-absolute","top-0","right-0","line-height-0","remove-image"],["name","close-circle-outline","color","danger",3,"click"]],template:function(t,i){1&t&&(e.j41(0,"div",0)(1,"h4"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"small",1),e.EFF(5),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"div",2)(8,"div",3)(9,"div",4),e.DNE(10,x,3,1,"ng-container",5),e.k0s()(),e.j41(11,"ion-list",6)(12,"div",7)(13,"label"),e.EFF(14),e.nI1(15,"translate"),e.j41(16,"span",8),e.EFF(17,"*"),e.k0s()(),e.j41(18,"div",9)(19,"ion-item")(20,"ion-textarea",10),e.nI1(21,"translate"),e.bIt("ionChange",function(n){return i.changeRateComment(n)}),e.k0s()()()(),e.j41(22,"div",11)(23,"ion-button",12),e.bIt("click",function(n){return i.addImage(n)}),e.nrm(24,"ion-icon",13),e.j41(25,"ion-label"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()(),e.DNE(28,A,3,2,"ng-container",14),e.j41(29,"div",15)(30,"div",16)(31,"ion-button",17),e.bIt("click",function(n){return i.close(n)}),e.j41(32,"ion-label"),e.EFF(33),e.nI1(34,"translate"),e.k0s()()(),e.j41(35,"div",18)(36,"ion-button",19),e.bIt("click",function(n){return i.submit(n)}),e.j41(37,"ion-label"),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()()()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,12,"Rating")),e.R7$(3),e.JRh(e.bMT(6,14,"YourExperienceWithApp")),e.R7$(5),e.Y8G("ngForOf",e.lJ4(26,M)),e.R7$(4),e.SpI("",e.bMT(15,16,"WriteReview")," "),e.R7$(6),e.FS9("placeholder",e.bMT(21,18,"EnterYourComment")),e.Y8G("autoGrow",!0)("value",i.rating.RateComment),e.R7$(6),e.JRh(e.bMT(27,20,"UploadImage")),e.R7$(2),e.Y8G("ngIf",null==i.rating.RateAttachs?null:i.rating.RateAttachs.length),e.R7$(5),e.JRh(e.bMT(34,22,"Cancel")),e.R7$(3),e.Y8G("disabled",i.submitDisabled),e.R7$(2),e.JRh(e.bMT(39,24,"Send")))},dependencies:[$.Sq,$.bT,u.Jm,u.iq,u.uz,u.he,u.nf,u.nc,u.Zx,u.Gw,y.D9],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}.list-star[_ngcontent-%COMP%]{max-width:280px;margin:auto}.list-star[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:3rem}.list-image[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 5rem;border:1px solid var(--ion-color-light);--border-radius: .5rem;overflow:hidden}.list-image[_ngcontent-%COMP%]   .remove-image[_ngcontent-%COMP%]{margin-top:-.5rem;margin-right:-.5rem;border-radius:50%;line-height:0;background-color:#fff;cursor:pointer}.list-image[_ngcontent-%COMP%]   .remove-image[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}"]}),s})();var H=d(7762),B=d(5312),X=d(3801),w=d(5454),W=d(6539),L=d(3588),I=d(8833);const K=a=>({$implicit:a});function Z(a,s){if(1&a&&(e.j41(0,"div",35),e.eu8(1,38),e.k0s()),2&a){const o=e.XpG(2),t=e.sdS(9);e.R7$(),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.eq3(2,K,o.requestService))}}function Q(a,s){if(1&a&&(e.j41(0,"div",17)(1,"div",39)(2,"div",40)(3,"h6",32)(4,"b"),e.EFF(5,"Ghi ch\xfa c\u1ee7a kh\xe1ch"),e.k0s()(),e.nrm(6,"hr",33),e.j41(7,"div")(8,"b",34),e.EFF(9),e.k0s()()()()()),2&a){const o=e.XpG(2);e.R7$(9),e.JRh(o.requestService.Notes)}}function ee(a,s){if(1&a&&(e.j41(0,"div",41),e.nrm(1,"ion-img",42),e.k0s()),2&a){const o=e.XpG(3);e.R7$(),e.Y8G("src",o.readfile_url+o.requestService.CancelReasonImages)}}function te(a,s){if(1&a&&(e.j41(0,"div",17)(1,"div",39)(2,"div",40)(3,"h6",32)(4,"b"),e.EFF(5,"Ghi ch\xfa c\u1ee7a nh\xe2n vi\xean"),e.k0s()(),e.nrm(6,"hr",33),e.j41(7,"div")(8,"b",34),e.EFF(9),e.k0s()(),e.DNE(10,ee,2,1,"div",41),e.k0s()()()),2&a){const o=e.XpG(2);e.R7$(9),e.JRh(o.requestService.CancelReason),e.R7$(),e.vxM(10,o.requestService.CancelReasonImages?10:-1)}}function ne(a,s){if(1&a&&(e.j41(0,"div",41),e.nrm(1,"ion-img",42),e.k0s()),2&a){const o=e.XpG(3);e.R7$(),e.Y8G("src",o.readfile_url+o.requestService.AcceptImages)}}function ae(a,s){if(1&a&&(e.j41(0,"div",17)(1,"div",39)(2,"div",40)(3,"h6",32)(4,"b"),e.EFF(5,"X\xe1c nh\u1eadn c\u1ee7a nh\xe2n vi\xean"),e.k0s()(),e.nrm(6,"hr",33),e.j41(7,"div")(8,"b",34),e.EFF(9),e.k0s()(),e.DNE(10,ne,2,1,"div",41),e.k0s()()()),2&a){const o=e.XpG(2);e.R7$(9),e.JRh(o.requestService.AcceptNotes),e.R7$(),e.vxM(10,o.requestService.AcceptImages?10:-1)}}function ie(a,s){if(1&a){const o=e.RV6();e.j41(0,"div",43),e.nrm(1,"ion-spinner",44),e.j41(2,"ion-label",45),e.EFF(3,"\u0110ang t\xecm nh\xe2n vi\xean ti\u1ebfp nh\u1eadn d\u1ecbch v\u1ee5 ..."),e.k0s()(),e.j41(4,"ion-button",46),e.bIt("click",function(){e.eBV(o);const i=e.XpG(2);return e.Njj(i.cancelService())}),e.j41(5,"ion-label"),e.EFF(6,"H\u1ee7y d\u1ecbch v\u1ee5"),e.k0s()()}}function oe(a,s){if(1&a){const o=e.RV6();e.j41(0,"div",43),e.nrm(1,"ion-spinner",44),e.j41(2,"ion-label",45),e.EFF(3,"\u0110ang t\xecm nh\xe2n vi\xean ti\u1ebfp nh\u1eadn d\u1ecbch v\u1ee5 ..."),e.k0s()(),e.j41(4,"ion-button",46),e.bIt("click",function(){e.eBV(o);const i=e.XpG(2);return e.Njj(i.cancelService())}),e.j41(5,"ion-label"),e.EFF(6,"H\u1ee7y d\u1ecbch v\u1ee5"),e.k0s()()}}function re(a,s){if(1&a){const o=e.RV6();e.j41(0,"div",43),e.nrm(1,"ion-icon",47),e.j41(2,"ion-label",48),e.EFF(3,"Nh\xe2n vi\xean \u0111\xe3 nh\u1eadn d\u1ecbch v\u1ee5."),e.k0s()(),e.j41(4,"ion-button",46),e.bIt("click",function(){e.eBV(o);const i=e.XpG(2);return e.Njj(i.cancelService())}),e.j41(5,"ion-label"),e.EFF(6,"H\u1ee7y d\u1ecbch v\u1ee5"),e.k0s()()}}function le(a,s){if(1&a){const o=e.RV6();e.j41(0,"ion-button",51),e.bIt("click",function(i){e.eBV(o);const r=e.XpG(3);return e.Njj(r.presentModalAddChargingRateByService(i))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"Rate")))}function se(a,s){if(1&a){const o=e.RV6();e.j41(0,"ion-button",52),e.bIt("click",function(){e.eBV(o);const i=e.XpG(3);return e.Njj(i.navigateByUrl(i.APP_ROUTE.CHARGING_SESSION_DETAIL.replace(":id",i.requestService.ChargeSessionId.toString())))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"GoToChargingSession")))}function ce(a,s){if(1&a&&e.DNE(0,le,4,3,"ion-button",49)(1,se,4,3,"ion-button",50),2&a){const o=e.XpG(2);e.vxM(0,o.requestService.VRequestStatus==o.v_request_status.HoanTat?0:-1),e.R7$(),e.vxM(1,o.requestService.ChargeSessionId?1:-1)}}function ue(a,s){if(1&a){const o=e.RV6();e.j41(0,"ion-content")(1,"ion-refresher",4),e.bIt("ionRefresh",function(i){e.eBV(o);const r=e.XpG();return e.Njj(r.onIonRefresher(i))}),e.nrm(2,"ion-refresher-content"),e.k0s(),e.j41(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"h4",9)(8,"span"),e.EFF(9),e.k0s()(),e.j41(10,"div",10)(11,"small"),e.EFF(12),e.k0s()(),e.nrm(13,"hr",11),e.j41(14,"div",12)(15,"span",13)(16,"small"),e.EFF(17),e.nI1(18,"translate"),e.j41(19,"b"),e.EFF(20),e.k0s()()(),e.j41(21,"span",14)(22,"small"),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"b"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()()(),e.nrm(28,"div",15),e.k0s()()(),e.j41(29,"div",16)(30,"div",17)(31,"div",18)(32,"div",19)(33,"div",20)(34,"div",21)(35,"div",22)(36,"ion-chip",23),e.nrm(37,"ion-icon",24),e.j41(38,"ion-label"),e.EFF(39),e.k0s()()()()(),e.j41(40,"div",25)(41,"div",26)(42,"div",27)(43,"div"),e.nrm(44,"ion-img",28),e.k0s(),e.j41(45,"div",29)(46,"div",30),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"div")(50,"strong"),e.EFF(51),e.k0s(),e.j41(52,"small"),e.EFF(53),e.k0s()()()()(),e.j41(54,"div",31)(55,"h6",32)(56,"b"),e.EFF(57,"Th\u1eddi gian \u0111\u1eb7t l\u1ecbch"),e.k0s()(),e.nrm(58,"hr",33),e.j41(59,"div")(60,"b",34),e.EFF(61),e.k0s()()(),e.j41(62,"div",31)(63,"h6",32)(64,"b"),e.EFF(65,"Th\u1eddi gian th\u1ef1c hi\u1ec7n (d\u1ef1 ki\u1ebfn)"),e.k0s()(),e.nrm(66,"hr",33),e.j41(67,"div")(68,"b",34),e.EFF(69),e.k0s()()()()()(),e.DNE(70,Z,2,4,"div",35),e.k0s(),e.DNE(71,Q,10,1,"div",17)(72,te,11,2,"div",17)(73,ae,11,2),e.k0s()(),e.j41(74,"ion-footer",36)(75,"div",37),e.DNE(76,ie,7,0)(77,oe,7,0)(78,re,7,0)(79,ce,2,2),e.k0s()()}if(2&a){let o,t,i,r;const n=e.XpG();e.R7$(9),e.JRh(n.requestService.ServiceName),e.R7$(3),e.JRh(n.requestService.RequestAddress),e.R7$(5),e.SpI("",e.bMT(18,21,"YourWay")," "),e.R7$(3),e.SpI("",n.getDistance2CL()," km"),e.R7$(3),e.SpI("",e.bMT(24,23,"EstimatedTime")," "),e.R7$(3),e.Lme("",n.getTime2CL()," ",e.bMT(27,25,"Minute"),""),e.R7$(6),e.HbH("border-"+n.APP_FUNC_GetColor_VRequestStatus(n.requestService.VRequestStatus)),e.R7$(4),e.Y8G("color",n.APP_FUNC_GetColor_VRequestStatus(n.requestService.VRequestStatus)),e.R7$(3),e.JRh(n.requestService.VRequestStatusName),e.R7$(8),e.JRh(null!==(o=n.requestService.ChargePackageName)&&void 0!==o?o:e.bMT(48,27,"ChargingPackage")),e.R7$(4),e.SpI("",n.APP_FUNC_FormatMoney(null!==(t=n.requestService.PayValue)&&void 0!==t?t:0),"\u0111"),e.R7$(2),e.Lme(" /",n.requestService.PowerValue,"",null!==(i=n.requestService.Unit)&&void 0!==i?i:"kWh",""),e.R7$(8),e.JRh(n.APP_FUNC_FormatDate(n.requestService.RequestDate)),e.R7$(8),e.JRh(n.APP_FUNC_FormatDate(n.requestService.ExecutionDate+" "+n.requestService.ExecutionTime)),e.R7$(),e.vxM(70,n.requestService.StaffUserId?70:-1),e.R7$(),e.vxM(71,n.requestService.Notes?71:-1),e.R7$(),e.vxM(72,n.requestService.CancelReason||n.requestService.CancelReasonImages?72:n.requestService.AcceptNotes||n.requestService.AcceptImages?73:-1),e.R7$(4),e.vxM(76,(r=n.requestService.VRequestStatus)===n.v_request_status.YeuCauDichVu?76:r===n.v_request_status.ChoXacNhan?77:r===n.v_request_status.NhanVienDangDiDen?78:79)}}function de(a,s){if(1&a&&(e.j41(0,"div",53)(1,"div",54)(2,"div",55)(3,"b",56),e.EFF(4,"Chi ti\u1ebft d\u1ecbch v\u1ee5"),e.k0s()()(),e.nrm(5,"hr",57),e.j41(6,"div",58)(7,"table",59)(8,"tr")(9,"td"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"td")(13,"b"),e.EFF(14),e.k0s()()(),e.j41(15,"tr")(16,"td"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"td")(20,"b"),e.EFF(21),e.k0s()()(),e.j41(22,"tr")(23,"td"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"td")(27,"b"),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td"),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"td")(34,"b"),e.EFF(35),e.k0s()()()()()()),2&a){const o=s.$implicit;e.R7$(10),e.JRh(e.bMT(11,8,"Employe")),e.R7$(4),e.JRh(o.StaffFullName),e.R7$(3),e.JRh(e.bMT(18,10,"CarBrand")),e.R7$(4),e.JRh(o.CarBrand),e.R7$(3),e.JRh(e.bMT(25,12,"ModelName")),e.R7$(4),e.JRh(o.ModelName),e.R7$(3),e.JRh(e.bMT(32,14,"VehicleNumber")),e.R7$(4),e.JRh(o.VehicleNumber)}}const pe=[{path:"",component:(()=>{var a;class s{constructor(t,i,r,n,c,g){var f;this.router=t,this.activatedRoute=i,this.modalController=r,this.animationController=n,this.toastController=c,this.loadingController=g,this.APP_ROUTE=I._,this.APP_FUNC_FormatDate=m.Rv,this.APP_FUNC_FormatMoney=m.xi,this.APP_FUNC_GetColor_VRequestStatus=m.rZ,this.v_request_status=L.Gz,this.readfile_url=B.c.readfile_url;let _=null!==(f=i.snapshot.params.id)&&void 0!==f?f:"";_&&(this.RequestServiceId=parseFloat(_))}ngOnInit(){var t=this;this.IsOnInit=!0,(0,v.A)(function*(){(yield(0,W.kU)())&&t.refreshData(()=>{})})()}ionViewDidEnter(){this.IsOnInit?this.IsOnInit=!1:this.refreshData()}onIonRefresher(t){this.refreshData(()=>{t.target.complete()})}refreshData(t){var i=this;return(0,v.A)(function*(){(0,w.K5)({params:{RequestServiceId:i.RequestServiceId},callback:r=>{var n,c,g,f,_;i.response=r,null!=r&&r.Succeeded?(i.requestService=null!==(n=r.Data)&&void 0!==n?n:{},i.customerPosition={lat:null!==(c=null===(g=i.requestService)||void 0===g?void 0:g.RequestLat)&&void 0!==c?c:0,lng:null!==(f=null===(_=i.requestService)||void 0===_?void 0:_.RequestLong)&&void 0!==f?f:0}):(0,C.cX)(i.toastController,{},r).then(D=>{D.onDidDismiss().then(T=>{i.router.navigateByUrl(I._.REQUEST_SERVICE)}),D.present()}),t&&t()}})})()}initMap(){var t=this;const i=function(){var n=(0,v.A)(function*(){let c,g,_=window.google.maps;const{Map:D}=yield _.importLibrary("maps"),{AdvancedMarkerElement:T}=yield _.importLibrary("marker");let O=new D(document.getElementById("map"),{zoom:12,center:t.customerPosition,disableDefaultUI:!0,mapId:"DEMO_MAP_ID"});t.customerPosition&&(c=new T({map:O,position:t.customerPosition,title:"V\u1ecb tr\xed kh\xe1ch h\xe0ng \u0111\u1eb7t l\u1ecbch"})),t.employePosition&&(g=new T({map:O,position:t.employePosition,title:"V\u1ecb tr\xed nh\xe2n vi\xean iSAC"})),t.customerPosition&&t.employePosition&&setTimeout(()=>{var V,G,N,U,ve=_.DirectionsService(),J=_.DirectionsRenderer();J.setMap(O),ve.route({origin:_.LatLng(null===(V=t.employePosition)||void 0===V?void 0:V.lat,null===(G=t.employePosition)||void 0===G?void 0:G.lng),destination:_.LatLng(null===(N=t.customerPosition)||void 0===N?void 0:N.lat,null===(U=t.customerPosition)||void 0===U?void 0:U.lng),travelMode:"DRIVING"},function(Re,he){"OK"==he&&J.setDirections(Re)})},1e3)});return function(){return n.apply(this,arguments)}}();window.initMap=i;let r=document.createElement("script");r.async=!0,r.src=`https://maps.google.com/maps/api/js?key=${B.c.apiKey}&libraries=places,marker,routes&callback=initMap&loading=async`,document.head.append(r)}refreshCurrentPosition(t){var i=this;return(0,v.A)(function*(){let r=()=>{(0,X.Xz)().then(n=>{i.employePosition=n,t&&t()})};H.L.getCurrentPosition({enableHighAccuracy:!0}).then(function(){var n=(0,v.A)(function*(c){if(c.coords){var g={lat:c.coords.latitude,lng:c.coords.longitude};yield(0,X.fj)({params:g})}r()});return function(c){return n.apply(this,arguments)}}()).catch(()=>{r()})})()}navigateByUrl(t){this.router.navigateByUrl(t)}getDistance2CL(){return this.employePosition&&this.customerPosition?(0,m.Rw)((0,m.GH)(this.employePosition,this.customerPosition),10):0}getTime2CL(){return this.employePosition&&this.customerPosition?(0,m.Rw)(3*(0,m.GH)(this.employePosition,this.customerPosition),1):0}cancelService(){var t=this;return(0,v.A)(function*(){var i;(0,C.Yy)(t.modalController,t.animationController,{selectedId:null===(i=t.requestService)||void 0===i?void 0:i.RequestServiceId,message:{TitleConfirm:"CancelService",TextConfirm:"Confirm"},fnConfirm:r=>{(0,w.nY)({loadingController:t.loadingController,params:{RequestServiceId:r},callback:n=>{null!=n&&n.Succeeded?(t.router.navigateByUrl(I._.REQUEST_SERVICE),(0,C.cX)(t.toastController,{color:"danger",message:"\u0110\xe3 h\u1ee7y d\u1ecbch v\u1ee5"}).then(c=>c.present())):(0,C.cX)(t.toastController,{},n).then(c=>c.present())}})}})})()}presentModalAddChargingRateByService(t){var i=this;return(0,v.A)(function*(){var r;(yield i.modalController.create({component:z,componentProps:{rating:{VRatingType:L.em.DanhGiaNhanVien,ObjectId:null===(r=i.requestService)||void 0===r?void 0:r.CustomerUserId,RateValue:5}},cssClass:"ion-modal-auto ion-modal-bottom"})).present()})()}}return(a=s).\u0275fac=function(t){return new(t||a)(e.rXU(k.Ix),e.rXU(k.nX),e.rXU(u.W3),e.rXU(u.Hx),e.rXU(u.K_),e.rXU(u.Xi))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-request-service-detail"]],decls:10,vars:5,consts:[["templateVehicle",""],["color","primary"],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],[1,"bg-primary"],[1,"container","card-location","text-white","pb-2"],[1,"row"],[1,"col-auto"],[1,"d-flex","align-items-center","my-0"],[1,"d-flex","align-items-center","mt-1"],[1,"border-gray","mt-2","mb-1"],[1,"text-right","text-nowrap"],[1,"mr-4"],[1,"d-inline-block"],[1,"col","p-0"],[1,"container"],[1,"row","align-items-stretch"],[1,"col-12","col-lg-6","mt-3","mb-4","d-flex","flex-column"],[1,"flex-grow-1","card-day","d-flex","flex-column","rounded","bg-white","border","mt-3"],[1,"flex-grow-1"],[1,"d-flex","justify-content-center"],[1,"card-status"],[1,"no-opacity",3,"color"],["src","../../../assets/icon/tabs/service.svg"],[1,"p-2"],[1,"card-package","rounded","border","d-flex","align-items-stretch","p-2"],[1,"d-flex","align-items-center"],["src","../../../assets/icon/ion-img/charge-package.svg"],[1,"align-self-stretch","pl-2","d-flex","flex-column","justify-content-between"],[1,"text-muted","fs-3"],[1,"card-day","bg-white","p-2","mt-3"],[1,"m-0"],[1,"border-dashed","mt-2","mb-3"],[1,"text-medium"],[1,"col-12","col-lg-6","mb-4","mt-lg-4","pt-2"],[1,"ion-padding-vertical"],[1,"container","d-flex","align-items-center","justify-content-between"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"col-12","col-lg-6","mb-4"],[1,"card-day","rounded","bg-white","p-3"],[1,"card-day","rounded","bg-white","mt-2"],[3,"src"],[1,"mr-3","d-flex","align-items-center"],["name","lines"],[1,"fs-14","ml-2"],["color","medium","shape","round","fill","outline","expand","block",3,"click"],["color","primary","name","checkmark-circle-outline",1,"fs-24"],["color","primary",1,"fs-14","ml-2"],["color","medium","fill","outline","shape","round","expand","block",1,"flex-grow-1","m-1"],["color","primary","shape","round","expand","block",1,"flex-grow-1","m-1"],["color","medium","fill","outline","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],["color","primary","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],[1,"card-vehicle","h-100","bg-white","rounded","p-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-ellipsis"],[1,"mr-1"],[1,"mt-2","mb-2"],[1,"d-flex","align-items-start"],[1,"table","table-borderless","m-0"]],template:function(t,i){1&t&&(e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-buttons",2),e.nrm(3,"ion-back-button",3),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.DNE(7,ue,80,29)(8,de,36,16,"ng-template",null,0,e.C5r)),2&t&&(e.R7$(3),e.Y8G("defaultHref",i.APP_ROUTE.TABS_DEFAULT),e.R7$(2),e.JRh(e.bMT(6,3,"ServiceDetail")),e.R7$(2),e.vxM(7,i.requestService?7:-1))},dependencies:[$.T3,u.Jm,u.QW,u.ZB,u.W9,u.M0,u.eU,u.iq,u.KW,u.he,u.To,u.Ki,u.w2,u.BC,u.ai,u.el,y.D9],styles:[".card-location[_ngcontent-%COMP%]{position:relative;z-index:1;background-image:url(bg-charging-location.24bf138423cec5f5.svg);background-repeat:no-repeat;background-position:top center;background-size:auto 100%}.card-location.rounded[_ngcontent-%COMP%]{border-top-left-radius:1.5rem!important;border-top-right-radius:1.5rem!important}.card-location[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 5rem;--border-radius: .5rem;border:1px solid var(--ion-color-light)}.card-location[_ngcontent-%COMP%]   .icon-w24[_ngcontent-%COMP%]{display:inline-block;width:24px}.card-location[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}#map[_ngcontent-%COMP%]{width:100%;height:100%}.card-day.rounded[_ngcontent-%COMP%], .card-day.rounded[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-day[_ngcontent-%COMP%]   .card-status[_ngcontent-%COMP%]{margin-top:-1rem}.card-day[_ngcontent-%COMP%]   .card-package[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:3rem}.card-day[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border-radius:.5rem;overflow:hidden}.card-vehicle.rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-vehicle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important}.card-vehicle[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2rem;height:2rem;min-width:2rem;min-height:2rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-radius: .5rem}.card-vehicle[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:3rem}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;vertical-align:top}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;color:var(--ion-color-medium-shade)}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}"]}),s})()}];let me=(()=>{var a;class s{}return(a=s).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[k.iI.forChild(pe),k.iI]}),s})();var ge=d(3890);let _e=(()=>{var a;class s{}return(a=s).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[$.MD,E.YN,u.bv,me,ge.x]}),s})()}}]);