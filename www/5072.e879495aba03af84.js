"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5072],{5454:(Z,T,_)=>{_.d(T,{K5:()=>V,NL:()=>N,X1:()=>u,fy:()=>v,nY:()=>M,r3:()=>A});var b=_(467),$=_(5972);const u=function(){var P=(0,b.A)(function*(c){var d,g,h,C,f,e,E,I,F,x,q,y,j,D,O;c.params=c.params||{},(0,$.Ll)({url:"api/RequestService/create",params:{ServiceId:null!==(d=c.params.ServiceId)&&void 0!==d?d:null,ChargePackageId:null!==(g=c.params.ChargePackageId)&&void 0!==g?g:null,RequestAddress:null!==(h=c.params.RequestAddress)&&void 0!==h?h:null,RequestLat:null!==(C=c.params.RequestLat)&&void 0!==C?C:null,RequestLong:null!==(f=c.params.RequestLong)&&void 0!==f?f:null,DestAddress:null!==(e=c.params.DestAddress)&&void 0!==e?e:null,DestLat:null!==(E=c.params.DestLat)&&void 0!==E?E:null,DestLong:null!==(I=c.params.DestLong)&&void 0!==I?I:null,ExecutionDateAsString:null!==(F=c.params.ExecutionDateAsString)&&void 0!==F?F:null,ExecutionTimeAsString:null!==(x=c.params.ExecutionTimeAsString)&&void 0!==x?x:null,ExecutionTimeToAsString:null!==(q=c.params.ExecutionTimeToAsString)&&void 0!==q?q:null,Notes:null!==(y=c.params.Notes)&&void 0!==y?y:null,PromoteCode:null!==(j=c.params.PromoteCode)&&void 0!==j?j:null,IsVehicleVipCharging:null!==(D=c.params.IsVehicleVipCharging)&&void 0!==D?D:null,IsVehicleVipWallet:null!==(O=c.params.IsVehicleVipWallet)&&void 0!==O?O:null},success:S=>{"function"==typeof c.callback&&c.callback(S.data||null)},error:S=>{var k;"function"==typeof c.callback&&c.callback(null==S||null===(k=S.response)||void 0===k?void 0:k.data),console.error(S)},loading:c.loading,loadingController:c.loadingController})});return function(d){return P.apply(this,arguments)}}(),M=function(){var P=(0,b.A)(function*(c){var d,g;c.params=c.params||{},(0,$.Ll)({url:"api/RequestService/cancel",params:{RequestServiceId:null!==(d=c.params.RequestServiceId)&&void 0!==d?d:null,CancelReason:null!==(g=c.params.CancelReason)&&void 0!==g?g:null},success:h=>{"function"==typeof c.callback&&c.callback(h.data||null)},error:h=>{var C;"function"==typeof c.callback&&c.callback(null==h||null===(C=h.response)||void 0===C?void 0:C.data),console.error(h)},loading:c.loading,loadingController:c.loadingController})});return function(d){return P.apply(this,arguments)}}(),v=function(){var P=(0,b.A)(function*(c){var d,g,h,C;c.params=c.params||{},(0,$.hm)({url:"api/RequestService/get-myhistory",params:{VRequestStatus:null!==(d=c.params.VRequestStatus)&&void 0!==d?d:null,VRequestStatusMulti:null!==(g=c.params.VRequestStatusMulti)&&void 0!==g?g:null,PageNumber:null!==(h=c.params.PageNumber)&&void 0!==h?h:1,PageSize:null!==(C=c.params.PageSize)&&void 0!==C?C:10},success:f=>{"function"==typeof c.callback&&c.callback(f.data||null)},error:f=>{var e;"function"==typeof c.callback&&c.callback(null==f||null===(e=f.response)||void 0===e?void 0:e.data),console.error(f)},loading:c.loading,loadingController:c.loadingController})});return function(d){return P.apply(this,arguments)}}(),V=function(){var P=(0,b.A)(function*(c){c.params=c.params||{},(0,$.hm)({url:`api/RequestService/get-detail/${c.params.RequestServiceId}`,success:d=>{"function"==typeof c.callback&&c.callback(d.data||null)},error:d=>{var g;"function"==typeof c.callback&&c.callback(null==d||null===(g=d.response)||void 0===g?void 0:g.data),console.error(d)},loading:c.loading,loadingController:c.loadingController})});return function(d){return P.apply(this,arguments)}}(),A=function(){var P=(0,b.A)(function*(c){c.params=c.params||{},(0,$.hm)({url:`api/RequestService/get-mybycode/${c.params.RequestCode}`,success:d=>{"function"==typeof c.callback&&c.callback(d.data||null)},error:d=>{var g;"function"==typeof c.callback&&c.callback(null==d||null===(g=d.response)||void 0===g?void 0:g.data),console.error(d)},loading:c.loading,loadingController:c.loadingController})});return function(d){return P.apply(this,arguments)}}(),N=function(){var P=(0,b.A)(function*(c){c.params=c.params||{},(0,$.hm)({url:"api/RequestService/get-availabletime",success:d=>{"function"==typeof c.callback&&c.callback(d.data||null)},error:d=>{var g;"function"==typeof c.callback&&c.callback(null==d||null===(g=d.response)||void 0===g?void 0:g.data),console.error(d)},loading:c.loading,loadingController:c.loadingController})});return function(d){return P.apply(this,arguments)}}()},5072:(Z,T,_)=>{_.r(T),_.d(T,{RequestServiceDetailPageModule:()=>Ve});var b=_(177),$=_(9417),u=_(791),M=_(7625),v=_(467),V=_(1806),A=_(5972);const N=function(){var i=(0,v.A)(function*(l){var n,a,t,o,s;l.params=l.params||{},(0,A.Ll)({url:"api/Rating/create",params:{VRatingType:null!==(n=l.params.VRatingType)&&void 0!==n?n:null,ObjectId:null!==(a=l.params.ObjectId)&&void 0!==a?a:null,RateValue:null!==(t=l.params.RateValue)&&void 0!==t?t:null,RateComment:null!==(o=l.params.RateComment)&&void 0!==o?o:null,RateAttach:null!==(s=l.params.RateAttach)&&void 0!==s?s:null},success:r=>{"function"==typeof l.callback&&l.callback(r.data||null)},error:r=>{var m;"function"==typeof l.callback&&l.callback(null==r||null===(m=r.response)||void 0===m?void 0:m.data),console.error(r)},loading:l.loading,loadingController:l.loadingController})});return function(n){return i.apply(this,arguments)}}();var C=_(8517),f=_(8650),e=_(4438),E=_(4842);const I=()=>[1,2,3,4,5],F=()=>[];function x(i,l){if(1&i){const n=e.RV6();e.qex(0),e.j41(1,"div")(2,"ion-icon",20),e.bIt("click",function(t){const o=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.changeRateValue(t,o))}),e.k0s()(),e.bVm()}if(2&i){const n=l.$implicit,a=e.XpG();e.R7$(2),e.Y8G("color",a.rating.RateValue&&a.rating.RateValue>=n?"warning":"medium")}}function q(i,l){if(1&i){const n=e.RV6();e.qex(0),e.j41(1,"div",22)(2,"ion-thumbnail"),e.nrm(3,"img",23),e.k0s(),e.j41(4,"div",24)(5,"ion-icon",25),e.bIt("click",function(t){const o=e.eBV(n).$implicit,s=e.XpG(2);return e.Njj(s.removeImage(t,o.id))}),e.k0s()()(),e.bVm()}if(2&i){const n=l.$implicit;e.R7$(3),e.Y8G("src",n.src,e.B4B)}}function y(i,l){if(1&i&&(e.qex(0),e.j41(1,"div",21),e.DNE(2,q,6,1,"ng-container",5),e.k0s(),e.bVm()),2&i){let n;const a=e.XpG();e.R7$(2),e.Y8G("ngForOf",null!==(n=a.rating.RateAttachs)&&void 0!==n?n:e.lJ4(1,F))}}let j=(()=>{var i;class l{constructor(a,t,o){this.modalController=a,this.loadingController=t,this.toastController=o,this.rating={}}ngOnInit(){this.rating.RateAttachs=this.rating.RateAttach?JSON.parse(this.rating.RateAttach):[]}close(a){var t=this;return(0,v.A)(function*(){t.modalController.dismiss(null,"cancel")})()}get submitDisabled(){return!this.rating.RateValue||!this.rating.RateComment}submit(a){var t=this;return(0,v.A)(function*(){t.submitDisabled||N({loadingController:t.loadingController,params:t.rating,callback:o=>{t.response=o,null!=o&&o.Succeeded?t.modalController.dismiss(null,"success"):(0,f.cX)(t.toastController,{},o).then(s=>s.present())}})})()}changeRateValue(a,t){var o=this;return(0,v.A)(function*(){o.rating.RateValue=t})()}changeRateComment(a,t){var o=this;return(0,v.A)(function*(){var s;o.rating.RateComment=null!==(s=a.detail.value)&&void 0!==s?s:t})()}addImage(a){var t=this;return(0,v.A)(function*(){(0,C.oG)({accept:"image/*",multiple:!0},o=>{let s=0,r=m=>{if(m){var p=new FileReader;p.onload=()=>{var R;null===(R=t.rating.RateAttachs)||void 0===R||R.push({id:Math.ceil(1e6*Math.random()),src:p.result}),r(o[s++])},p.onerror=()=>{r(o[s++])},p.readAsDataURL(m)}};r(o[s++])})})()}removeImage(a,t){var o=this;return(0,v.A)(function*(){var s,r;o.rating.RateAttachs=null!==(s=null===(r=o.rating.RateAttachs)||void 0===r?void 0:r.filter(m=>m.id!=t))&&void 0!==s?s:[],o.rating.RateAttach=o.rating.RateAttachs.length?JSON.stringify(o.rating.RateAttachs):void 0})()}}return(i=l).\u0275fac=function(a){return new(a||i)(e.rXU(u.W3),e.rXU(u.Xi),e.rXU(u.K_))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-modal-add-rating"]],inputs:{rating:"rating"},decls:40,vars:27,consts:[[1,"container","text-center","my-4"],[1,"text-muted"],[1,"container","mb-3"],[1,"mb-4"],[1,"d-flex","align-items-center","justify-content-around","list-star"],[4,"ngFor","ngForOf"],["lines","none"],[1,"form-group","mb-3"],[1,"text-danger"],[1,"ion-item-input"],["maxlength","250",3,"ionChange","autoGrow","placeholder","value"],[1,"d-flex","justify-content-center"],["size","small","color","medium",3,"click"],["slot","start","src","../../../assets/icon/ion-icon/camera.svg"],[4,"ngIf"],[1,"row","mt-3"],[1,"col-6","pr-1"],["color","medium","expand","block","shape","round","fill","outline",3,"click"],[1,"col-6","pl-1"],["color","primary","expand","block","shape","round",3,"click","disabled"],["src","../../../assets/icon/ion-icon/star.svg",3,"click","color"],[1,"d-flex","flex-wrap","mt-4","list-image"],[1,"position-relative","mr-3","mb-2"],[3,"src"],[1,"position-absolute","top-0","right-0","line-height-0","remove-image"],["name","close-circle-outline","color","danger",3,"click"]],template:function(a,t){1&a&&(e.j41(0,"div",0)(1,"h4"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"small",1),e.EFF(5),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"div",2)(8,"div",3)(9,"div",4),e.DNE(10,x,3,1,"ng-container",5),e.k0s()(),e.j41(11,"ion-list",6)(12,"div",7)(13,"label"),e.EFF(14),e.nI1(15,"translate"),e.j41(16,"span",8),e.EFF(17,"*"),e.k0s()(),e.j41(18,"div",9)(19,"ion-item")(20,"ion-textarea",10),e.nI1(21,"translate"),e.bIt("ionChange",function(s){return t.changeRateComment(s)}),e.k0s()()()(),e.j41(22,"div",11)(23,"ion-button",12),e.bIt("click",function(s){return t.addImage(s)}),e.nrm(24,"ion-icon",13),e.j41(25,"ion-label"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()(),e.DNE(28,y,3,2,"ng-container",14),e.j41(29,"div",15)(30,"div",16)(31,"ion-button",17),e.bIt("click",function(s){return t.close(s)}),e.j41(32,"ion-label"),e.EFF(33),e.nI1(34,"translate"),e.k0s()()(),e.j41(35,"div",18)(36,"ion-button",19),e.bIt("click",function(s){return t.submit(s)}),e.j41(37,"ion-label"),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()()()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,12,"Rating")),e.R7$(3),e.JRh(e.bMT(6,14,"YourExperienceWithApp")),e.R7$(5),e.Y8G("ngForOf",e.lJ4(26,I)),e.R7$(4),e.SpI("",e.bMT(15,16,"WriteReview")," "),e.R7$(6),e.FS9("placeholder",e.bMT(21,18,"EnterYourComment")),e.Y8G("autoGrow",!0)("value",t.rating.RateComment),e.R7$(6),e.JRh(e.bMT(27,20,"UploadImage")),e.R7$(2),e.Y8G("ngIf",null==t.rating.RateAttachs?null:t.rating.RateAttachs.length),e.R7$(5),e.JRh(e.bMT(34,22,"Cancel")),e.R7$(3),e.Y8G("disabled",t.submitDisabled),e.R7$(2),e.JRh(e.bMT(39,24,"Send")))},dependencies:[b.Sq,b.bT,u.Jm,u.iq,u.uz,u.he,u.nf,u.nc,u.Zx,u.Gw,E.D9],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}.list-star[_ngcontent-%COMP%]{max-width:280px;margin:auto}.list-star[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:3rem}.list-image[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 5rem;border:1px solid var(--ion-color-light);--border-radius: .5rem;overflow:hidden}.list-image[_ngcontent-%COMP%]   .remove-image[_ngcontent-%COMP%]{margin-top:-.5rem;margin-right:-.5rem;border-radius:50%;line-height:0;background-color:#fff;cursor:pointer}.list-image[_ngcontent-%COMP%]   .remove-image[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}"]}),l})();var D=_(5137),O=_(7762),S=_(5312),k=_(3801),H=_(5970),W=_(2071),K=_(5454);const ee=function(){var i=(0,v.A)(function*(l){var n,a,t,o;l.params=l.params||{},(0,A.hm)({url:"api/RequestServiceCancelReason/get-list",params:{ServiceId:null!==(n=l.params.ServiceId)&&void 0!==n?n:null,IsReasonForCustomer:null!==(a=l.params.IsReasonForCustomer)&&void 0!==a?a:null,PageNumber:null!==(t=l.params.PageNumber)&&void 0!==t?t:1,PageSize:null!==(o=l.params.PageSize)&&void 0!==o?o:10},success:s=>{"function"==typeof l.callback&&l.callback(s.data||null)},error:s=>{var r;"function"==typeof l.callback&&l.callback(null==s||null===(r=s.response)||void 0===r?void 0:r.data),console.error(s)},loading:l.loading,loadingController:l.loadingController})});return function(n){return i.apply(this,arguments)}}();var te=_(6539),B=_(3588),X=_(8833);const ne=["modalAddCustomerInvoiceSuccess"],ie=(i,l)=>[i,l],ae=i=>({$implicit:i});function oe(i,l){if(1&i&&(e.j41(0,"div",37),e.eu8(1,45),e.k0s()),2&i){const n=e.XpG(2),a=e.sdS(9);e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(2,ae,n.requestService))}}function re(i,l){if(1&i&&(e.j41(0,"div",38)(1,"div",46)(2,"b"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"table",47)(6,"tr")(7,"td"),e.EFF(8,"Ph\xed ph\u1ea1t h\u1ee7y d\u1ecbch v\u1ee5"),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()()()),2&i){const n=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,2,"Used")),e.R7$(7),e.SpI("",n.APP_FUNC_FormatMoney(n.requestService.AftertaxBillValue),"\u0111")}}function le(i,l){if(1&i&&(e.j41(0,"div",38)(1,"div",46)(2,"b"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"table",47)(6,"tr")(7,"td"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s()(),e.j41(12,"tr")(13,"td"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()()()()),2&i){let n,a;const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,6,"Used")),e.R7$(5),e.JRh(e.bMT(9,8,"UsedElectricValue")),e.R7$(3),e.Lme("",t.APP_FUNC_RoundNumber(null!==(n=t.requestService.ElectricUsed)&&void 0!==n?n:0),"",null!==(n=t.requestService.Unit)&&void 0!==n?n:"kWh",""),e.R7$(3),e.JRh(e.bMT(15,10,"UsedMoneyValue")),e.R7$(3),e.SpI("",t.APP_FUNC_FormatMoney(null!==(a=t.requestService.AftertaxBillValue)&&void 0!==a?a:0),"\u0111")}}function se(i,l){if(1&i&&(e.j41(0,"div",39)(1,"div",46)(2,"b"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"table",47)(6,"tr")(7,"td"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"td")(11,"b"),e.EFF(12),e.k0s()()()()()),2&i){const n=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,3,"BillVAT")),e.R7$(5),e.JRh(e.bMT(9,5,"Status")),e.R7$(4),e.JRh(n.requestService.VEinvoiceStatusName)}}function ce(i,l){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&i){const n=e.XpG(5);e.R7$(2),e.JRh(e.bMT(3,2,"Email")),e.R7$(4),e.JRh(n.customerInvoice.BuyerEmail)}}function ue(i,l){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&i){const n=e.XpG(5);e.R7$(2),e.JRh(e.bMT(3,2,"Mobile")),e.R7$(4),e.JRh(n.customerInvoice.BuyerPhone)}}function de(i,l){if(1&i&&(e.j41(0,"table",47)(1,"tr")(2,"td"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"td")(6,"b"),e.EFF(7),e.k0s()()(),e.j41(8,"tr")(9,"td"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"td")(13,"b"),e.EFF(14),e.k0s()()(),e.j41(15,"tr")(16,"td"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"td")(20,"b"),e.EFF(21),e.k0s()()(),e.DNE(22,ce,7,4,"tr",57)(23,ue,7,4,"tr",57),e.k0s()),2&i){const n=e.XpG(4);e.R7$(3),e.JRh(e.bMT(4,8,"BillCompanyName")),e.R7$(4),e.JRh(n.customerInvoice.CompanyName),e.R7$(3),e.JRh(e.bMT(11,10,"BillCompanyAddress")),e.R7$(4),e.JRh(n.customerInvoice.Address),e.R7$(3),e.JRh(e.bMT(18,12,"BillCompanyTax")),e.R7$(4),e.JRh(n.customerInvoice.TaxCode),e.R7$(),e.Y8G("ngIf",n.customerInvoice.BuyerEmail),e.R7$(),e.Y8G("ngIf",n.customerInvoice.BuyerPhone)}}function me(i,l){if(1&i){const n=e.RV6();e.j41(0,"div",52)(1,"div",53)(2,"b"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ion-button",54),e.bIt("click",function(t){e.eBV(n);const o=e.XpG(3);return e.Njj(o.presentModalCustomerInvoice(t))}),e.nrm(6,"ion-icon",55),e.k0s()(),e.nrm(7,"hr"),e.DNE(8,de,24,14,"table",56),e.k0s()}if(2&i){const n=e.XpG(3);e.R7$(3),e.JRh(e.bMT(4,2,"ExportBillInfo")),e.R7$(5),e.Y8G("ngIf",n.customerInvoice)}}function _e(i,l){if(1&i){const n=e.RV6();e.j41(0,"div",40)(1,"div",48)(2,"ion-radio-group",49),e.bIt("ionChange",function(t){e.eBV(n);const o=e.XpG(2);return e.Njj(o.changeIsGetBill(t))}),e.j41(3,"ion-radio",50),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"ion-radio",50),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,me,9,4,"div",51),e.k0s()}if(2&i){const n=e.XpG(2);e.R7$(2),e.Y8G("value",0),e.R7$(),e.Y8G("value",0),e.R7$(),e.JRh(e.bMT(5,6,"NoGetBill")),e.R7$(2),e.Y8G("value",1),e.R7$(),e.JRh(e.bMT(8,8,"YesGetBill")),e.R7$(2),e.Y8G("ngIf",n.IsGetBill)}}function pe(i,l){if(1&i&&(e.j41(0,"div",19)(1,"div",58)(2,"div",59)(3,"h6",34)(4,"b"),e.EFF(5,"Ghi ch\xfa c\u1ee7a kh\xe1ch kh\xe0ng"),e.k0s()(),e.nrm(6,"hr",35),e.j41(7,"div")(8,"b",36),e.EFF(9),e.k0s()()()()()),2&i){const n=e.XpG(3);e.R7$(9),e.JRh(n.requestService.Notes)}}function ve(i,l){if(1&i&&(e.j41(0,"div",60)(1,"b",36),e.EFF(2),e.k0s()()),2&i){const n=e.XpG(4);e.R7$(2),e.JRh(n.requestService.AcceptNotes)}}function ge(i,l){if(1&i&&(e.j41(0,"div",61),e.nrm(1,"ion-img",62),e.k0s()),2&i){const n=e.XpG(4);e.R7$(),e.Y8G("src",n.readfile_url+n.requestService.AcceptImages)}}function Re(i,l){if(1&i&&(e.j41(0,"div",19)(1,"div",58)(2,"div",59)(3,"h6",34)(4,"b"),e.EFF(5,"Ghi ch\xfa x\xe1c nh\u1eadn d\u1ecbch v\u1ee5"),e.k0s()(),e.nrm(6,"hr",35),e.DNE(7,ve,3,1,"div",60)(8,ge,2,1,"div",61),e.k0s()()()),2&i){const n=e.XpG(3);e.R7$(7),e.vxM(7,n.requestService.AcceptNotes?7:-1),e.R7$(),e.vxM(8,n.requestService.AcceptImages?8:-1)}}function Ce(i,l){if(1&i&&(e.j41(0,"div",60)(1,"b",36),e.EFF(2),e.k0s()()),2&i){const n=e.XpG(4);e.R7$(2),e.JRh(n.requestService.CancelReason)}}function fe(i,l){if(1&i&&(e.j41(0,"div",61),e.nrm(1,"ion-img",62),e.k0s()),2&i){const n=e.XpG(4);e.R7$(),e.Y8G("src",n.readfile_url+n.requestService.CancelReasonImages)}}function he(i,l){if(1&i&&(e.j41(0,"div",19)(1,"div",58)(2,"div",59)(3,"h6",34)(4,"b"),e.EFF(5,"L\xfd do t\u1eeb ch\u1ed1i/h\u1ee7y d\u1ecbch v\u1ee5"),e.k0s()(),e.nrm(6,"hr",35),e.DNE(7,Ce,3,1,"div",60)(8,fe,2,1,"div",61),e.k0s()()()),2&i){const n=e.XpG(3);e.R7$(7),e.vxM(7,n.requestService.CancelReason?7:-1),e.R7$(),e.vxM(8,n.requestService.CancelReasonImages?8:-1)}}function be(i,l){if(1&i&&e.DNE(0,pe,10,1,"div",19)(1,Re,9,2,"div",19)(2,he,9,2,"div",19),2&i){const n=e.XpG(2);e.vxM(0,n.requestService.Notes?0:-1),e.R7$(),e.vxM(1,n.requestService.AcceptNotes||n.requestService.AcceptImages?1:-1),e.R7$(),e.vxM(2,n.requestService.CancelReason||n.requestService.CancelReasonImages?2:-1)}}function Pe(i,l){if(1&i&&(e.j41(0,"ion-select-option",70),e.EFF(1),e.k0s()),2&i){const n=l.$implicit;e.Y8G("value",n.RequestServiceCancelReasonId),e.R7$(),e.JRh(n.Reason)}}function Se(i,l){if(1&i){const n=e.RV6();e.j41(0,"div",67)(1,"ion-item",68)(2,"ion-textarea",74),e.bIt("ionChange",function(t){e.eBV(n);const o=e.XpG(3);return e.Njj(o.changeReason(t))}),e.k0s()()()}if(2&i){const n=e.XpG(3);e.R7$(2),e.Y8G("autoGrow",!0)("value",n.dataForm.Reason)}}function $e(i,l){if(1&i){const n=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ion-buttons",63)(6,"ion-button",64),e.bIt("click",function(){e.eBV(n),e.XpG();const t=e.sdS(77);return e.Njj(null==t?null:t.dismiss())}),e.nrm(7,"ion-icon",65),e.k0s()()()(),e.j41(8,"div",66)(9,"div",67)(10,"ion-item",68)(11,"ion-select",69),e.nI1(12,"translate"),e.nI1(13,"translate"),e.bIt("ionChange",function(t){e.eBV(n);const o=e.XpG(2);return e.Njj(o.changeRequestServiceCancelReason(t))}),e.Z7z(14,Pe,2,2,"ion-select-option",70,e.fX1),e.j41(16,"ion-select-option",70),e.EFF(17,"Kh\xe1c"),e.k0s()()()(),e.DNE(18,Se,3,2,"div",67),e.k0s(),e.j41(19,"ion-footer")(20,"div",71)(21,"ion-button",72),e.bIt("click",function(){e.eBV(n),e.XpG();const t=e.sdS(77);return e.Njj(null==t?null:t.dismiss())}),e.j41(22,"ion-label"),e.EFF(23),e.nI1(24,"translate"),e.k0s()(),e.j41(25,"ion-button",73),e.bIt("click",function(t){e.eBV(n),e.XpG();const o=e.sdS(77),s=e.XpG();return e.Njj(s.cancelService(t,o))}),e.j41(26,"ion-label"),e.EFF(27),e.nI1(28,"translate"),e.k0s()()()()}if(2&i){const n=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,9,"CancelService")),e.R7$(8),e.Y8G("value",n.dataForm.ReasonId)("cancelText",e.bMT(12,11,"Close"))("okText",e.bMT(13,13,"Apply")),e.R7$(3),e.Dyx(n.requestServiceCancelReasons),e.R7$(2),e.Y8G("value",-1),e.R7$(2),e.vxM(18,-1==n.dataForm.ReasonId?18:-1),e.R7$(5),e.JRh(e.bMT(24,15,"Cancel")),e.R7$(2),e.Y8G("disabled",n.cancelService_Disabled),e.R7$(2),e.JRh(e.bMT(28,17,"Confirm"))}}function Me(i,l){if(1&i){const n=e.RV6();e.j41(0,"div",75),e.nrm(1,"ion-img",76),e.j41(2,"h4"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div")(6,"small"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",77)(10,"ion-button",78),e.bIt("click",function(){e.eBV(n),e.XpG();const t=e.sdS(80);return e.Njj(null==t?null:t.dismiss())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()}2&i&&(e.R7$(3),e.JRh(e.bMT(4,3,"InvoiceRequestSent")),e.R7$(4),e.JRh(e.bMT(8,5,"InvoiceRequestSentMessage")),e.R7$(4),e.JRh(e.bMT(12,7,"Close")))}function Ee(i,l){if(1&i){const n=e.RV6();e.j41(0,"div",79),e.nrm(1,"ion-spinner",80),e.j41(2,"ion-label",81),e.EFF(3,"\u0110ang t\xecm nh\xe2n vi\xean ti\u1ebfp nh\u1eadn d\u1ecbch v\u1ee5 ..."),e.k0s()(),e.j41(4,"ion-button",78),e.bIt("click",function(){e.eBV(n),e.XpG();const t=e.sdS(77);return e.Njj(null==t?null:t.present())}),e.j41(5,"ion-label"),e.EFF(6,"H\u1ee7y d\u1ecbch v\u1ee5"),e.k0s()()}}function ke(i,l){if(1&i){const n=e.RV6();e.j41(0,"div",79),e.nrm(1,"ion-spinner",80),e.j41(2,"ion-label",81),e.EFF(3,"\u0110ang t\xecm nh\xe2n vi\xean ti\u1ebfp nh\u1eadn d\u1ecbch v\u1ee5 ..."),e.k0s()(),e.j41(4,"ion-button",78),e.bIt("click",function(){e.eBV(n),e.XpG();const t=e.sdS(77);return e.Njj(null==t?null:t.present())}),e.j41(5,"ion-label"),e.EFF(6,"H\u1ee7y d\u1ecbch v\u1ee5"),e.k0s()()}}function Ie(i,l){if(1&i){const n=e.RV6();e.j41(0,"div",79),e.nrm(1,"ion-icon",82),e.j41(2,"ion-label",83),e.EFF(3,"Nh\xe2n vi\xean \u0111\xe3 nh\u1eadn d\u1ecbch v\u1ee5."),e.k0s()(),e.j41(4,"ion-button",78),e.bIt("click",function(){e.eBV(n),e.XpG();const t=e.sdS(77);return e.Njj(null==t?null:t.present())}),e.j41(5,"ion-label"),e.EFF(6,"H\u1ee7y d\u1ecbch v\u1ee5"),e.k0s()()}}function Fe(i,l){if(1&i){const n=e.RV6();e.j41(0,"ion-button",86),e.bIt("click",function(t){e.eBV(n);const o=e.XpG(3);return e.Njj(o.presentModalAddChargingRateByService(t))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"Rate")))}function xe(i,l){if(1&i){const n=e.RV6();e.j41(0,"ion-button",87),e.bIt("click",function(t){e.eBV(n);const o=e.XpG(3);return e.Njj(o.completeOrder(t))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"Complete")))}function qe(i,l){if(1&i){const n=e.RV6();e.j41(0,"ion-button",87),e.bIt("click",function(){e.eBV(n);const t=e.XpG(3);return e.Njj(t.navigateByUrl(t.APP_ROUTE.BILL_INFO_DETAIL.replace(":id",t.requestService.BillId.toString())))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"ViewBill")))}function ye(i,l){if(1&i){const n=e.RV6();e.j41(0,"ion-button",87),e.bIt("click",function(){e.eBV(n);const t=e.XpG(3);return e.Njj(t.navigateByUrl(t.APP_ROUTE.CHARGING_SESSION_DETAIL.replace(":id",t.requestService.ChargeSessionId.toString())))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"GoToChargingSession")))}function je(i,l){if(1&i&&e.DNE(0,Fe,4,3,"ion-button",84)(1,xe,4,3,"ion-button",85)(2,qe,4,3)(3,ye,4,3),2&i){const n=e.XpG(2);e.vxM(0,n.requestService.VRequestStatus==n.v_request_status.HoanTat?0:-1),e.R7$(),e.vxM(1,n.requestService.BillId&&n.requestService.VEinvoiceStatus==n.v_einvoice_status.ChuaXacNhan?1:n.requestService.BillId?2:n.requestService.ChargeSessionId?3:-1)}}function De(i,l){if(1&i){const n=e.RV6();e.j41(0,"ion-content")(1,"ion-refresher",6),e.bIt("ionRefresh",function(t){e.eBV(n);const o=e.XpG();return e.Njj(o.onIonRefresher(t))}),e.nrm(2,"ion-refresher-content"),e.k0s(),e.j41(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"h4",11)(8,"span"),e.EFF(9),e.k0s()(),e.j41(10,"div",12)(11,"small"),e.EFF(12),e.k0s()(),e.nrm(13,"hr",13),e.j41(14,"div",14)(15,"span",15)(16,"small"),e.EFF(17),e.nI1(18,"translate"),e.j41(19,"b"),e.EFF(20),e.k0s()()(),e.j41(21,"span",16)(22,"small"),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"b"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()()(),e.nrm(28,"div",17),e.k0s()()(),e.j41(29,"div",18)(30,"div",19)(31,"div",20)(32,"div",21)(33,"div",22)(34,"div",23)(35,"div",24)(36,"ion-chip",25),e.nrm(37,"ion-icon",26),e.j41(38,"ion-label"),e.EFF(39),e.k0s()()()()(),e.j41(40,"div",27)(41,"div",28)(42,"div",29)(43,"div"),e.nrm(44,"ion-img",30),e.k0s(),e.j41(45,"div",31)(46,"div",32),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"div")(50,"strong"),e.EFF(51),e.k0s(),e.j41(52,"small"),e.EFF(53),e.k0s()()()()(),e.j41(54,"div",33)(55,"h6",34)(56,"b"),e.EFF(57,"Th\u1eddi gian \u0111\u1eb7t l\u1ecbch"),e.k0s()(),e.nrm(58,"hr",35),e.j41(59,"div")(60,"b",36),e.EFF(61),e.k0s()()(),e.j41(62,"div",33)(63,"h6",34)(64,"b"),e.EFF(65,"Th\u1eddi gian th\u1ef1c hi\u1ec7n (d\u1ef1 ki\u1ebfn)"),e.k0s()(),e.nrm(66,"hr",35),e.j41(67,"div")(68,"b",36),e.EFF(69),e.k0s()()()()()(),e.DNE(70,oe,2,4,"div",37),e.k0s(),e.DNE(71,re,11,4,"div",38)(72,le,18,12,"div",38)(73,se,13,7,"div",39)(74,_e,10,10,"div",40)(75,be,3,3),e.k0s(),e.j41(76,"ion-modal",41,1),e.bIt("didPresent",function(t){e.eBV(n);const o=e.XpG();return e.Njj(o.onModalCancelServiceDidPresent(t))}),e.DNE(78,$e,29,19,"ng-template"),e.k0s(),e.j41(79,"ion-modal",42,2),e.DNE(81,Me,13,9,"ng-template"),e.k0s()(),e.j41(82,"ion-footer",43)(83,"div",44),e.DNE(84,Ee,7,0)(85,ke,7,0)(86,Ie,7,0)(87,je,4,2),e.k0s()()}if(2&i){let n,a,t,o,s;const r=e.XpG();e.R7$(9),e.JRh(r.requestService.ServiceName),e.R7$(3),e.JRh(r.requestService.RequestAddress),e.R7$(5),e.SpI("",e.bMT(18,25,"YourWay")," "),e.R7$(3),e.SpI("",r.getDistance2CL()," km"),e.R7$(3),e.SpI("",e.bMT(24,27,"EstimatedTime")," "),e.R7$(3),e.Lme("",r.getTime2CL()," ",e.bMT(27,29,"Minute"),""),e.R7$(6),e.HbH("border-"+r.APP_FUNC_GetColor_VRequestStatus(r.requestService.VRequestStatus)),e.R7$(4),e.Y8G("color",r.APP_FUNC_GetColor_VRequestStatus(r.requestService.VRequestStatus)),e.R7$(3),e.JRh(r.requestService.VRequestStatusName),e.R7$(8),e.JRh(null!==(n=r.requestService.ChargePackageName)&&void 0!==n?n:e.bMT(48,31,"ChargingPackage")),e.R7$(4),e.SpI("",r.APP_FUNC_FormatMoney(null!==(a=r.requestService.PayValue)&&void 0!==a?a:0),"\u0111"),e.R7$(2),e.Lme(" /",r.requestService.PowerValue,"",null!==(t=r.requestService.Unit)&&void 0!==t?t:"kWh",""),e.R7$(8),e.JRh(r.APP_FUNC_FormatDate(r.requestService.RequestDate)),e.R7$(8),e.Lme("",r.APP_FUNC_FormatDate(r.requestService.ExecutionDate+" "+r.requestService.ExecutionTime,"DD/MM/YYYY, HH:mm")," - ",r.APP_FUNC_FormatDate(r.requestService.ExecutionDate+" "+r.requestService.ExecutionTimeTo,"HH:mm"),""),e.R7$(),e.vxM(70,r.requestService.StaffUserId?70:-1),e.R7$(),e.vxM(71,e.l_i(33,ie,r.v_request_status.KhachHangHuy,r.v_request_status.TuChoiPhucVu).includes(null!==(o=r.requestService.VRequestStatus)&&void 0!==o?o:0)&&r.requestService.AftertaxBillValue?71:-1),e.R7$(),e.vxM(72,r.requestService.VRequestStatus==r.v_request_status.HoanTat?72:-1),e.R7$(),e.vxM(73,r.requestService.VEinvoiceStatus&&r.requestService.VEinvoiceStatus!=r.v_einvoice_status.ChuaXacNhan?73:-1),e.R7$(),e.vxM(74,r.requestService.VEinvoiceStatus==r.v_einvoice_status.ChuaXacNhan?74:-1),e.R7$(),e.vxM(75,r.requestService.VRequestStatus!=r.v_request_status.HoanTat?75:-1),e.R7$(9),e.vxM(84,(s=r.requestService.VRequestStatus)===r.v_request_status.YeuCauDichVu?84:s===r.v_request_status.ChoXacNhan?85:s===r.v_request_status.NhanVienDangDiDen?86:87)}}function Oe(i,l){if(1&i&&(e.j41(0,"div",88)(1,"div",53)(2,"div",89)(3,"b",90),e.EFF(4,"Chi ti\u1ebft d\u1ecbch v\u1ee5"),e.k0s()()(),e.nrm(5,"hr",91),e.j41(6,"div",92)(7,"table",47)(8,"tr")(9,"td"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"td")(13,"b"),e.EFF(14),e.k0s()()(),e.j41(15,"tr")(16,"td"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"td")(20,"b"),e.EFF(21),e.k0s()()(),e.j41(22,"tr")(23,"td"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"td")(27,"b"),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td"),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"td")(34,"b"),e.EFF(35),e.k0s()()()()()()),2&i){const n=l.$implicit;e.R7$(10),e.JRh(e.bMT(11,8,"Employe")),e.R7$(4),e.JRh(n.StaffFullName),e.R7$(3),e.JRh(e.bMT(18,10,"CarBrand")),e.R7$(4),e.JRh(n.CarBrand),e.R7$(3),e.JRh(e.bMT(25,12,"ModelName")),e.R7$(4),e.JRh(n.ModelName),e.R7$(3),e.JRh(e.bMT(32,14,"VehicleNumber")),e.R7$(4),e.JRh(n.VehicleNumber)}}const Te=[{path:"",component:(()=>{var i;class l{constructor(a,t,o,s,r,m){var p;this.router=a,this.activatedRoute=t,this.modalController=o,this.animationController=s,this.toastController=r,this.loadingController=m,this.APP_ROUTE=X._,this.APP_FUNC_FormatDate=C.Rv,this.APP_FUNC_FormatMoney=C.xi,this.APP_FUNC_RoundNumber=C.Rw,this.APP_FUNC_GetColor_VRequestStatus=C.rZ,this.v_request_status=B.Gz,this.v_einvoice_status=B.XM,this.readfile_url=S.c.readfile_url,this.requestServiceCancelReasons=[],this.customerInvoices=[],this.dataForm={};let R=null!==(p=t.snapshot.params.id)&&void 0!==p?p:"";R&&(this.RequestServiceId=parseFloat(R))}ngOnInit(){var a=this;this.IsOnInit=!0,(0,v.A)(function*(){(yield(0,te.kU)())&&a.refreshData(()=>{})})()}ionViewDidEnter(){this.IsOnInit?this.IsOnInit=!1:this.refreshData()}onIonRefresher(a){this.refreshData(()=>{a.target.complete()})}refreshData(a){var t=this;return(0,v.A)(function*(){(0,K.K5)({params:{RequestServiceId:t.RequestServiceId},callback:o=>{var s,r,m,p,R;t.response=o,null!=o&&o.Succeeded?(t.requestService=null!==(s=o.Data)&&void 0!==s?s:{},t.customerPosition={lat:null!==(r=null===(m=t.requestService)||void 0===m?void 0:m.RequestLat)&&void 0!==r?r:0,lng:null!==(p=null===(R=t.requestService)||void 0===R?void 0:R.RequestLong)&&void 0!==p?p:0}):(0,f.cX)(t.toastController,{},o).then(G=>{G.onDidDismiss().then(J=>{t.router.navigateByUrl(X._.REQUEST_SERVICE)}),G.present()}),a&&a()}})})()}initMap(){var a=this;const t=function(){var s=(0,v.A)(function*(){let r,m,R=window.google.maps;const{Map:G}=yield R.importLibrary("maps"),{AdvancedMarkerElement:J}=yield R.importLibrary("marker");let U=new G(document.getElementById("map"),{zoom:12,center:a.customerPosition,disableDefaultUI:!0,mapId:"DEMO_MAP_ID"});a.customerPosition&&(r=new J({map:U,position:a.customerPosition,title:"V\u1ecb tr\xed kh\xe1ch h\xe0ng \u0111\u1eb7t l\u1ecbch"})),a.employePosition&&(m=new J({map:U,position:a.employePosition,title:"V\u1ecb tr\xed nh\xe2n vi\xean iSAC"})),a.customerPosition&&a.employePosition&&setTimeout(()=>{var w,L,Y,z,Ne=R.DirectionsService(),Q=R.DirectionsRenderer();Q.setMap(U),Ne.route({origin:R.LatLng(null===(w=a.employePosition)||void 0===w?void 0:w.lat,null===(L=a.employePosition)||void 0===L?void 0:L.lng),destination:R.LatLng(null===(Y=a.customerPosition)||void 0===Y?void 0:Y.lat,null===(z=a.customerPosition)||void 0===z?void 0:z.lng),travelMode:"DRIVING"},function(Be,Xe){"OK"==Xe&&Q.setDirections(Be)})},1e3)});return function(){return s.apply(this,arguments)}}();window.initMap=t;let o=document.createElement("script");o.async=!0,o.src=`https://maps.google.com/maps/api/js?key=${S.c.apiKey}&libraries=places,marker,routes&callback=initMap&loading=async`,document.head.append(o)}refreshCurrentPosition(a){var t=this;return(0,v.A)(function*(){let o=()=>{(0,k.Xz)().then(s=>{t.employePosition=s,a&&a()})};O.L.getCurrentPosition({enableHighAccuracy:!0}).then(function(){var s=(0,v.A)(function*(r){if(r.coords){var m={lat:r.coords.latitude,lng:r.coords.longitude};yield(0,k.fj)({params:m})}o()});return function(r){return s.apply(this,arguments)}}()).catch(()=>{o()})})()}navigateByUrl(a){this.router.navigateByUrl(a)}getDistance2CL(){return this.employePosition&&this.customerPosition?(0,C.Rw)((0,C.GH)(this.employePosition,this.customerPosition),10):0}getTime2CL(){return this.employePosition&&this.customerPosition?(0,C.Rw)(3*(0,C.GH)(this.employePosition,this.customerPosition),1):0}onModalCancelServiceDidPresent(a){var t=this;return(0,v.A)(function*(){var o;ee({loadingController:t.loadingController,params:{ServiceId:null===(o=t.requestService)||void 0===o?void 0:o.ServiceId,IsReasonForCustomer:!0,PageNumber:1,PageSize:100},callback:s=>{var r;null!=s&&s.Succeeded?t.requestServiceCancelReasons=null!==(r=s.Data)&&void 0!==r?r:[]:(0,f.cX)(t.toastController,{},s).then(m=>m.present())}})})()}changeRequestServiceCancelReason(a){var t=this;return(0,v.A)(function*(){t.dataForm.ReasonId=a.detail.value})()}changeReason(a){var t=this;return(0,v.A)(function*(){var o;t.dataForm.Reason=null===(o=a.detail.value)||void 0===o?void 0:o.trim()})()}get cancelService_Disabled(){var a;return!(null!==(a=this.requestServiceCancelReasons.find(t=>t.RequestServiceCancelReasonId==this.dataForm.ReasonId))&&void 0!==a&&a.Reason||this.dataForm.Reason)}cancelService(a,t){var o=this;return(0,v.A)(function*(){var s,r,m;(0,K.nY)({loadingController:o.loadingController,params:{RequestServiceId:null===(s=o.requestService)||void 0===s?void 0:s.RequestServiceId,CancelReason:null!==(r=null===(m=o.requestServiceCancelReasons.find(p=>p.RequestServiceCancelReasonId==o.dataForm.ReasonId))||void 0===m?void 0:m.Reason)&&void 0!==r?r:o.dataForm.Reason},callback:p=>{null!=p&&p.Succeeded?(null==t||t.dismiss(),o.router.navigateByUrl(X._.REQUEST_SERVICE),(0,f.cX)(o.toastController,{color:"danger",message:"\u0110\xe3 h\u1ee7y d\u1ecbch v\u1ee5"}).then(R=>R.present())):(0,f.cX)(o.toastController,{},p).then(R=>R.present())}})})()}presentModalAddChargingRateByService(a){var t=this;return(0,v.A)(function*(){var o;(yield t.modalController.create({component:j,componentProps:{rating:{VRatingType:B.em.DanhGiaNhanVien,ObjectId:null===(o=t.requestService)||void 0===o?void 0:o.CustomerUserId,RateValue:5}},cssClass:"ion-modal-auto ion-modal-bottom"})).present()})()}changeIsGetBill(a){this.IsGetBill=a.detail.value,this.GetCustomerinvoices()}GetCustomerinvoice(a){var t=this;return(0,v.A)(function*(){a&&(0,H.kT)({loadingController:t.loadingController,params:{CustomerInvoiceId:a},callback:o=>{null!=o&&o.Succeeded&&(t.customerInvoice=o.Data)}})})()}GetCustomerinvoices(){var a=this;return(0,v.A)(function*(){(0,H.Ul)({loadingController:a.loadingController,params:{PageNumber:1,PageSize:100},callback:t=>{var o;if(null!=t&&t.Succeeded)if(a.customerInvoices=null!==(o=t.Data)&&void 0!==o?o:[],a.customerInvoices.length)if(1==a.customerInvoices.length)a.customerInvoice=a.customerInvoices[0];else{var s;a.customerInvoice=null!==(s=a.customerInvoices.filter(r=>r.IsDefault)[0])&&void 0!==s?s:a.customerInvoices[0]}else a.presentModalAddCustomerInvoice()}})})()}presentModalCustomerInvoice(a){var t=this;return(0,v.A)(function*(){var o;const s=yield t.modalController.create({component:D.u,componentProps:{CustomerInvoiceId:null===(o=t.customerInvoice)||void 0===o?void 0:o.CustomerInvoiceId}});s.onDidDismiss().then(r=>{"submit"==r.role&&t.GetCustomerinvoice(r.data)}),s.present()})()}presentModalAddCustomerInvoice(a,t){var o=this;return(0,v.A)(function*(){const s=yield o.modalController.create({component:V.$,componentProps:{CustomerInvoiceId:t}});s.onDidDismiss().then(r=>{"success"==r.role&&o.GetCustomerinvoices()}),s.present()})()}completeOrder(a){var t=this;return(0,v.A)(function*(){var o;if(null!==(o=t.requestService)&&void 0!==o&&o.BillId&&!t.isCompleteOrder)if(t.isCompleteOrder=!0,t.IsGetBill){var s;(0,W.k)({loadingController:t.loadingController,params:Object.assign({},t.customerInvoice,{BillId:null===(s=t.requestService)||void 0===s?void 0:s.BillId}),callback:m=>{var p;null!=m&&m.Succeeded?(t.refreshData(),null===(p=t.modalAddCustomerInvoiceSuccessRef)||void 0===p||p.present()):((0,f.cX)(t.toastController,{},m).then(R=>R.present()),t.isCompleteOrder=!1)}})}else{var r;(0,W.o)({loadingController:t.loadingController,params:{BillId:null===(r=t.requestService)||void 0===r?void 0:r.BillId},callback:m=>{null!=m&&m.Succeeded?t.refreshData():((0,f.cX)(t.toastController,{},m).then(p=>p.present()),t.isCompleteOrder=!1)}})}})()}}return(i=l).\u0275fac=function(a){return new(a||i)(e.rXU(M.Ix),e.rXU(M.nX),e.rXU(u.W3),e.rXU(u.Hx),e.rXU(u.K_),e.rXU(u.Xi))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-request-service-detail"]],viewQuery:function(a,t){if(1&a&&e.GBs(ne,5),2&a){let o;e.mGM(o=e.lsd())&&(t.modalAddCustomerInvoiceSuccessRef=o.first)}},decls:10,vars:5,consts:[["templateVehicle",""],["modalCancelService",""],["modalAddCustomerInvoiceSuccess",""],["color","primary"],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],[1,"bg-primary"],[1,"container","card-location","text-white","pb-2"],[1,"row"],[1,"col-auto"],[1,"d-flex","align-items-center","my-0"],[1,"d-flex","align-items-center","mt-1"],[1,"border-gray","mt-2","mb-1"],[1,"text-right","text-nowrap"],[1,"mr-4"],[1,"d-inline-block"],[1,"col","p-0"],[1,"container"],[1,"row","align-items-stretch"],[1,"col-12","col-lg-6","mt-3","mb-4","d-flex","flex-column"],[1,"flex-grow-1","card-day","d-flex","flex-column","rounded","bg-white","border","mt-3"],[1,"flex-grow-1"],[1,"d-flex","justify-content-center"],[1,"card-status"],[1,"no-opacity",3,"color"],["src","../../../assets/icon/tabs/service.svg"],[1,"p-2"],[1,"card-package","rounded","border","d-flex","align-items-stretch","p-2"],[1,"d-flex","align-items-center"],["src","../../../assets/icon/ion-img/charge-package.svg"],[1,"align-self-stretch","pl-2","d-flex","flex-column","justify-content-between"],[1,"text-muted","fs-3"],[1,"card-day","bg-white","p-2","mt-3"],[1,"m-0"],[1,"border-dashed","mt-2","mb-3"],[1,"text-medium"],[1,"col-12","col-lg-6","mb-4","mt-lg-4","pt-2"],[1,"card-used","rounded","bg-white","mb-4"],[1,"card-einvoice","rounded","bg-white","mb-4"],[1,"mb-4"],[1,"ion-modal-auto",3,"didPresent"],[1,"ion-modal-small"],[1,"ion-padding-vertical"],[1,"container","d-flex","align-items-center","justify-content-between"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mb-2","d-flex","justify-content-between"],[1,"table","table-borderless","m-0"],[1,"mb-3","bill-group-radio"],["mode","md",3,"ionChange","value"],["label-placement","end",3,"value"],["class","card-bill rounded bg-white mt-3",4,"ngIf"],[1,"card-bill","rounded","bg-white","mt-3"],[1,"d-flex","align-items-center","justify-content-between"],["size","small","fill","clear",3,"click"],["src","../../../assets/icon/ion-icon/chevron-right.svg",1,"fs-4"],["class","table table-borderless m-0",4,"ngIf"],[4,"ngIf"],[1,"col-12","col-lg-6","mb-4"],[1,"card-day","rounded","bg-white","p-3"],[1,"mb-3"],[1,"card-day","rounded","bg-white","mt-2"],[3,"src"],["slot","end"],[3,"click"],["name","close-outline",1,"fs-24"],[1,"ion-padding","mb-4"],[1,"mt-3","ion-item-input"],["lines","none"],["placeholder","Ch\u1ecdn l\xed do h\u1ee7y d\u1ecbch v\u1ee5","interface","action-sheet",3,"ionChange","value","cancelText","okText"],[3,"value"],[1,"d-flex","p-2"],["fill","outline","color","medium","expand","block","shape","round",1,"flex-grow-1","m-1",3,"click"],["color","danger","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click","disabled"],["maxlength","250","placeholder","Nh\u1eadp l\xed do h\u1ee7y d\u1ecbch v\u1ee5!",3,"ionChange","autoGrow","value"],[1,"container","p-4","text-center","container-success"],["src","../../../assets/icon/ion-img/success.svg"],[1,"mt-5"],["color","medium","shape","round","fill","outline","expand","block",3,"click"],[1,"mr-3","d-flex","align-items-center"],["name","lines"],[1,"fs-14","ml-2"],["color","primary","name","checkmark-circle-outline",1,"fs-24"],["color","primary",1,"fs-14","ml-2"],["color","medium","fill","outline","shape","round","expand","block",1,"flex-grow-1","m-1"],["color","primary","shape","round","expand","block",1,"flex-grow-1","m-1"],["color","medium","fill","outline","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],["color","primary","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],[1,"card-vehicle","h-100","bg-white","rounded","p-3"],[1,"text-ellipsis"],[1,"mr-1"],[1,"mt-2","mb-2"],[1,"d-flex","align-items-start"]],template:function(a,t){1&a&&(e.j41(0,"ion-header",3)(1,"ion-toolbar")(2,"ion-buttons",4),e.nrm(3,"ion-back-button",5),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.DNE(7,De,88,36)(8,Oe,36,16,"ng-template",null,0,e.C5r)),2&a&&(e.R7$(3),e.Y8G("defaultHref",t.APP_ROUTE.DEFAULT),e.R7$(2),e.JRh(e.bMT(6,3,"ServiceDetail")),e.R7$(2),e.vxM(7,t.requestService?7:-1))},dependencies:[b.bT,b.T3,u.Jm,u.QW,u.ZB,u.W9,u.M0,u.eU,u.iq,u.KW,u.uz,u.he,u.KO,u.f0,u.To,u.Ki,u.Nm,u.Ip,u.w2,u.nc,u.BC,u.ai,u.Sb,u.Je,u.Gw,u.el,E.D9],styles:[".card-location[_ngcontent-%COMP%]{position:relative;z-index:1;background-image:url(bg-charging-location.24bf138423cec5f5.svg);background-repeat:no-repeat;background-position:top center;background-size:auto 100%}.card-location.rounded[_ngcontent-%COMP%]{border-top-left-radius:1.5rem!important;border-top-right-radius:1.5rem!important}.card-location[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 5rem;--border-radius: .5rem;border:1px solid var(--ion-color-light)}.card-location[_ngcontent-%COMP%]   .icon-w24[_ngcontent-%COMP%]{display:inline-block;width:24px}.card-location[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}#map[_ngcontent-%COMP%]{width:100%;height:100%}.card-day.rounded[_ngcontent-%COMP%], .card-day.rounded[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-day[_ngcontent-%COMP%]   .card-status[_ngcontent-%COMP%]{margin-top:-1rem}.card-day[_ngcontent-%COMP%]   .card-package[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:3rem}.card-day[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border-radius:.5rem;overflow:hidden}.card-vehicle.rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-vehicle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important}.card-vehicle[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2rem;height:2rem;min-width:2rem;min-height:2rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-radius: .5rem}.card-vehicle[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:3rem}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;vertical-align:top}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;color:var(--ion-color-medium-shade)}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}.card-used[_ngcontent-%COMP%], .card-einvoice[_ngcontent-%COMP%]{padding:1rem}.card-used.rounded[_ngcontent-%COMP%], .card-einvoice.rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-used[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%], .card-einvoice[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed}.card-used[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card-einvoice[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;vertical-align:top}.card-used[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .card-einvoice[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;font-size:.875rem;color:var(--ion-color-medium-shade)}.card-used[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   b[_ngcontent-%COMP%], .card-einvoice[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   b[_ngcontent-%COMP%]{color:var(--ion-color-dark)}.card-used[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, .card-einvoice[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}.card-bill[_ngcontent-%COMP%]{padding:1rem}.card-bill.rounded[_ngcontent-%COMP%]{border-radius:1.5rem!important}.card-bill[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important}.card-bill[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem}.card-bill[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;vertical-align:top}.card-bill[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;font-size:.875rem;color:var(--ion-color-medium-shade)}.card-bill[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   b[_ngcontent-%COMP%]{color:var(--ion-color-dark)}.card-bill[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}.bill-group-radio[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]{margin:0 2rem .5rem 0}"]}),l})()}];let Ae=(()=>{var i;class l{}return(i=l).\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[M.iI.forChild(Te),M.iI]}),l})();var Ge=_(3890);let Ve=(()=>{var i;class l{}return(i=l).\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[b.MD,$.YN,u.bv,Ae,Ge.x]}),l})()}}]);