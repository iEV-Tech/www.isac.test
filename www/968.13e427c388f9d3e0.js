"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[968],{968:(A,b,s)=>{s.r(b),s.d(b,{FeedbackPageModule:()=>$});var u=s(177),F=s(9417),r=s(7896),h=s(7625),f=s(467),P=s(9051),v=s(2254),_=s(6539),m=s(8344),k=s(8833),e=s(4438),I=s(4842);function D(a,c){1&a&&(e.j41(0,"div",11),e.nrm(1,"ion-spinner",12),e.k0s())}function C(a,c){1&a&&(e.j41(0,"div",13),e.nrm(1,"img",14),e.j41(2,"div",15),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"DataNotFound")))}function R(a,c){if(1&a){const d=e.RV6();e.qex(0),e.j41(1,"div",16)(2,"div",17)(3,"div",18)(4,"div")(5,"small",19),e.EFF(6),e.k0s()(),e.j41(7,"div",20)(8,"ion-button",21),e.bIt("click",function(n){const i=e.eBV(d).$implicit,o=e.XpG();return e.Njj(o.presentModalAddFeedback(n,i.FeedbackId))}),e.nrm(9,"ion-icon",22),e.k0s(),e.j41(10,"ion-button",23),e.bIt("click",function(n){const i=e.eBV(d).$implicit,o=e.XpG();return e.Njj(o.DeleteFeedback(n,i.FeedbackId))}),e.nrm(11,"ion-icon",24),e.k0s()()(),e.nrm(12,"hr"),e.j41(13,"div")(14,"b"),e.EFF(15),e.k0s(),e.j41(16,"div",25),e.EFF(17),e.k0s()()()(),e.bVm()}if(2&a){const d=c.$implicit;e.R7$(6),e.JRh(d.FbCatgTitle),e.R7$(9),e.JRh(d.Title),e.R7$(2),e.JRh(d.Content)}}function M(a,c){if(1&a){const d=e.RV6();e.j41(0,"ion-infinite-scroll",26),e.bIt("ionInfinite",function(n){e.eBV(d);const i=e.XpG();return e.Njj(i.onIonInfinite(n))}),e.nrm(1,"ion-infinite-scroll-content"),e.k0s()}}const T=[{path:"",component:(()=>{var a;class c{constructor(t,n,i,o,l){var g=this;this.router=t,this.modalController=n,this.toastController=i,this.loadingController=o,this.animationController=l,this.APP_ROUTE=k._,this.paging={sortfield:null,sorttype:null,page:1,limit:10,loading:!1,active:!0},this.filter={},this.feedbacks=[],(0,f.A)(function*(){g.loading=yield g.loadingController.create({message:""})})()}ngOnInit(){var t=this;(0,f.A)(function*(){(yield(0,_.kU)())&&t.refreshData()})()}onIonRefresher(t){this.filter={},this.refreshData(()=>{t.target.complete()})}onIonInfinite(t){this.loadMore(()=>{t.target.complete()})}resetData(){this.feedbacks.length=0}pushData(t){this.feedbacks=this.feedbacks.concat(t)}refreshData(t){this.filter={},this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging(t)}loadMore(t){this.paging.page+=1,this.loadData_Paging(t)}searchChange(t){this.filter.search=t.target.value.replace(/[\`\~\!\@\#\$\%\^\&\*\(\)\-\_\=\+\[\{\]\}\\\|\;\:\'\"\,\<\.\>\/\?]+/g," ").replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging()}sortChange(t,n){this.paging.sortfield=t||null,this.paging.sorttype=n||null,this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging()}filterChange(){this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging()}loadData_Paging(t){var n=this;return(0,f.A)(function*(){n.paging.loading=!0,(0,v.kT)({loading:i=>{var o,l;i?null===(o=n.loading)||void 0===o||o.present():null===(l=n.loading)||void 0===l||l.dismiss()},params:{PageNumber:n.paging.page,PageSize:n.paging.limit},callback:i=>{var o;n.response=i,null!=i&&i.Succeeded?n.pushData(null!==(o=i.Data)&&void 0!==o?o:[]):(0,m.cX)(n.toastController,{},i).then(l=>l.present()),n.paging.loading=!1,n.paging.active=!(null==i||!i.HasNextPage),t&&t()}})})()}presentModalAddFeedback(t,n){var i=this;return(0,f.A)(function*(){null==t||t.preventDefault();let o=yield i.modalController.create({component:P.l,componentProps:{FeedbackId:n}});o.onDidDismiss().then(l=>{"success"==l.role&&i.refreshData()}),o.present()})()}DeleteFeedback(t,n){var i=this;return(0,f.A)(function*(){null==t||t.preventDefault(),n&&(0,m.Yy)(i.modalController,i.animationController,{selectedId:n,message:{TitleConfirm:"Delete_Confirm",TextConfirm:"Delete"},fnConfirm:o=>{(0,v.vE)({loading:l=>{var g,p;l?null===(g=i.loading)||void 0===g||g.present():null===(p=i.loading)||void 0===p||p.dismiss()},params:{FeedbackId:o},callback:l=>{null!=l&&l.Succeeded?i.refreshData():(0,m.cX)(i.toastController,{},l).then(g=>g.present())}})}})})()}openDetail(t,n){var i=this;return(0,f.A)(function*(){var o,l;i.router.navigateByUrl(k._.FEEDBACK_DETAIL.replace(":id",null!==(o=null===(l=n.FeedbackId)||void 0===l?void 0:l.toString())&&void 0!==o?o:""))})()}}return(a=c).\u0275fac=function(t){return new(t||a)(e.rXU(h.Ix),e.rXU(r.W3),e.rXU(r.K_),e.rXU(r.Xi),e.rXU(r.Hx))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-feedback"]],decls:22,vars:11,consts:[["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],["class","container-loading",4,"ngIf"],["class","container py-5 text-center",4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],[1,"container","py-3"],["mode","md","size","default","expand","full","shape","round",1,"ion-no-margin",3,"click"],["slot","start","name","add-outline"],[1,"container-loading"],["name","circular","color","primary"],[1,"container","py-5","text-center"],["src","../../../assets/image/temp/no-info.svg"],[1,"text-muted","mt-4"],[1,"mb-3"],[1,"card-feedback","rounded","bg-white"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-primary"],[1,"text-nowrap"],["size","small","color","medium","fill","clear",3,"click"],["src","../../../assets/icon/ion-icon/edit.svg",1,"fs-4"],["size","small","color","danger","fill","clear",3,"click"],["name","close-outline",1,"fs-5"],[1,"mt-2"],[3,"ionInfinite"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-back-button",1),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-content")(8,"ion-refresher",2),e.bIt("ionRefresh",function(o){return n.onIonRefresher(o)}),e.nrm(9,"ion-refresher-content"),e.k0s(),e.DNE(10,D,2,0,"div",3)(11,C,5,3,"div",4),e.j41(12,"div",5),e.DNE(13,R,18,3,"ng-container",6),e.k0s(),e.DNE(14,M,2,0,"ion-infinite-scroll",7),e.k0s(),e.j41(15,"ion-footer")(16,"div",8)(17,"ion-button",9),e.bIt("click",function(o){return n.presentModalAddFeedback(o)}),e.nrm(18,"ion-icon",10),e.j41(19,"ion-label"),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()()),2&t&&(e.R7$(3),e.Y8G("defaultHref",n.APP_ROUTE.TABS_USER),e.R7$(2),e.JRh(e.bMT(6,7,"Feedback")),e.R7$(5),e.Y8G("ngIf",!n.response),e.R7$(),e.Y8G("ngIf",n.response&&!n.feedbacks.length),e.R7$(2),e.Y8G("ngForOf",n.feedbacks),e.R7$(),e.Y8G("ngIf",n.paging.active),e.R7$(6),e.JRh(e.bMT(21,9,"NewFeedback")))},dependencies:[u.Sq,u.bT,r.Jm,r.QW,r.W9,r.M0,r.eU,r.iq,r.Ax,r.Hp,r.he,r.To,r.Ki,r.w2,r.BC,r.ai,r.el,I.D9],styles:[".card-feedback[_ngcontent-%COMP%]{padding:1rem}.card-feedback.rounded[_ngcontent-%COMP%]{border-radius:1.5rem!important}.card-feedback[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important}.card-feedback[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2rem;height:2rem;min-width:2rem;min-height:2rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-radius: .5rem}"]}),c})()}];let j=(()=>{var a;class c{}return(a=c).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[h.iI.forChild(T),h.iI]}),c})();var y=s(3890);let $=(()=>{var a;class c{}return(a=c).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[u.MD,F.YN,r.bv,j,y.x]}),c})()}}]);