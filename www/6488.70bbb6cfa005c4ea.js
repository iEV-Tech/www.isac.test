"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6488],{4393:(E,j,o)=>{o.d(j,{FC:()=>k,SD:()=>O,T9:()=>_});var R=o(467),M=o(369);const a=new M.w({name:"_localDB",driverOrder:[M.C.IndexedDB,M.C.LocalStorage]}),k=function(){var P=(0,R.A)(function*(r){var g;yield a.create(),(r=null!==(g=r)&&void 0!==g?g:{}).params=r.params||{};try{var u=(yield a.get("setting"))||{};return"function"==typeof r.callback&&r.callback(u),u}catch(C){"function"==typeof r.callback&&r.callback(),console.error(C)}return{}});return function(g){return P.apply(this,arguments)}}(),_=function(){var P=(0,R.A)(function*(r){var g;yield a.create();var f="setting";(r=null!==(g=r)&&void 0!==g?g:{}).params=r.params||{};try{var u=(yield a.get(f))||{};Object.assign(u,r.params),yield a.set(f,u),"function"==typeof r.callback&&r.callback(u)}catch(C){"function"==typeof r.callback&&r.callback(),console.error(C)}});return function(g){return P.apply(this,arguments)}}(),O=function(){var P=(0,R.A)(function*(r){var g;yield a.create(),(r=null!==(g=r)&&void 0!==g?g:{}).params=r.params||{};try{yield a.set("setting",{}),"function"==typeof r.callback&&r.callback()}catch(u){"function"==typeof r.callback&&r.callback(),console.error(u)}});return function(g){return P.apply(this,arguments)}}()},6488:(E,j,o)=>{o.r(j),o.d(j,{UserPageModule:()=>V});var R=o(177),M=o(9417),a=o(7896),k=o(7625),_=o(467),O=o(23),P=o(1038),r=o(9946),g=o(6539),f=o(8517),u=o(8833),C=o(5312),I=o(8344),A=o(4393),S=o(6171),B=o(4486),n=o(4438),$=o(345),F=o(4842);function N(c,h){if(1&c){const p=n.RV6();n.j41(0,"div",35)(1,"div",36)(2,"h4",37),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.j41(5,"p",38),n.EFF(6),n.nI1(7,"translate"),n.k0s()(),n.j41(8,"div",39)(9,"div",40)(10,"ion-button",41),n.bIt("click",function(){n.eBV(p),n.XpG();const e=n.sdS(147);return n.Njj(null==e?null:e.dismiss())}),n.EFF(11),n.nI1(12,"translate"),n.k0s()(),n.j41(13,"div",42)(14,"ion-button",43),n.bIt("click",function(e){n.eBV(p);const i=n.XpG(),t=n.sdS(147);return null==t||t.dismiss(),n.Njj(i.signOut(e))}),n.EFF(15),n.nI1(16,"translate"),n.k0s()()()()}2&c&&(n.R7$(3),n.JRh(n.bMT(4,4,"SignOut")),n.R7$(3),n.JRh(n.bMT(7,6,"SignOut_Confirm")),n.R7$(5),n.JRh(n.bMT(12,8,"Cancel")),n.R7$(4),n.JRh(n.bMT(16,10,"Confirm")))}const J=[{path:"",component:(()=>{var c;class h{constructor(l,e,i,t,s,d){var m=this;this.router=l,this.titleService=e,this.translateService=i,this.loadingController=t,this.toastController=s,this.modalController=d,this.APP_ROUTE=u._,this.api_url=C.c.api_url,this.params={},this.APP_FUNC_FormatMobileNumber=f.IV,this.APP_FUNC_FormatTel=f.YH,(0,_.A)(function*(){m.loading=yield m.loadingController.create({message:""})})()}ngOnInit(){var l=this;(0,_.A)(function*(){(yield(0,g.kU)())&&l.refreshData()})()}onIonRefresher(l){this.refreshData(()=>{l.target.complete()})}refreshData(l){var e=this;return(0,_.A)(function*(){(0,r.z)({loading:i=>{var t,s;i?null===(t=e.loading)||void 0===t||t.present():null===(s=e.loading)||void 0===s||s.dismiss()},callback:i=>{var t,s,d;null!=i&&i.Succeeded?(e.user=null!==(t=i.Data)&&void 0!==t?t:{},null!==(s=e.user)&&void 0!==s&&s.FullName?e.titleService.setTitle(null===(d=e.user)||void 0===d?void 0:d.FullName):e.translateService.stream("User").subscribe(m=>{e.titleService.setTitle(m)})):(0,I.cX)(e.toastController,{},i).then(m=>m.present()),l&&l()}})})()}signOut(l){return(0,_.A)(function*(){yield(0,A.SD)(),(0,O.wn)({callback:()=>{window.location.replace(u._.AUTH)}})})()}changeAvatar(l){var e=this;return(0,_.A)(function*(){(0,B.$)({modalController:e.modalController,toastController:e.toastController},function(){var i=(0,_.A)(function*(t){if(t.length){let s=yield e.modalController.create({component:S.A,componentProps:{file:t[0]},backdropDismiss:!0,keyboardClose:!0});s.onDidDismiss().then(d=>{"submit"==d.role&&d.data&&(0,P.v)({loading:v=>{var T,b;v?null===(T=e.loading)||void 0===T||T.present():null===(b=e.loading)||void 0===b||b.dismiss()},params:{file:d.data,subFolder:"avatar",fileType:"image"},callback:v=>{var T;0==(null==v?void 0:v.ReturnCode)&&(0,r.sh)({loading:b=>{var U,y;b?null===(U=e.loading)||void 0===U||U.present():null===(y=e.loading)||void 0===y||y.dismiss()},params:{UserId:null===(T=e.user)||void 0===T?void 0:T.UserId,Avatar:`${v.path}/${v.file.name}`},callback:b=>{null!=b&&b.Succeeded?e.refreshData():(0,I.cX)(e.toastController,{},b).then(U=>U.present())}})}})}),s.present()}});return function(t){return i.apply(this,arguments)}}())})()}changeAvatar2(l){var e=this;return(0,_.A)(function*(){(0,f.oG)({accept:"image/*"},i=>{(0,P.v)({loading:t=>{var s,d;t?null===(s=e.loading)||void 0===s||s.present():null===(d=e.loading)||void 0===d||d.dismiss()},params:{file:i[0],subFolder:"avatar",fileType:"image"},callback:t=>{var s;0==(null==t?void 0:t.ReturnCode)&&(0,r.sh)({loading:d=>{var m,v;d?null===(m=e.loading)||void 0===m||m.present():null===(v=e.loading)||void 0===v||v.dismiss()},params:{UserId:null===(s=e.user)||void 0===s?void 0:s.UserId,Avatar:`${t.path}/${t.file.name}`},callback:d=>{null!=d&&d.Succeeded?e.refreshData():(0,I.cX)(e.toastController,{},d).then(m=>m.present())}})}})})})()}navigateByUrl(l){var e=this;return(0,_.A)(function*(){e.router.navigateByUrl(l)})()}}return(c=h).\u0275fac=function(l){return new(l||c)(n.rXU(k.Ix),n.rXU($.hE),n.rXU(F.c$),n.rXU(a.Xi),n.rXU(a.K_),n.rXU(a.W3))},c.\u0275cmp=n.VBU({type:c,selectors:[["app-user"]],decls:149,vars:95,consts:[["modalSignOut",""],["color","primary"],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"card-info"],[1,"bg"],[1,"avatar"],[3,"src"],[1,"change-avatar"],["color","light",3,"click"],["color","dark","src","../../../assets/icon/ion-icon/camera-shape.svg"],[1,"text-center","text-primary","mt-3","mb-0"],[1,"container","py-3"],["mode","ios","lines","none"],["button","","detail","true","color","light","detail-icon","chevron-forward-outline",3,"click"],["slot","start","src","../../../assets/icon/ion-icon/person-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/verhicle-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/bill-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/setting-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/feedback-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/chat-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/book-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/persons-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/book-open-circle.svg",1,"fs-24"],[1,"container","card-company","bg-white","rounded"],[1,"table","table-borderless","m-0"],[1,"text-muted"],[3,"innerHTML"],[1,"text-dark",3,"href","innerHTML"],[1,"mt-3"],["mode","ios","color","light","expand","block","id","click-trigger-modal-signout",1,"btn-sign-out"],["slot","start","color","primary","src","../../../assets/icon/ion-icon/sign-out.svg",1,"fs-24"],["trigger","click-trigger-modal-signout",1,"ion-modal-small"],[1,"p-4"],[1,"text-center"],[1,"mb-2"],[1,"mb-4","fs-3"],[1,"row"],[1,"col-6","pr-1"],["fill","outline","color","medium","expand","block","shape","round",3,"click"],[1,"col-6","pl-1"],["color","primary","expand","block","shape","round",3,"click"]],template:function(l,e){if(1&l){const i=n.RV6();n.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-buttons",2),n.nrm(3,"ion-back-button",3),n.k0s(),n.j41(4,"ion-title"),n.EFF(5),n.nI1(6,"translate"),n.k0s()()(),n.j41(7,"ion-content",4)(8,"ion-refresher",5),n.bIt("ionRefresh",function(s){return n.eBV(i),n.Njj(e.onIonRefresher(s))}),n.nrm(9,"ion-refresher-content"),n.k0s(),n.j41(10,"div",6),n.nrm(11,"div",7),n.j41(12,"div",8)(13,"ion-avatar"),n.nrm(14,"img",9),n.k0s(),n.j41(15,"div",10)(16,"ion-button",11),n.bIt("click",function(s){return n.eBV(i),n.Njj(e.changeAvatar(s))}),n.nrm(17,"ion-icon",12),n.k0s()()(),n.j41(18,"h5",13)(19,"b"),n.EFF(20),n.nI1(21,"translate"),n.k0s()()(),n.j41(22,"div",14)(23,"ion-list",15)(24,"ion-item",16),n.bIt("click",function(){return n.eBV(i),n.Njj(e.navigateByUrl(e.APP_ROUTE.USER_INFO))}),n.nrm(25,"ion-icon",17),n.j41(26,"ion-label"),n.EFF(27),n.nI1(28,"translate"),n.k0s()(),n.j41(29,"ion-item",16),n.bIt("click",function(){return n.eBV(i),n.Njj(e.navigateByUrl(e.APP_ROUTE.VEHICLE))}),n.nrm(30,"ion-icon",18),n.j41(31,"ion-label"),n.EFF(32),n.nI1(33,"translate"),n.k0s()(),n.j41(34,"ion-item",16),n.bIt("click",function(){return n.eBV(i),n.Njj(e.navigateByUrl(e.APP_ROUTE.CUSTOMER_INVOICE))}),n.nrm(35,"ion-icon",19),n.j41(36,"ion-label"),n.EFF(37),n.nI1(38,"translate"),n.k0s()()(),n.j41(39,"ion-list",15)(40,"ion-item",16),n.bIt("click",function(){return n.eBV(i),n.Njj(e.navigateByUrl(e.APP_ROUTE.CHARGING_RESERVATION))}),n.nrm(41,"ion-icon",19),n.j41(42,"ion-label"),n.EFF(43),n.nI1(44,"translate"),n.k0s()(),n.j41(45,"ion-item",16),n.bIt("click",function(){return n.eBV(i),n.Njj(e.navigateByUrl(e.APP_ROUTE.ORDER_INFO))}),n.nrm(46,"ion-icon",19),n.j41(47,"ion-label"),n.EFF(48),n.nI1(49,"translate"),n.k0s()()(),n.j41(50,"ion-list",15)(51,"ion-item",16),n.bIt("click",function(){return n.eBV(i),n.Njj(e.navigateByUrl(e.APP_ROUTE.SETTING))}),n.nrm(52,"ion-icon",20),n.j41(53,"ion-label"),n.EFF(54),n.nI1(55,"translate"),n.k0s()(),n.j41(56,"ion-item",16),n.bIt("click",function(){return n.eBV(i),n.Njj(e.navigateByUrl(e.APP_ROUTE.FEEDBACK))}),n.nrm(57,"ion-icon",21),n.j41(58,"ion-label"),n.EFF(59),n.nI1(60,"translate"),n.k0s()(),n.j41(61,"ion-item",16),n.bIt("click",function(){return n.eBV(i),n.Njj(e.navigateByUrl(e.APP_ROUTE.SUPPORT))}),n.nrm(62,"ion-icon",22),n.j41(63,"ion-label"),n.EFF(64),n.nI1(65,"translate"),n.k0s()(),n.j41(66,"ion-item",16),n.bIt("click",function(){return n.eBV(i),n.Njj(e.navigateByUrl(e.APP_ROUTE.HELP))}),n.nrm(67,"ion-icon",23),n.j41(68,"ion-label"),n.EFF(69),n.nI1(70,"translate"),n.k0s()()(),n.j41(71,"ion-list",15)(72,"ion-item",16),n.bIt("click",function(){return n.eBV(i),n.Njj(e.navigateByUrl(e.APP_ROUTE.ABOUT_US))}),n.nrm(73,"ion-icon",24),n.j41(74,"ion-label"),n.EFF(75),n.nI1(76,"translate"),n.k0s()(),n.j41(77,"ion-item",16),n.bIt("click",function(){return n.eBV(i),n.Njj(e.navigateByUrl(e.APP_ROUTE.TERMS_OF_USE))}),n.nrm(78,"ion-icon",25),n.j41(79,"ion-label"),n.EFF(80),n.nI1(81,"translate"),n.k0s()(),n.j41(82,"ion-item",16),n.bIt("click",function(){return n.eBV(i),n.Njj(e.navigateByUrl(e.APP_ROUTE.POLICIES_AND_REGULATIONS))}),n.nrm(83,"ion-icon",25),n.j41(84,"ion-label"),n.EFF(85),n.nI1(86,"translate"),n.k0s()(),n.j41(87,"ion-item",16),n.bIt("click",function(){return n.eBV(i),n.Njj(e.navigateByUrl(e.APP_ROUTE.SALES_AND_PAYMENT_POLICIES))}),n.nrm(88,"ion-icon",25),n.j41(89,"ion-label"),n.EFF(90),n.nI1(91,"translate"),n.k0s()()(),n.j41(92,"div",26)(93,"table",27)(94,"tr")(95,"td",28),n.EFF(96),n.nI1(97,"translate"),n.k0s(),n.j41(98,"td"),n.nrm(99,"b",29),n.nI1(100,"translate"),n.k0s()(),n.j41(101,"tr")(102,"td",28),n.EFF(103),n.nI1(104,"translate"),n.k0s(),n.j41(105,"td"),n.nrm(106,"b",29),n.nI1(107,"translate"),n.k0s()(),n.j41(108,"tr")(109,"td",28),n.EFF(110),n.nI1(111,"translate"),n.k0s(),n.j41(112,"td"),n.nrm(113,"b",29),n.nI1(114,"translate"),n.k0s()(),n.j41(115,"tr")(116,"td",28),n.EFF(117),n.nI1(118,"translate"),n.k0s(),n.j41(119,"td"),n.nrm(120,"b",29),n.nI1(121,"translate"),n.k0s()(),n.j41(122,"tr")(123,"td",28),n.EFF(124),n.nI1(125,"translate"),n.k0s(),n.j41(126,"td")(127,"b"),n.nrm(128,"a",30),n.nI1(129,"translate"),n.nI1(130,"translate"),n.k0s()()(),n.j41(131,"tr")(132,"td",28),n.EFF(133),n.nI1(134,"translate"),n.k0s(),n.j41(135,"td")(136,"b"),n.nrm(137,"a",30),n.nI1(138,"translate"),n.nI1(139,"translate"),n.k0s()()()()(),n.j41(140,"div",31)(141,"ion-button",32),n.nrm(142,"ion-icon",33),n.j41(143,"ion-label",1),n.EFF(144),n.nI1(145,"translate"),n.k0s()()()(),n.j41(146,"ion-modal",34,0),n.DNE(148,N,17,12,"ng-template"),n.k0s()()}if(2&l){let i;n.R7$(3),n.Y8G("defaultHref",e.APP_ROUTE.TABS_DEFAULT),n.R7$(2),n.JRh(n.bMT(6,35,"UserInfo")),n.R7$(2),n.Y8G("fullscreen",!0),n.R7$(7),n.Y8G("src",null!=e.user&&e.user.Avatar?e.api_url+"readfile/"+(null==e.user?null:e.user.Avatar):"assets/icon/ion-img/no-avatar.svg",n.B4B),n.R7$(6),n.JRh(null!==(i=null==e.user?null:e.user.FullName)&&void 0!==i?i:n.bMT(21,37,"NotUpdate")),n.R7$(7),n.JRh(n.bMT(28,39,"UserInfo")),n.R7$(5),n.JRh(n.bMT(33,41,"Vehicle")),n.R7$(5),n.JRh(n.bMT(38,43,"ExportBillInfo")),n.R7$(6),n.JRh(n.bMT(44,45,"ChargingReservation")),n.R7$(5),n.JRh(n.bMT(49,47,"OrderHistory")),n.R7$(6),n.JRh(n.bMT(55,49,"Setting")),n.R7$(5),n.JRh(n.bMT(60,51,"SendFeedback")),n.R7$(5),n.JRh(n.bMT(65,53,"FAQ")),n.R7$(5),n.JRh(n.bMT(70,55,"UseManual")),n.R7$(6),n.JRh(n.bMT(76,57,"AboutUs")),n.R7$(5),n.JRh(n.bMT(81,59,"TermsOfUse")),n.R7$(5),n.JRh(n.bMT(86,61,"PoliciesAndRegulations")),n.R7$(5),n.JRh(n.bMT(91,63,"SalesAndPaymentPolicies")),n.R7$(6),n.JRh(n.bMT(97,65,"Company")),n.R7$(3),n.Y8G("innerHTML",n.bMT(100,67,"CompanyName"),n.npT),n.R7$(4),n.JRh(n.bMT(104,69,"Tax")),n.R7$(3),n.Y8G("innerHTML",n.bMT(107,71,"CompanyTax"),n.npT),n.R7$(4),n.JRh(n.bMT(111,73,"LicenseDate")),n.R7$(3),n.Y8G("innerHTML",n.bMT(114,75,"CompanyTaxLicenseDate"),n.npT),n.R7$(4),n.JRh(n.bMT(118,77,"Address")),n.R7$(3),n.Y8G("innerHTML",n.bMT(121,79,"CompanyAddress"),n.npT),n.R7$(4),n.JRh(n.bMT(125,81,"Email")),n.R7$(4),n.Mz_("href","mailto:",n.bMT(129,83,"CompanyEmail"),"",n.B4B),n.Y8G("innerHTML",n.bMT(130,85,"CompanyEmail"),n.npT),n.R7$(5),n.JRh(n.bMT(134,87,"Hotline")),n.R7$(4),n.Mz_("href","tel:",e.APP_FUNC_FormatTel(n.bMT(138,89,"CompanyMobile")),"",n.B4B),n.Y8G("innerHTML",n.bMT(139,91,"CompanyMobile"),n.npT),n.R7$(7),n.JRh(n.bMT(145,93,"SignOut"))}},dependencies:[a.mC,a.Jm,a.QW,a.W9,a.eU,a.iq,a.uz,a.he,a.nf,a.To,a.Ki,a.BC,a.ai,a.Sb,a.el,F.D9],styles:[".card-info[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{padding:3rem 1rem;background-color:var(--ion-color-primary);background-image:url(bg-charging-location.1f27cf83f2b3c5d2.svg);background-repeat:no-repeat;background-position:center center;background-size:auto 200%}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{position:relative;z-index:1;width:7rem;margin:-3rem auto auto}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:7rem;height:7rem;border:.125rem solid var(--ion-color-light);background-color:var(--ion-color-light)}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .change-avatar[_ngcontent-%COMP%]{position:absolute;z-index:2;bottom:0;right:0}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .change-avatar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2rem;height:2rem;min-width:2rem;min-height:2rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-radius: 50%}.card-info[_ngcontent-%COMP%]   .icon-w24[_ngcontent-%COMP%]{display:inline-block;width:24px}.card-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}ion-thumbnail[_ngcontent-%COMP%]{--size: 6rem;--border-radius: 50%;margin:auto;cursor:pointer}ion-list[_ngcontent-%COMP%]{padding:.5rem 0;margin:.5rem 0 1rem;border-radius:1rem;box-shadow:0 .125rem .5rem #00000026;background:var(--ion-color-light)!important}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 3rem}.btn-sign-out[_ngcontent-%COMP%]{--box-shadow: 0 .125rem .5rem rgba(0, 0, 0, .15)}.card-company[_ngcontent-%COMP%]{padding:1rem}.card-company.rounded[_ngcontent-%COMP%]{border-radius:.5rem!important}.card-company[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important;margin:.5rem 0}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;vertical-align:top}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;color:var(--ion-color-medium-shade)}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}"]}),h})()}];let L=(()=>{var c;class h{}return(c=h).\u0275fac=function(l){return new(l||c)},c.\u0275mod=n.$C({type:c}),c.\u0275inj=n.G2t({imports:[k.iI.forChild(J),k.iI]}),h})();var D=o(3890);let V=(()=>{var c;class h{}return(c=h).\u0275fac=function(l){return new(l||c)},c.\u0275mod=n.$C({type:c}),c.\u0275inj=n.G2t({imports:[R.MD,M.YN,a.bv,L,D.x]}),h})()}}]);