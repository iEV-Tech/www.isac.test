"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8344],{7392:(A,F,g)=>{g.d(F,{P:()=>n});const n=(0,g(5083).F3)("Browser",{web:()=>g.e(4786).then(g.bind(g,4786)).then(p=>new p.BrowserWeb)})},7762:(A,F,g)=>{g.d(F,{L:()=>n});const n=(0,g(5083).F3)("Geolocation",{web:()=>g.e(2920).then(g.bind(g,2920)).then(p=>new p.GeolocationWeb)})},3801:(A,F,g)=>{g.d(F,{RR:()=>b,Xz:()=>o,fA:()=>S,fj:()=>_});var h=g(467),n=g(369),p=g(5312);const M=new n.w({name:"_asDB",driverOrder:[n.C.IndexedDB,n.C.LocalStorage]}),o=function(){var l=(0,h.A)(function*(s){yield M.create();try{var m=(yield M.get("geolocation"))||{};if("function"==typeof(null==s?void 0:s.callback)&&s.callback(Object.assign({},m||{})),m.lat&&m.lng)return m}catch(v){"function"==typeof(null==s?void 0:s.callback)&&s.callback(),console.error(v)}return p.c.app_default.geolocation.pos});return function(m){return l.apply(this,arguments)}}(),_=function(){var l=(0,h.A)(function*(s){yield M.create(),s.params=s.params||{};try{var m=Object.assign({},s.params);yield M.set("geolocation",m),"function"==typeof s.callback&&s.callback(Object.assign({},m||{}))}catch(v){"function"==typeof s.callback&&s.callback(),console.error(v)}});return function(m){return l.apply(this,arguments)}}(),S=function(){var l=(0,h.A)(function*(s){yield M.create();try{var m=(yield M.get("address"))||{};return"function"==typeof(null==s?void 0:s.callback)&&s.callback(Object.assign({},m||{})),m}catch(v){"function"==typeof(null==s?void 0:s.callback)&&s.callback(),console.error(v)}return{currentAddress:null}});return function(m){return l.apply(this,arguments)}}(),b=function(){var l=(0,h.A)(function*(s){yield M.create(),s.params=s.params||{};try{var m=Object.assign({},s.params);yield M.set("address",m),"function"==typeof s.callback&&s.callback(Object.assign({},m||{}))}catch(v){"function"==typeof s.callback&&s.callback(),console.error(v)}});return function(m){return l.apply(this,arguments)}}()},6841:(A,F,g)=>{g.d(F,{Bc:()=>p,YW:()=>S,Zd:()=>o,tC:()=>M,x1:()=>_});var h=g(467),n=g(5972);const p=function(){var b=(0,h.A)(function*(l){var s,m,v,y,k,C;l.params=l.params||{},(0,n.hm)({url:"api/ChargingLocation/get-inarea",params:{TopLeftLat:null!==(s=l.params.TopLeftLat)&&void 0!==s?s:null,TopLeftLong:null!==(m=l.params.TopLeftLong)&&void 0!==m?m:null,RightBottomLat:null!==(v=l.params.RightBottomLat)&&void 0!==v?v:null,RightBottomLong:null!==(y=l.params.RightBottomLong)&&void 0!==y?y:null,PageNumber:null!==(k=l.params.PageNumber)&&void 0!==k?k:1,PageSize:null!==(C=l.params.PageSize)&&void 0!==C?C:10},success:f=>{"function"==typeof l.callback&&l.callback(f.data||null)},error:f=>{var R;"function"==typeof l.callback&&l.callback(null==f||null===(R=f.response)||void 0===R?void 0:R.data),console.error(f)},loading:l.loading})});return function(s){return b.apply(this,arguments)}}(),M=function(){var b=(0,h.A)(function*(l){var s,m,v;l.params=l.params||{},(0,n.hm)({url:"api/ChargingLocation/search",params:{Search:null!==(s=l.params.Search)&&void 0!==s?s:null,PageNumber:null!==(m=l.params.PageNumber)&&void 0!==m?m:1,PageSize:null!==(v=l.params.PageSize)&&void 0!==v?v:10},success:y=>{"function"==typeof l.callback&&l.callback(y.data||null)},error:y=>{var k;"function"==typeof l.callback&&l.callback(null==y||null===(k=y.response)||void 0===k?void 0:k.data),console.error(y)},loading:l.loading})});return function(s){return b.apply(this,arguments)}}(),o=function(){var b=(0,h.A)(function*(l){var s,m,v,y,k,C;l.params=l.params||{},(0,n.hm)({url:"api/ChargingLocation/filter-bycondition",params:{ElectricTypeFilter:null!==(s=l.params.ElectricTypeFilter)&&void 0!==s?s:null,ConnectorTypeFilter:null!==(m=l.params.ConnectorTypeFilter)&&void 0!==m?m:null,VConnectorStatusFilter:null!==(v=l.params.VConnectorStatusFilter)&&void 0!==v?v:null,VChargeSpeed:null!==(y=l.params.VChargeSpeed)&&void 0!==y?y:null,PageNumber:null!==(k=l.params.PageNumber)&&void 0!==k?k:1,PageSize:null!==(C=l.params.PageSize)&&void 0!==C?C:10},success:f=>{"function"==typeof l.callback&&l.callback(f.data||null)},error:f=>{var R;"function"==typeof l.callback&&l.callback(null==f||null===(R=f.response)||void 0===R?void 0:R.data),console.error(f)},loading:l.loading})});return function(s){return b.apply(this,arguments)}}(),_=function(){var b=(0,h.A)(function*(l){l.params=l.params||{},(0,n.hm)({url:`api/ChargingLocation/get/${l.params.ChargeLocationId}`,success:s=>{"function"==typeof l.callback&&l.callback(s.data||null)},error:s=>{var m;"function"==typeof l.callback&&l.callback(null==s||null===(m=s.response)||void 0===m?void 0:m.data),console.error(s)},loading:l.loading})});return function(s){return b.apply(this,arguments)}}(),S=function(){var b=(0,h.A)(function*(l){l.params=l.params||{},(0,n.hm)({url:`api/ChargingLocation/get-detail/${l.params.ChargeLocationId}`,success:s=>{"function"==typeof l.callback&&l.callback(s.data||null)},error:s=>{var m;"function"==typeof l.callback&&l.callback(null==s||null===(m=s.response)||void 0===m?void 0:m.data),console.error(s)},loading:l.loading})});return function(s){return b.apply(this,arguments)}}()},4470:(A,F,g)=>{g.d(F,{S:()=>M});var h=g(467),n=g(5312),p=g(5972);const M=function(){var o=(0,h.A)(function*(_){_.params=_.params||{},(0,p.hm)({api_url:`https://maps.googleapis.com/maps/api/geocode/json?key=${n.c.apiKey}&latlng=${_.params.lat},${_.params.lng}&sensor=true`,headers:{},success:S=>{"function"==typeof _.callback&&_.callback(S.data||null)},error:S=>{var b;"function"==typeof _.callback&&_.callback(null==S||null===(b=S.response)||void 0===b?void 0:b.data),console.error(S)},loading:_.loading})});return function(S){return o.apply(this,arguments)}}()},7168:(A,F,g)=>{g.d(F,{Ag:()=>S,fp:()=>M,hd:()=>_,kM:()=>p,yb:()=>o});var h=g(467),n=g(5972);const p=function(){var b=(0,h.A)(function*(l){l.params=l.params||{},(0,n.hm)({url:"api/Notify/get-summary",success:s=>{"function"==typeof l.callback&&l.callback(s.data||null)},error:s=>{var m;"function"==typeof l.callback&&l.callback(null==s||null===(m=s.response)||void 0===m?void 0:m.data),console.error(s)},loading:l.loading})});return function(s){return b.apply(this,arguments)}}(),M=function(){var b=(0,h.A)(function*(l){var s,m,v;l.params=l.params||{},(0,n.hm)({url:"api/Notify/get-mynotifies",params:{IsSender:null!==(s=l.params.IsSender)&&void 0!==s?s:null,PageNumber:null!==(m=l.params.PageNumber)&&void 0!==m?m:1,PageSize:null!==(v=l.params.PageSize)&&void 0!==v?v:10},success:y=>{"function"==typeof l.callback&&l.callback(y.data||null)},error:y=>{var k;"function"==typeof l.callback&&l.callback(null==y||null===(k=y.response)||void 0===k?void 0:k.data),console.error(y)},loading:l.loading})});return function(s){return b.apply(this,arguments)}}(),o=function(){var b=(0,h.A)(function*(l){l.params=l.params||{},(0,n.hm)({url:`api/Notify/get-byid/${l.params.NotifyId}`,success:s=>{"function"==typeof l.callback&&l.callback(s.data||null)},error:s=>{var m;"function"==typeof l.callback&&l.callback(null==s||null===(m=s.response)||void 0===m?void 0:m.data),console.error(s)},loading:l.loading})});return function(s){return b.apply(this,arguments)}}(),_=function(){var b=(0,h.A)(function*(l){var s,m;l.params=l.params||{},(0,n.IH)({url:"api/Notify/update-isread",params:{NotifyId:null!==(s=l.params.NotifyId)&&void 0!==s?s:null,IsRead:null===(m=l.params.IsRead)||void 0===m||m},success:v=>{"function"==typeof l.callback&&l.callback(v.data||null)},error:v=>{var y;"function"==typeof l.callback&&l.callback(null==v||null===(y=v.response)||void 0===y?void 0:y.data),console.error(v)},loading:l.loading})});return function(s){return b.apply(this,arguments)}}(),S=function(){var b=(0,h.A)(function*(l){var s;l.params=l.params||{},(0,n.IH)({url:"api/Notify/update-all-isread",params:{IsRead:null===(s=l.params.IsRead)||void 0===s||s},success:m=>{"function"==typeof l.callback&&l.callback(m.data||null)},error:m=>{var v;"function"==typeof l.callback&&l.callback(null==m||null===(v=m.response)||void 0===v?void 0:v.data),console.error(m)},loading:l.loading})});return function(s){return b.apply(this,arguments)}}()},5354:(A,F,g)=>{g.d(F,{G:()=>M,U:()=>p});var h=g(467),n=g(5972);const p=function(){var o=(0,h.A)(function*(_){var S,b,l;_.params=_.params||{},(0,n.hm)({url:"api/Reflookup/get-byname",params:{ObjectName:null!==(S=_.params.ObjectName)&&void 0!==S?S:null,PageNumber:null!==(b=_.params.PageNumber)&&void 0!==b?b:1,PageSize:null!==(l=_.params.PageSize)&&void 0!==l?l:10},success:s=>{"function"==typeof _.callback&&_.callback(s.data||null)},error:s=>{var m;"function"==typeof _.callback&&_.callback(null==s||null===(m=s.response)||void 0===m?void 0:m.data),console.error(s)},loading:_.loading})});return function(S){return o.apply(this,arguments)}}(),M=function(){var o=(0,h.A)(function*(_){_.params=_.params||{},(0,n.hm)({url:`api/Reflookup/get/${_.params.LookupId}`,success:S=>{"function"==typeof _.callback&&_.callback(S.data||null)},error:S=>{var b;"function"==typeof _.callback&&_.callback(null==S||null===(b=S.response)||void 0===b?void 0:b.data),console.error(S)},loading:_.loading})});return function(S){return o.apply(this,arguments)}}()},2385:(A,F,g)=>{g.d(F,{T:()=>m});var h=g(467),n=g(5972);const p=function(){var v=(0,h.A)(function*(y){var k;y.params=y.params||{},(0,n.hm)({url:`api/Connector/gets/${null!==(k=y.params.isac)&&void 0!==k?k:3}`,params:{},success:C=>{"function"==typeof y.callback&&y.callback(C.data||null)},error:C=>{var f;"function"==typeof y.callback&&y.callback(null==C||null===(f=C.response)||void 0===f?void 0:f.data),console.error(C)},loading:y.loading})});return function(k){return v.apply(this,arguments)}}();var M=g(5354),o=g(4438),_=g(7896),S=g(177),b=g(4842);function l(v,y){if(1&v){const k=o.RV6();o.qex(0),o.j41(1,"ion-checkbox",13),o.bIt("ionChange",function(f){o.eBV(k);const R=o.XpG();return o.Njj(R.changeConnectorTypeFilter(f))}),o.EFF(2),o.k0s(),o.nrm(3,"br"),o.bVm()}if(2&v){let k;const C=y.$implicit,f=o.XpG();o.R7$(),o.Y8G("value",C.ConnectorType)("checked",f.ConnectorTypeFilters.includes(null!==(k=C.ConnectorType)&&void 0!==k?k:"")),o.R7$(),o.Lme("",C.ConnectorType," (",C.ConnectorDesc,")")}}function s(v,y){if(1&v&&(o.j41(0,"ion-radio",6),o.EFF(1),o.k0s(),o.nrm(2,"br")),2&v){const k=y.$implicit;o.Y8G("value",k.LookupId),o.R7$(),o.JRh(k.Objectvalue)}}let m=(()=>{var v;class y{constructor(C){this.modalController=C,this.filter={},this.ConnectorTypeFilters=[],this.connectors=[],this.chargeSpeeds=[]}ngOnInit(){var C,f;this.ConnectorTypeFilters=null!==(C=null===(f=this.filter.ConnectorTypeFilter)||void 0===f||null===(f=f.split(";"))||void 0===f||null===(f=f.map(R=>R.trim()))||void 0===f?void 0:f.filter(R=>!!R))&&void 0!==C?C:[],p({params:{},callback:R=>{var I;null!=R&&R.Succeeded&&(this.connectors=null!==(I=R.Data)&&void 0!==I?I:[])}}),(0,M.U)({params:{ObjectName:"v_charge_speed",PageNumber:1,PageSize:1e3},callback:R=>{null!=R&&R.Succeeded&&(this.chargeSpeeds=R.Data)}})}cancel(C){var f=this;return(0,h.A)(function*(){f.modalController.dismiss(null,"cancel")})()}clear(C){var f=this;return(0,h.A)(function*(){f.modalController.dismiss(null,"clear")})()}submit(C){var f=this;return(0,h.A)(function*(){f.filter.ConnectorTypeFilter=f.ConnectorTypeFilters.map(R=>R.trim()).filter(R=>!!R).join(";"),f.modalController.dismiss(f.filter,"submit")})()}changeElectricTypeFilter(C){var f=this;return(0,h.A)(function*(){f.filter.ElectricTypeFilter=C.detail.value})()}changeVConnectorStatusFilter(C){var f=this;return(0,h.A)(function*(){f.filter.VConnectorStatusFilter=C.detail.value})()}changeConnectorTypeFilter(C){var f=this;return(0,h.A)(function*(){C.detail.checked?f.ConnectorTypeFilters.includes(C.detail.value)||f.ConnectorTypeFilters.push(C.detail.value):f.ConnectorTypeFilters=f.ConnectorTypeFilters.filter(R=>R!=C.detail.value)})()}changeVChargeSpeedFilter(C){var f=this;return(0,h.A)(function*(){f.filter.VChargeSpeed=C.detail.value})()}}return(v=y).\u0275fac=function(C){return new(C||v)(o.rXU(_.W3))},v.\u0275cmp=o.VBU({type:v,selectors:[["app-modal-filter-charging-location"]],inputs:{filter:"filter"},decls:58,vars:39,consts:[["slot","end"],["color","dark","shape","clear",3,"click"],["name","close-outline"],[1,"container"],[1,"mb-4"],["mode","md",3,"ionChange","value"],["label-placement","end",3,"value"],[4,"ngFor","ngForOf"],[1,"d-flex","py-3"],[1,"col-6","pr-2"],["color","primary","expand","block","shape","round","fill","outline",3,"click"],[1,"col-6","pl-2"],["color","primary","expand","block","shape","round",3,"click"],["label-placement","end",3,"ionChange","value","checked"]],template:function(C,f){1&C&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3),o.nI1(4,"translate"),o.k0s(),o.j41(5,"ion-buttons",0)(6,"ion-button",1),o.bIt("click",function(I){return f.cancel(I)}),o.nrm(7,"ion-icon",2),o.k0s()()()(),o.j41(8,"ion-content")(9,"div",3)(10,"h5"),o.EFF(11),o.nI1(12,"translate"),o.k0s(),o.j41(13,"div",4)(14,"ion-radio-group",5),o.bIt("ionChange",function(I){return f.changeElectricTypeFilter(I)}),o.j41(15,"ion-radio",6),o.EFF(16),o.nI1(17,"translate"),o.k0s(),o.nrm(18,"br"),o.j41(19,"ion-radio",6),o.EFF(20,"AC"),o.k0s(),o.nrm(21,"br"),o.j41(22,"ion-radio",6),o.EFF(23,"DC"),o.k0s()()(),o.j41(24,"h5"),o.EFF(25),o.nI1(26,"translate"),o.k0s(),o.j41(27,"div",4),o.DNE(28,l,4,4,"ng-container",7),o.k0s(),o.j41(29,"h5"),o.EFF(30),o.nI1(31,"translate"),o.k0s(),o.j41(32,"div",4)(33,"ion-radio-group",5),o.bIt("ionChange",function(I){return f.changeVConnectorStatusFilter(I)}),o.j41(34,"ion-radio",6),o.EFF(35),o.nI1(36,"translate"),o.k0s(),o.nrm(37,"br"),o.j41(38,"ion-radio",6),o.EFF(39),o.nI1(40,"translate"),o.k0s()()(),o.j41(41,"h5"),o.EFF(42),o.nI1(43,"translate"),o.k0s(),o.j41(44,"div",4)(45,"ion-radio-group",5),o.bIt("ionChange",function(I){return f.changeVChargeSpeedFilter(I)}),o.Z7z(46,s,3,2,null,null,o.fX1),o.k0s()()()(),o.j41(48,"ion-footer")(49,"div",8)(50,"div",9)(51,"ion-button",10),o.bIt("click",function(I){return f.clear(I)}),o.EFF(52),o.nI1(53,"translate"),o.k0s()(),o.j41(54,"div",11)(55,"ion-button",12),o.bIt("click",function(I){return f.submit(I)}),o.EFF(56),o.nI1(57,"translate"),o.k0s()()()()),2&C&&(o.R7$(3),o.JRh(o.bMT(4,19,"Filter")),o.R7$(8),o.JRh(o.bMT(12,21,"Electric")),o.R7$(3),o.Y8G("value",f.filter.ElectricTypeFilter),o.R7$(),o.Y8G("value",3),o.R7$(),o.JRh(o.bMT(17,23,"All")),o.R7$(3),o.Y8G("value",1),o.R7$(3),o.Y8G("value",2),o.R7$(3),o.JRh(o.bMT(26,25,"ConnectorType")),o.R7$(3),o.Y8G("ngForOf",f.connectors),o.R7$(2),o.JRh(o.bMT(31,27,"Status")),o.R7$(3),o.Y8G("value",f.filter.VConnectorStatusFilter),o.R7$(),o.Y8G("value",2599),o.R7$(),o.JRh(o.bMT(36,29,"All")),o.R7$(3),o.Y8G("value",2500),o.R7$(),o.JRh(o.bMT(40,31,"ReadyCharge")),o.R7$(3),o.JRh(o.bMT(43,33,"ChargeSpeed")),o.R7$(3),o.Y8G("value",f.filter.VChargeSpeed),o.R7$(),o.Dyx(f.chargeSpeeds),o.R7$(6),o.JRh(o.bMT(53,35,"Reset")),o.R7$(4),o.JRh(o.bMT(57,37,"Apply")))},dependencies:[S.Sq,_.Jm,_.QW,_.eY,_.W9,_.M0,_.eU,_.iq,_.KO,_.f0,_.BC,_.ai,_.hB,_.Je,b.D9],styles:["ion-radio[_ngcontent-%COMP%]{margin-right:3rem;margin-bottom:.25rem}ion-checkbox[_ngcontent-%COMP%]{--size: 1.5rem;--checkbox-background-checked: var(--ion-color-primary);margin-right:3rem;margin-bottom:.25rem}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:.25rem;border:2px solid var(--ion-color-primary)}"]}),y})()},8344:(A,F,g)=>{g.d(F,{l9:()=>D,Ip:()=>hn,Yy:()=>_n,He:()=>vn,Gn:()=>Cn,Sk:()=>N,cX:()=>L,CV:()=>x});var h=g(467),n=g(4438),p=g(7896),M=g(177),o=g(4842);function _(r,u){if(1&r&&(n.qex(0),n.j41(1,"div")(2,"ion-thumbnail"),n.nrm(3,"img",9),n.k0s()(),n.bVm()),2&r){const i=n.XpG();n.R7$(3),n.Y8G("src",null==i.message?null:i.message.Img,n.B4B)}}function S(r,u){1&r&&(n.qex(0),n.j41(1,"div",10),n.nrm(2,"ion-icon",11),n.k0s(),n.bVm())}let b=(()=>{var r;class u{constructor(e){this.modalController=e}ngOnInit(){}cancel(){this.modalController.dismiss(this.selectedId,"cancel")}confirm(){this.modalController.dismiss(this.selectedId,"confirm")}}return(r=u).\u0275fac=function(e){return new(e||r)(n.rXU(p.W3))},r.\u0275cmp=n.VBU({type:r,selectors:[["app-modal-confirm"]],inputs:{selectedId:"selectedId",message:"message"},decls:17,vars:11,consts:[[1,"d-flex","justify-content-center","pt-5","pb-4"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"px-3","my-0","text-center"],[1,"w-100","d-flex","flex-column","p-4"],["mode","ios","color","danger","expand","block",3,"click"],[1,"mt-3"],["mode","ios","color","medium","expand","block","fill","outline",3,"click"],[3,"src"],[1,"text-center"],["name","help-circle-outline","color","danger"]],template:function(e,t){if(1&e&&(n.j41(0,"div",0)(1,"div"),n.qex(2,1),n.DNE(3,_,4,1,"ng-container",2)(4,S,3,0,"ng-container",3),n.bVm(),n.j41(5,"h6",4),n.EFF(6),n.nI1(7,"translate"),n.k0s()()(),n.j41(8,"div",5)(9,"div")(10,"ion-button",6),n.bIt("click",function(){return t.confirm()}),n.EFF(11),n.nI1(12,"translate"),n.k0s()(),n.j41(13,"div",7)(14,"ion-button",8),n.bIt("click",function(){return t.cancel()}),n.EFF(15),n.nI1(16,"translate"),n.k0s()()()),2&e){let a,c,d;n.R7$(2),n.Y8G("ngSwitch",null!=t.message&&t.message.Img?1:0),n.R7$(),n.Y8G("ngSwitchCase",1),n.R7$(3),n.JRh(n.bMT(7,5,null!==(a=null==t.message?null:t.message.TitleConfirm)&&void 0!==a?a:"AreYouSure")),n.R7$(5),n.JRh(n.bMT(12,7,null!==(c=null==t.message?null:t.message.TextConfirm)&&void 0!==c?c:"Confirm")),n.R7$(4),n.JRh(n.bMT(16,9,null!==(d=null==t.message?null:t.message.TextCancel)&&void 0!==d?d:"Cancel"))}},dependencies:[M.ux,M.e1,M.fG,p.Jm,p.iq,p.Zx,o.D9],styles:["ion-icon[_ngcontent-%COMP%]{font-size:10rem}ion-thumbnail[_ngcontent-%COMP%]{--size: 6rem;margin:0 auto 1rem}ion-button[_ngcontent-%COMP%]{--border-radius: .5rem}"]}),u})();var l=g(7168),s=g(6539),m=g(8517),v=g(3588),y=g(8833),k=g(7625);function C(r,u){if(1&r){const i=n.RV6();n.j41(0,"ion-buttons",11)(1,"ion-button",1),n.bIt("click",function(t){n.eBV(i);const a=n.XpG();return n.Njj(a.readAll(t))}),n.nrm(2,"ion-icon",12),n.k0s()()}}function f(r,u){1&r&&(n.j41(0,"div",13),n.nrm(1,"ion-spinner",14),n.k0s())}function R(r,u){1&r&&(n.j41(0,"div",15),n.nrm(1,"ion-img",16),n.j41(2,"div",17),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&r&&(n.R7$(3),n.JRh(n.bMT(4,1,"DataNotFound")))}function I(r,u){if(1&r){const i=n.RV6();n.qex(0),n.j41(1,"div",18),n.bIt("click",function(t){const a=n.eBV(i).$implicit,c=n.XpG();return n.Njj(c.openDetail(t,a))}),n.j41(2,"div",19)(3,"b",20),n.EFF(4),n.nI1(5,"translate"),n.k0s(),n.j41(6,"small",21),n.EFF(7),n.k0s()(),n.nrm(8,"div",22),n.k0s(),n.nrm(9,"hr"),n.bVm()}if(2&r){let i;const e=u.$implicit,t=n.XpG();n.R7$(),n.HbH(e.IsRead?"item-color-light":"item-color-secondary"),n.R7$(3),n.JRh(null!==(i=e.Title)&&void 0!==i?i:n.bMT(5,5,"Notify")),n.R7$(3),n.JRh(t.APP_FUNC_FormatDate(e.SentTime,"HH:mm, DD/MM/YYYY")),n.R7$(),n.Y8G("innerHTML",t.APP_FUNC_RenderNotify(e),n.npT)}}function V(r,u){if(1&r){const i=n.RV6();n.j41(0,"ion-infinite-scroll",23),n.bIt("ionInfinite",function(t){n.eBV(i);const a=n.XpG();return n.Njj(a.onIonInfinite(t))}),n.nrm(1,"ion-infinite-scroll-content"),n.k0s()}}let B=(()=>{var r;class u{constructor(e,t,a,c){this.router=e,this.modalController=t,this.loadingController=a,this.toastController=c,this.APP_ROUTE=y._,this.APP_FUNC_FormatMoney=m.xi,this.APP_FUNC_FormatDate=m.Rv,this.APP_FUNC_RenderNotify=m.xG,this.v_notifytype=v.XU,this.paging={sortfield:null,sorttype:null,page:1,limit:10,loading:!1,active:!0},this.filter={},this.notifys=[],this.loadingController.create({message:""}).then(d=>this.loading=d)}onClose(e){var t=this;return(0,h.A)(function*(){t.modalController.dismiss(null,"cancel")})()}ngOnInit(){var e=this;(0,h.A)(function*(){(yield(0,s.kU)())&&e.refreshData()})()}onIonRefresher(e){this.filter={},this.refreshData(()=>{e.target.complete()})}onIonInfinite(e){this.loadMore(()=>{e.target.complete()})}resetData(){this.notifys.length=0}pushData(e){1==this.paging.page&&(this.notifys.length=0),this.notifys=this.notifys.concat(e)}refreshData(e){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData_Paging(e),(0,l.kM)({callback:t=>{null!=t&&t.Succeeded&&(this.notifySumary=t.Data)}})}loadMore(e){this.paging.page+=1,this.loadData_Paging(e)}searchChange(e){this.filter.search=e.target.value.replace(/[\`\~\!\@\#\$\%\^\&\*\(\)\-\_\=\+\[\{\]\}\\\|\;\:\'\"\,\<\.\>\/\?]+/g," ").replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}sortChange(e,t){this.paging.sortfield=e||null,this.paging.sorttype=t||null,this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}loadData_Paging(e){var t=this;return(0,h.A)(function*(){t.paging.loading=!0,(0,l.fp)({loading:a=>{var c,d;a?null===(c=t.loading)||void 0===c||c.present():null===(d=t.loading)||void 0===d||d.dismiss()},params:{PageNumber:t.paging.page,PageSize:t.paging.limit},callback:a=>{var c;t.response=a,null!=a&&a.Succeeded?t.pushData(null!==(c=null==a?void 0:a.Data)&&void 0!==c?c:[]):L(t.toastController,{},a).then(d=>d.present()),t.paging.loading=!1,t.paging.active=!(null==a||!a.HasNextPage),e&&e()}})})()}readAll(e){var t=this;return(0,h.A)(function*(){(0,l.Ag)({loading:a=>{var c,d;a?null===(c=t.loading)||void 0===c||c.present():null===(d=t.loading)||void 0===d||d.dismiss()},params:{IsRead:!0},callback:a=>{null!=a&&a.Succeeded?t.refreshData():L(t.toastController,{},a).then(c=>c.present())}})})()}get totalNotifyUnread(){var e,t;return null!==(e=null===(t=this.notifySumary)||void 0===t?void 0:t.TotalUnread)&&void 0!==e?e:0}openDetail(e,t){var a=this;return(0,h.A)(function*(){t.IsRead||(0,l.hd)({params:{NotifyId:t.NotifyId},callback:c=>{null!=c&&c.Succeeded&&a.notifys.filter(d=>d.NotifyId==t.NotifyId).forEach(d=>d.IsRead=!0)}}),t.DocType&&(a.modalController.dismiss(),(0,m.vb)(a.router,{doctype:t.DocType,docid:t.DocId}))})()}}return(r=u).\u0275fac=function(e){return new(e||r)(n.rXU(k.Ix),n.rXU(p.W3),n.rXU(p.Xi),n.rXU(p.K_))},r.\u0275cmp=n.VBU({type:r,selectors:[["app-modal-notify"]],decls:18,vars:8,consts:[["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],["slot","end",4,"ngIf"],["slot","fixed",3,"ionRefresh"],["class","container-loading",4,"ngIf"],["class","container container-loading py-5 text-center",4,"ngIf"],[1,"container","p-0"],[1,"card-notify"],[4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],["slot","end"],["name","checkmark-done-outline"],[1,"container-loading"],["name","circular","color","primary"],[1,"container","container-loading","py-5","text-center"],["src","../../../assets/icon/ion-img/no-data.svg"],[1,"text-muted","mt-4"],[1,"notify-item",3,"click"],[1,"d-flex","align-items-start","justify-content-between","notify-header"],[1,"notify-title"],[1,"notify-time","font-condensed","text-nowrap","mt-1"],[1,"mt-2","notify-body",3,"innerHTML"],[3,"ionInfinite"]],template:function(e,t){1&e&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),n.bIt("click",function(c){return t.onClose(c)}),n.nrm(4,"ion-icon",2),n.k0s()(),n.j41(5,"ion-title"),n.EFF(6),n.nI1(7,"translate"),n.k0s(),n.DNE(8,C,3,0,"ion-buttons",3),n.k0s()(),n.j41(9,"ion-content")(10,"ion-refresher",4),n.bIt("ionRefresh",function(c){return t.onIonRefresher(c)}),n.nrm(11,"ion-refresher-content"),n.k0s(),n.DNE(12,f,2,0,"div",5)(13,R,5,3,"div",6),n.j41(14,"div",7)(15,"div",8),n.DNE(16,I,10,7,"ng-container",9),n.k0s()(),n.DNE(17,V,2,0,"ion-infinite-scroll",10),n.k0s()),2&e&&(n.R7$(6),n.JRh(n.bMT(7,6,"Notify")),n.R7$(2),n.Y8G("ngIf",t.totalNotifyUnread),n.R7$(4),n.Y8G("ngIf",!t.response),n.R7$(),n.Y8G("ngIf",t.response&&!t.notifys.length),n.R7$(3),n.Y8G("ngForOf",t.notifys),n.R7$(),n.Y8G("ngIf",t.paging.active))},dependencies:[M.Sq,M.bT,p.Jm,p.QW,p.W9,p.eU,p.iq,p.KW,p.Ax,p.Hp,p.To,p.Ki,p.w2,p.BC,p.ai,o.D9],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-color-primary) !important}.card-notify[_ngcontent-%COMP%]{overflow:hidden;border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}.card-notify[_ngcontent-%COMP%]   .notify-item[_ngcontent-%COMP%]{padding:1rem}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-light[_ngcontent-%COMP%]{background-color:var(--ion-color-light);color:var(--ion-color-light-contrast)}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-light[_ngcontent-%COMP%]   .notify-title[_ngcontent-%COMP%]{color:var(--ion-color-dark)}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-light[_ngcontent-%COMP%]   .notify-time[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-light[_ngcontent-%COMP%] + hr[_ngcontent-%COMP%]{border-color:var(--ion-color-light-shade)!important}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-secondary[_ngcontent-%COMP%]{background-color:var(--ion-color-secondary);color:var(--ion-color-secondary-contrast)}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-secondary[_ngcontent-%COMP%]   .notify-title[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-secondary[_ngcontent-%COMP%]   .notify-time[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-secondary[_ngcontent-%COMP%] + hr[_ngcontent-%COMP%]{border-color:var(--ion-color-secondary-shade)!important}.card-notify[_ngcontent-%COMP%]   .notify-item[_ngcontent-%COMP%]   .notify-body[_ngcontent-%COMP%]{font-size:.875rem;color:var(--ion-color-medium)}.card-notify[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0}"]}),u})();var U=g(2385),X=g(7392),$=g(5083),Y=g(7762),w=g(5312),E=g(3801),j=g(6841),J=g(4470);const W=["ref_searchbar"],z=()=>["android","ios"],H=r=>({$implicit:r});function K(r,u){if(1&r){const i=n.RV6();n.j41(0,"ion-button",19),n.bIt("click",function(t){n.eBV(i);const a=n.XpG();return n.Njj(a.presentModalVoice(t))}),n.nrm(1,"ion-icon",20),n.k0s()}}function Z(r,u){1&r&&(n.j41(0,"div",21),n.nrm(1,"ion-spinner",22),n.k0s())}function Q(r,u){if(1&r){const i=n.RV6();n.qex(0),n.j41(1,"ion-button",28),n.bIt("click",function(t){n.eBV(i);const a=n.XpG(3);return n.Njj(a.refreshCurrentPosition(t))}),n.nrm(2,"ion-icon",29),n.j41(3,"ion-label"),n.EFF(4),n.nI1(5,"translate"),n.k0s()(),n.bVm()}if(2&r){const i=n.XpG().$implicit;n.R7$(4),n.JRh(n.bMT(5,1,i.text))}}function q(r,u){if(1&r){const i=n.RV6();n.qex(0),n.j41(1,"ion-button",28),n.bIt("click",function(t){n.eBV(i);const a=n.XpG().$implicit,c=n.XpG(2);return n.Njj(c.clearFilter(t,a))}),n.j41(2,"ion-label"),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.nrm(5,"ion-icon",30),n.k0s(),n.bVm()}if(2&r){const i=n.XpG().$implicit;n.R7$(3),n.JRh(n.bMT(4,1,i.text))}}function nn(r,u){if(1&r){const i=n.RV6();n.qex(0),n.j41(1,"ion-button",28),n.bIt("click",function(t){n.eBV(i);const a=n.XpG().$implicit,c=n.XpG(2);return n.Njj(c.clearFilter(t,a))}),n.j41(2,"ion-label"),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.nrm(5,"ion-icon",30),n.k0s(),n.bVm()}if(2&r){const i=n.XpG().$implicit;n.R7$(3),n.JRh(n.bMT(4,1,i.text))}}function en(r,u){if(1&r&&(n.qex(0)(1,25),n.DNE(2,Q,6,3,"ng-container",26)(3,q,6,3,"ng-container",26)(4,nn,6,3,"ng-container",27),n.bVm()()),2&r){const i=u.$implicit;n.R7$(),n.Y8G("ngSwitch",i.type),n.R7$(),n.Y8G("ngSwitchCase","Nearby"),n.R7$(),n.Y8G("ngSwitchCase","Search")}}function tn(r,u){if(1&r&&(n.qex(0),n.j41(1,"div",23)(2,"div",24),n.DNE(3,en,5,3,"ng-container",17),n.k0s()(),n.bVm()),2&r){const i=n.XpG();n.R7$(3),n.Y8G("ngForOf",i.getFilters())}}function on(r,u){1&r&&(n.j41(0,"div",31),n.nrm(1,"img",32),n.j41(2,"div",33),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&r&&(n.R7$(3),n.JRh(n.bMT(4,1,"DataNotFound")))}function an(r,u){if(1&r&&(n.qex(0),n.j41(1,"div",34),n.eu8(2,35),n.k0s(),n.bVm()),2&r){const i=u.$implicit;n.XpG();const e=n.sdS(23);n.R7$(2),n.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",n.eq3(2,H,i))}}function rn(r,u){if(1&r){const i=n.RV6();n.j41(0,"ion-infinite-scroll",36),n.bIt("ionInfinite",function(t){n.eBV(i);const a=n.XpG();return n.Njj(a.onIonInfinite(t))}),n.nrm(1,"ion-infinite-scroll-content"),n.k0s()}}function ln(r,u){if(1&r&&(n.qex(0),n.nrm(1,"ion-icon",49),n.j41(2,"small")(3,"b"),n.EFF(4),n.k0s(),n.j41(5,"b",46),n.EFF(6),n.k0s()(),n.j41(7,"small",50)(8,"b",46),n.EFF(9),n.nI1(10,"translate"),n.k0s()(),n.bVm()),2&r){let i,e;const t=n.XpG().$implicit;n.R7$(3),n.HbH(t.TotalConnectorReady?"text-primary":"text-danger"),n.R7$(),n.JRh(null!==(i=t.TotalConnectorReady)&&void 0!==i?i:0),n.R7$(2),n.SpI("/",null!==(e=t.TotalConnector)&&void 0!==e?e:0,""),n.R7$(3),n.JRh(n.bMT(10,5,"ConnectorReady"))}}function cn(r,u){if(1&r&&(n.qex(0),n.nrm(1,"ion-icon",51),n.j41(2,"small")(3,"b"),n.EFF(4),n.k0s()(),n.bVm()),2&r){const i=n.XpG().$implicit,e=n.XpG();n.R7$(2),n.ZvI("ml-1 text-",e.APP_FUNC_GetColor_VLocationStatus(i.VLocationStatus),""),n.R7$(2),n.JRh(i.VLocationStatusName)}}function sn(r,u){if(1&r){const i=n.RV6();n.j41(0,"div",37)(1,"div",38),n.bIt("click",function(t){const a=n.eBV(i).$implicit,c=n.XpG();return n.Njj(c.openDetail(t,a))}),n.j41(2,"div",39)(3,"ion-avatar"),n.nrm(4,"img",40),n.k0s(),n.j41(5,"div",41)(6,"small"),n.EFF(7),n.k0s()()(),n.j41(8,"div",42)(9,"h5",43)(10,"b"),n.EFF(11),n.k0s()(),n.j41(12,"div")(13,"small"),n.EFF(14),n.k0s()()()(),n.j41(15,"div",44),n.DNE(16,ln,11,7,"ng-container",13)(17,cn,5,4,"ng-container",13),n.k0s(),n.j41(18,"div",45)(19,"small",46),n.EFF(20),n.k0s(),n.j41(21,"ion-button",47),n.bIt("click",function(t){const a=n.eBV(i).$implicit,c=n.XpG();return n.Njj(c.openDirection(t,a))}),n.j41(22,"ion-label"),n.EFF(23),n.nI1(24,"translate"),n.k0s(),n.nrm(25,"ion-icon",48),n.k0s()()()}if(2&r){const i=u.$implicit,e=n.XpG();n.R7$(7),n.SpI("",e.getDistance2CL(i),"km"),n.R7$(4),n.JRh(i.LocName),n.R7$(3),n.JRh(i.LocAddress),n.R7$(2),n.Y8G("ngIf",i.VLocationStatus==e.v_location_status.SanSang),n.R7$(),n.Y8G("ngIf",i.VLocationStatus!=e.v_location_status.SanSang),n.R7$(3),n.JRh(i.ConnectorType),n.R7$(3),n.JRh(n.bMT(24,7,"Direction"))}}let dn=(()=>{var r;class u{constructor(e,t,a,c,d){this.router=e,this.modalController=t,this.animationController=a,this.toastController=c,this.loadingController=d,this.platform=$.Ii.getPlatform(),this.APP_ROUTE=y._,this.v_location_status=v.Ix,this.APP_FUNC_GetColor_VLocationStatus=m.Bb,this.paging={sortfield:null,sorttype:null,page:1,limit:10,loading:!1,active:!0},this.filter={},this.currentPosition=w.c.app_default.geolocation.pos,this.chargingLocations=[],this.loadingController.create({message:""}).then(T=>this.loading=T),(0,E.Xz)().then(T=>this.currentPosition=T)}close(e){this.modalController.dismiss(null,"close")}navigateByUrl(e){var t=this;return(0,h.A)(function*(){t.modalController.dismiss().then(a=>{t.router.navigateByUrl(e)})})()}ngOnInit(){(0,E.fA)({callback:e=>{null!=e&&e.currentAddress&&(this.currentAddress=null==e?void 0:e.currentAddress)}}),this.refreshData()}ionViewDidEnter(){setTimeout(()=>{var e;null===(e=this.ref_searchbar)||void 0===e||e.setFocus()},300)}onIonRefresher(e){this.filter={},this.refreshData(()=>{e.target.complete()})}onIonInfinite(e){this.loadMore(()=>{e.target.complete()})}resetData(){this.chargingLocations.length=0}pushData(e,t){1==this.paging.page&&(this.chargingLocations.length=0),this.chargingLocations=this.chargingLocations.concat(e),t&&t(this.chargingLocations)}totalData(){return this.chargingLocations.length}refreshData(e){var t=this;return(0,h.A)(function*(){t.filter={},t.paging.page=1,t.paging.active=!0,t.loadData_Paging(e)})()}loadMore(e){this.paging.page+=1,this.loadData_Paging(e)}searchChange(e){this.filter={},this.filter.search=e.target.value.replace(/[\`\~\!\@\#\$\%\^\&\*\(\)\-\_\=\+\[\{\]\}\\\|\;\:\'\"\,\<\.\>\/\?]+/g," ").replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}sortChange(e,t){this.paging.sortfield=e||null,this.paging.sorttype=t||null,this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}loadData_Paging(e){var t=this;return(0,h.A)(function*(){if(t.paging.loading=!0,t.filter.search)(0,j.tC)({loading:c=>{var d,T;c?null===(d=t.loading)||void 0===d||d.present():null===(T=t.loading)||void 0===T||T.dismiss()},params:{Search:t.filter.search,PageNumber:t.paging.page,PageSize:t.paging.limit},callback:c=>{var d;t.response=c,null!=c&&c.Succeeded?t.pushData(null!==(d=c.Data)&&void 0!==d?d:[]):L(t.toastController,{},c).then(T=>T.present()),t.paging.loading=!1,t.paging.active=!(null==c||!c.HasNextPage),e&&e()}});else if(t.filter.ElectricTypeFilter||t.filter.ConnectorTypeFilter||t.filter.VConnectorStatusFilter||t.filter.VChargeSpeed)(0,j.Zd)({loading:c=>{var d,T;c?null===(d=t.loading)||void 0===d||d.present():null===(T=t.loading)||void 0===T||T.dismiss()},params:{ElectricTypeFilter:t.filter.ElectricTypeFilter,ConnectorTypeFilter:t.filter.ConnectorTypeFilter,VConnectorStatusFilter:t.filter.VConnectorStatusFilter,VChargeSpeed:t.filter.VChargeSpeed,PageNumber:t.paging.page,PageSize:t.paging.limit},callback:c=>{var d;t.response=c,null!=c&&c.Succeeded?t.pushData(null!==(d=c.Data)&&void 0!==d?d:[]):L(t.toastController,{},c).then(T=>T.present()),t.paging.loading=!1,t.paging.active=!(null==c||!c.HasNextPage),e&&e()}});else{var a=yield(0,E.Xz)();(0,j.Bc)({loading:c=>{var d,T;c?null===(d=t.loading)||void 0===d||d.present():null===(T=t.loading)||void 0===T||T.dismiss()},params:{TopLeftLat:a.lat+.1,TopLeftLong:a.lng-.1,RightBottomLat:a.lat-.1,RightBottomLong:a.lng+.1,PageNumber:t.paging.page,PageSize:t.paging.limit},callback:c=>{var d;t.response=c,null!=c&&c.Succeeded?(t.pushData(null!==(d=c.Data)&&void 0!==d?d:[],T=>{T.forEach(G=>{})}),0==t.totalData()&&1==t.paging.page&&(t.filter.VConnectorStatusFilter=v.EF.DangRanh,t.filterChange())):L(t.toastController,{},c).then(T=>T.present()),t.paging.loading=!1,t.paging.active=!(null==c||!c.HasNextPage),e&&e()}})}})()}openDirection(e,t){return(0,h.A)(function*(){e.preventDefault(),yield X.P.open({url:(0,m.LZ)(yield(0,E.Xz)(),{lat:null==t?void 0:t.LocLat,lng:null==t?void 0:t.LocLong})})})()}openDetail(e,t){var a=this;return(0,h.A)(function*(){var c,d;a.navigateByUrl(y._.CHARGING_LOCATION_DETAIL.replace(":id",null!==(c=null===(d=t.ChargeLocationId)||void 0===d?void 0:d.toString())&&void 0!==c?c:""))})()}getLocImage(e){var t;if(!e.LocImage&&e.LocImages)if("string"==typeof e.LocImages){var a,c;e.LocImage=(null!==(a=(null!==(c=JSON.parse(e.LocImages))&&void 0!==c?c:[])[0])&&void 0!==a?a:{}).imageurl}else{var d,T;e.LocImage=(null!==(d=(null!==(T=e.LocImages)&&void 0!==T?T:[])[0])&&void 0!==d?d:{}).imageurl}return null!==(t=e.LocImage)&&void 0!==t?t:"assets/image/favicon.svg"}getDistance2CL(e){return(0,m.Rw)((0,m.GH)(this.currentPosition,{lat:null==e?void 0:e.LocLat,lng:null==e?void 0:e.LocLong}),100)}getFilters(){var e=[];if(this.filter.search&&e.push({type:"Search",value:this.filter.search,text:this.filter.search}),this.filter.ElectricTypeFilter)switch(this.filter.ElectricTypeFilter){case 1:e.push({type:"ElectricTypeFilter",value:this.filter.ElectricTypeFilter,text:"AC"});break;case 2:e.push({type:"ElectricTypeFilter",value:this.filter.ElectricTypeFilter,text:"DC"});break;case 3:e.push({type:"ElectricTypeFilter",value:this.filter.ElectricTypeFilter,text:"AllElectricType"})}if(this.filter.VConnectorStatusFilter)switch(this.filter.VConnectorStatusFilter){case 2500:e.push({type:"VConnectorStatusFilter",value:this.filter.VConnectorStatusFilter,text:"ConnectorReady"});break;case 2599:e.push({type:"VConnectorStatusFilter",value:this.filter.VConnectorStatusFilter,text:"AllConnectorStatus"})}return this.filter.ConnectorTypeFilter&&this.filter.ConnectorTypeFilter.split(";").forEach(t=>{e.push({type:"ConnectorTypeFilter",value:t,text:t})}),this.filter.VChargeSpeed&&v.My._data.filter(t=>t.LookupId==this.filter.VChargeSpeed).forEach(t=>{e.push({type:"VChargeSpeed",value:t.LookupId,text:t.Objectvalue})}),e.length||e.push({type:"Nearby",value:"Nearby",text:"Nearby"}),e}clearFilter(e,t){var a=this;return(0,h.A)(function*(){if("Search"==t.type)a.filter.search=void 0;else if("ElectricTypeFilter"==t.type)a.filter.ElectricTypeFilter=void 0;else if("VConnectorStatusFilter"==t.type)a.filter.VConnectorStatusFilter=void 0;else if("ConnectorTypeFilter"==t.type){var c;a.filter.ConnectorTypeFilter=null===(c=a.filter.ConnectorTypeFilter)||void 0===c?void 0:c.split(";").filter(d=>d!=t.value).join(";")}else"VChargeSpeed"==t.type&&(a.filter.VChargeSpeed=void 0);a.filterChange()})()}get getChargingLocations(){return this.chargingLocations.forEach(e=>{e.Distance2CL=this.getDistance2CL(e)}),this.chargingLocations.sort((e,t)=>{var a,c;return(null!==(a=e.Distance2CL)&&void 0!==a?a:0)-(null!==(c=t.Distance2CL)&&void 0!==c?c:0)})}refreshCurrentPosition(e){var t=this;return(0,h.A)(function*(){Y.L.getCurrentPosition({enableHighAccuracy:!0}).then(function(){var a=(0,h.A)(function*(c){if(c.coords){var d={lat:c.coords.latitude,lng:c.coords.longitude};yield(0,E.fj)({params:d}),t.requestAddress(d),t.refreshData()}});return function(c){return a.apply(this,arguments)}}())})()}presentModalFilterChargingLocationComponent(e){var t=this;return(0,h.A)(function*(){const a=yield t.modalController.create({component:U.T,componentProps:{filter:Object.assign({},t.filter,{search:null})},backdropDismiss:!0,keyboardClose:!0,cssClass:"ion-modal-filter",enterAnimation:c=>D(t.animationController,c),leaveAnimation:c=>x(t.animationController,c)});a.onDidDismiss().then(c=>{"clear"==c.role?(t.filter={},t.filterChange()):"submit"==c.role&&(t.filter=c.data,t.filterChange())}),a.present()})()}presentModalVoice(e){var t=this;return(0,h.A)(function*(){N(t.modalController,{fnSuccess:a=>{a&&(t.filter.search=a,t.filterChange())},fnError:a=>{L(t.toastController,{color:"warning",message:a}).then(c=>c.present())}})})()}requestAddress(e){(0,J.S)({params:{lat:e.lat,lng:e.lng},callback:t=>{var a,c,d;"OK"==(null==t?void 0:t.status)&&(this.currentAddress=null!==(a=(null!==(c=t.results[0])&&void 0!==c?c:{}).formatted_address)&&void 0!==a?a:null===(d=t.plus_code)||void 0===d?void 0:d.compound_code,(0,E.RR)({params:{currentAddress:this.currentAddress}}))}})}}return(r=u).\u0275fac=function(e){return new(e||r)(n.rXU(k.Ix),n.rXU(p.W3),n.rXU(p.Hx),n.rXU(p.K_),n.rXU(p.Xi))},r.\u0275cmp=n.VBU({type:r,selectors:[["app-modal-search-charging-location"]],viewQuery:function(e,t){if(1&e&&n.GBs(W,5),2&e){let a;n.mGM(a=n.lsd())&&(t.ref_searchbar=a.first)}},decls:24,vars:11,consts:[["ref_searchbar",""],["templateChargingLocation",""],["color","primary"],["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],["mode","md","show-clear-button","never","show-cancel-button","never",3,"ionChange","ionClear","placeholder","value"],["slot","end"],["class","btn-microphone",3,"click",4,"ngIf"],[1,"btn-filter",3,"click"],["src","../../../assets/icon/ion-icon/filter.svg"],["slot","fixed",3,"ionRefresh"],["class","container-loading",4,"ngIf"],[4,"ngIf"],["class","container py-5 text-center",4,"ngIf"],[1,"container","pt-3","pb-4"],[1,"row"],[4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],[1,"btn-microphone",3,"click"],["color","dark","src","../../../assets/icon/ion-icon/microphone.svg"],[1,"container-loading"],["name","circular","color","primary"],[1,"container","mt-3"],[1,"row","flex-nowrap","mt-3","list-filters","overflow-auto","text-nowrap"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mode","ios","size","small","shape","round","color","primary",3,"click"],["slot","start","src","../../../assets/icon/ion-icon/locate-outline.svg"],["slot","end","name","close-outline"],[1,"container","py-5","text-center"],["src","../../../assets/image/temp/no-info.svg"],[1,"text-muted","mt-4"],[1,"col-12","col-lg-6","mb-3"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ionInfinite"],[1,"card-day","bg-white","p-3","h-100","d-flex","flex-column"],[1,"d-flex","align-items-start","cursor-pointer",3,"click"],[1,"col-auto","px-0"],["src","../../../assets/image/favicon.png"],[1,"text-danger","text-center"],[1,"col","pl-2","pr-0"],[1,"mt-0","mb-1"],[1,"d-flex","align-items-center"],[1,"flex-grow-1","d-flex","align-items-end","justify-content-between","mt-2"],[1,"text-muted"],["size","small","shape","round","color","primary",3,"click"],["src","../../../assets/icon/ion-icon/direction.svg","slot","end"],["color","primary","src","../../../assets/icon/ion-icon/electric.svg",1,"fs-4"],[1,"ml-2"],["color","primary","src","../../../assets/icon/ion-icon/changing-station.svg",1,"fs-4"]],template:function(e,t){if(1&e){const a=n.RV6();n.j41(0,"ion-header",2)(1,"ion-toolbar")(2,"ion-buttons",3)(3,"ion-button",4),n.bIt("click",function(d){return n.eBV(a),n.Njj(t.close(d))}),n.nrm(4,"ion-icon",5),n.k0s()(),n.j41(5,"ion-searchbar",6,0),n.nI1(7,"translate"),n.bIt("ionChange",function(d){return n.eBV(a),n.Njj(t.searchChange(d))})("ionClear",function(d){return n.eBV(a),n.Njj(t.searchChange(d))}),n.k0s(),n.j41(8,"ion-buttons",7),n.DNE(9,K,2,0,"ion-button",8),n.j41(10,"ion-button",9),n.bIt("click",function(d){return n.eBV(a),n.Njj(t.presentModalFilterChargingLocationComponent(d))}),n.nrm(11,"ion-icon",10),n.k0s()()()(),n.j41(12,"ion-content")(13,"ion-refresher",11),n.bIt("ionRefresh",function(d){return n.eBV(a),n.Njj(t.onIonRefresher(d))}),n.nrm(14,"ion-refresher-content"),n.k0s(),n.DNE(15,Z,2,0,"div",12)(16,tn,4,1,"ng-container",13)(17,on,5,3,"div",14),n.j41(18,"div",15)(19,"div",16),n.DNE(20,an,3,4,"ng-container",17),n.k0s()(),n.DNE(21,rn,2,0,"ion-infinite-scroll",18),n.k0s(),n.DNE(22,sn,26,9,"ng-template",null,1,n.C5r)}if(2&e){let a;n.R7$(5),n.FS9("placeholder",null!==(a=t.currentAddress)&&void 0!==a?a:n.bMT(7,8,"FindChargingLocation")),n.Y8G("value",t.filter.search),n.R7$(4),n.Y8G("ngIf",n.lJ4(10,z).includes(t.platform)),n.R7$(6),n.Y8G("ngIf",!t.response),n.R7$(),n.Y8G("ngIf",t.response),n.R7$(),n.Y8G("ngIf",t.response&&!t.chargingLocations.length),n.R7$(3),n.Y8G("ngForOf",t.chargingLocations),n.R7$(),n.Y8G("ngIf",t.paging.active)}},dependencies:[M.Sq,M.bT,M.T3,M.ux,M.e1,M.fG,p.mC,p.Jm,p.QW,p.W9,p.eU,p.iq,p.Ax,p.Hp,p.he,p.To,p.Ki,p.S1,p.w2,p.ai,p.Gw,o.D9],styles:[".btn-filter[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-dark-tint);font-size:1.125rem}.btn-microphone[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-dark-tint);font-size:1.375rem}.card-day[_ngcontent-%COMP%]{border:1px solid var(--ion-color-gray);border-radius:1rem}.card-day[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:2rem;height:2rem}.list-filters[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 1rem;--padding-end: 1rem;margin:0 .5rem 0 0}.list-filters[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover   ion-icon[slot=end][_ngcontent-%COMP%]{color:var(--ion-color-danger)}.list-filters[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-child{margin-left:1rem}"]}),u})();function un(r,u){if(1&r&&(n.qex(0),n.j41(1,"div")(2,"ion-thumbnail"),n.nrm(3,"img",9),n.k0s()(),n.bVm()),2&r){const i=n.XpG(2);n.R7$(3),n.Y8G("src",i.message.Img,n.B4B)}}function mn(r,u){1&r&&(n.qex(0),n.j41(1,"div",10),n.nrm(2,"ion-icon",11),n.k0s(),n.bVm())}function gn(r,u){if(1&r){const i=n.RV6();n.qex(0),n.j41(1,"div",1)(2,"div"),n.qex(3,2),n.DNE(4,un,4,1,"ng-container",3)(5,mn,3,0,"ng-container",4),n.bVm(),n.j41(6,"h5",5),n.EFF(7),n.nI1(8,"translate"),n.k0s(),n.nrm(9,"p",6),n.k0s()(),n.j41(10,"div",7)(11,"div")(12,"ion-button",8),n.bIt("click",function(){n.eBV(i);const t=n.XpG();return n.Njj(t.close())}),n.EFF(13),n.nI1(14,"translate"),n.k0s()()(),n.bVm()}if(2&r){let i,e;const t=n.XpG();n.R7$(3),n.Y8G("ngSwitch",t.message.Img?1:0),n.R7$(),n.Y8G("ngSwitchCase",1),n.R7$(3),n.JRh(n.bMT(8,5,null!==(i=t.message.Title)&&void 0!==i?i:"Notice")),n.R7$(2),n.Y8G("innerHTML",t.message.Description,n.npT),n.R7$(4),n.JRh(n.bMT(14,7,null!==(e=t.message.TextClose)&&void 0!==e?e:"Close"))}}let fn=(()=>{var r;class u{constructor(e){this.modalController=e}ngOnInit(){}close(){this.modalController.dismiss()}}return(r=u).\u0275fac=function(e){return new(e||r)(n.rXU(p.W3))},r.\u0275cmp=n.VBU({type:r,selectors:[["app-modal-alert"]],inputs:{message:"message"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","px-4","pt-4"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"px-3","mt-0","mb-3","text-center"],[1,"my-0","text-center",3,"innerHTML"],[1,"w-100","d-flex","flex-column","p-4"],["color","primary","expand","block","shape","round",3,"click"],[3,"src"],[1,"text-center"],["name","help-outline","color","tertiary"]],template:function(e,t){1&e&&n.DNE(0,gn,15,9,"ng-container",0),2&e&&n.Y8G("ngIf",t.message)},dependencies:[M.bT,M.ux,M.e1,M.fG,p.Jm,p.iq,p.Zx,o.D9],styles:["ion-icon[_ngcontent-%COMP%]{font-size:10rem}ion-thumbnail[_ngcontent-%COMP%]{--size: 6rem;margin:0 auto 1rem}"]}),u})();const P=(0,$.F3)("SpeechRecognition",{web:()=>g.e(6852).then(g.bind(g,6852)).then(r=>new r.SpeechRecognitionWeb)});let pn=(()=>{var r;class u{constructor(e,t){this.changeDetectorRef=e,this.modalController=t,this.timeoutSubmit=3e3}ngOnInit(){this.srRegister()}ngAfterViewInit(){this.srStart()}ngOnDestroy(){this.srStop()}submit(){this.issubmit||(this.issubmit=!0,this.modalController.dismiss(this.message,"success")),this.srStop()}srRegister(){var e=this;return(0,h.A)(function*(){P.removeAllListeners().then(()=>{P.addListener("partialResults",t=>{var a;console.log("partialResults",t.matches),null!==(a=t.matches)&&void 0!==a&&a.length&&(e.message=t.matches[0],e.timeoutSubmit=3e3,e.changeDetectorRef.detectChanges())}),P.addListener("listeningState",t=>{console.log("listeningState",t.status),"stoped"==t.status&&(e.issubmit||(e.message?e.submit():e.modalController.dismiss()))})})})()}srStart(){var e=this;return(0,h.A)(function*(){P.start({language:"vi-VN",maxResults:2,prompt:"G\u1ee3i \xfd\nH\xe3y n\xf3i \u0111\u1ecba ch\u1ec9 ho\u1eb7c tr\u1ea1m s\u1ea1c b\u1ea1n mu\u1ed1n t\xecm",partialResults:!0,popup:!1}).then(a=>{console.log(a),e.isrunning=!0,clearInterval(e.intervalTimeoutSubmit),e.intervalTimeoutSubmit=setInterval(()=>{e.timeoutSubmit-=100,e.timeoutSubmit<=0&&(e.submit(),clearInterval(e.intervalTimeoutSubmit))},100)}).catch(a=>{e.srStop()})})()}srStop(){var e=this;return(0,h.A)(function*(){e.isrunning&&(yield P.removeAllListeners(),yield P.stop())})()}srAvailable(){P.available().then(e=>{console.log("available",e),e&&this.srCheck()})}srCheck(){P.checkPermissions().then(e=>{console.log("checkPermissions",e),"prompt"==e.speechRecognition?this.srRequest():"granted"==e.speechRecognition&&this.srStart()})}srRequest(){P.requestPermissions().then(e=>{console.log("requestPermissions",e),"prompt"==e.speechRecognition?this.srRequest():"granted"==e.speechRecognition&&this.srStart()})}}return(r=u).\u0275fac=function(e){return new(e||r)(n.rXU(n.gRc),n.rXU(p.W3))},r.\u0275cmp=n.VBU({type:r,selectors:[["app-modal-voice"]],decls:25,vars:18,consts:[[1,"px-3","py-4"],[1,"text-center"],["src","../../../assets/gif/voice.gif"],[1,"text-primary"],[1,"text-center","mt-4"],["mode","ios","color","primary","size","small","shape","round",3,"click"],[3,"innerHTML"]],template:function(e,t){1&e&&(n.j41(0,"div",0)(1,"div",1)(2,"b"),n.EFF(3),n.nI1(4,"translate"),n.k0s()(),n.j41(5,"div",1)(6,"div"),n.nrm(7,"ion-img",2),n.k0s(),n.j41(8,"div",3)(9,"b"),n.EFF(10),n.k0s()(),n.j41(11,"div",4)(12,"ion-button",5),n.bIt("click",function(){return t.submit()}),n.EFF(13),n.nI1(14,"translate"),n.k0s()()(),n.j41(15,"div",4)(16,"b"),n.EFF(17),n.nI1(18,"translate"),n.k0s(),n.nrm(19,"br")(20,"small",6),n.nI1(21,"translate"),n.nrm(22,"br")(23,"small",6),n.nI1(24,"translate"),n.k0s()()),2&e&&(n.R7$(3),n.JRh(n.bMT(4,8,"SearchByVoice")),n.R7$(2),n.Aen(t.isrunning?"visibility:visible":"visibility:hidden"),n.R7$(5),n.JRh(t.message),n.R7$(3),n.JRh(n.bMT(14,10,"Stop")),n.R7$(4),n.JRh(n.bMT(18,12,"SearchByVoiceSuggest")),n.R7$(3),n.Y8G("innerHTML",n.bMT(21,14,"SearchByVoiceSuggest1"),n.npT),n.R7$(3),n.Y8G("innerHTML",n.bMT(24,16,"SearchByVoiceSuggest2"),n.npT))},dependencies:[p.Jm,p.KW,o.D9],styles:["ion-img[_ngcontent-%COMP%]{width:12rem;margin:auto}"]}),u})();const L=function(){var r=(0,h.A)(function*(u,i,e){var t,a,c;return!i.message&&e&&(i.message=null!==(c=null==e?void 0:e.Message)&&void 0!==c?c:null!=e&&e.Succeeded?"Th\xe0nh c\xf4ng!":null!=e&&e.StatusCode?`L\u1ed7i: #${null==e?void 0:e.StatusCode}`:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!",i.icon||(i.icon=null!=e&&e.Succeeded?"checkmark-circle-sharp":"alert-circle-outline"),i.color||(i.color=null!=e&&e.Succeeded?"success":"warning")),i.position||(i.position="bottom"),i.icon||(i.icon="bulb-outline"),i.color||(i.color="secondary"),i.duration=null!==(t=i.duration)&&void 0!==t?t:3e3,i.animated=null===(a=i.animated)||void 0===a||a,i.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield u.create(i)});return function(i,e,t){return r.apply(this,arguments)}}(),hn=function(){var r=(0,h.A)(function*(u,i,e){let t=yield u.create({component:fn,componentProps:{selectedId:e.selectedId,message:e.message},cssClass:"ion-modal-small",backdropDismiss:!0,keyboardClose:!0,enterAnimation:a=>D(i,a),leaveAnimation:a=>x(i,a)});t.onDidDismiss().then(a=>{e.fnClose&&e.fnClose(a.data)}),t.present()});return function(i,e,t){return r.apply(this,arguments)}}(),_n=function(){var r=(0,h.A)(function*(u,i,e){let t=yield u.create({component:b,componentProps:{selectedId:e.selectedId,message:e.message},cssClass:"ion-modal-small",backdropDismiss:!0,keyboardClose:!0,enterAnimation:a=>D(i,a),leaveAnimation:a=>x(i,a)});t.onDidDismiss().then(a=>{"confirm"==a.role?e.fnConfirm&&e.fnConfirm(a.data):"cancel"==a.role&&e.fnCancel&&e.fnCancel(a.data)}),t.present()});return function(i,e,t){return r.apply(this,arguments)}}(),vn=function(){var r=(0,h.A)(function*(u,i,e){let t=yield u.create({component:B,mode:"ios",cssClass:"ion-modal-menu ion-modal-right",backdropDismiss:!0,keyboardClose:!0,enterAnimation:a=>O(i,a),leaveAnimation:a=>bn(i,a)});t.onDidDismiss().then(a=>{"confirm"==a.role?null!=e&&e.fnConfirm&&e.fnConfirm(a.data):"cancel"==a.role?null!=e&&e.fnCancel&&e.fnCancel(a.data):"redirect"==a.role&&null!=e&&e.router&&a.data&&(0,m.vb)(null==e?void 0:e.router,a.data),null!=e&&e.fnDismiss&&e.fnDismiss(a)}),t.present()});return function(i,e,t){return r.apply(this,arguments)}}(),Cn=function(){var r=(0,h.A)(function*(u,i,e){let t=yield u.create({component:dn,backdropDismiss:!0,keyboardClose:!0,enterAnimation:a=>D(i,a),leaveAnimation:a=>x(i,a)});t.onDidDismiss().then(a=>{"confirm"==a.role?null!=e&&e.fnConfirm&&e.fnConfirm(a.data):"cancel"==a.role&&null!=e&&e.fnCancel&&e.fnCancel(a.data)}),t.present()});return function(i,e,t){return r.apply(this,arguments)}}(),N=function(){var r=(0,h.A)(function*(u,i){var e=function(){var d=(0,h.A)(function*(){const T=yield u.create({component:pn,backdropDismiss:!0,keyboardClose:!0,cssClass:"ion-modal-auto ion-modal-bottom"});T.onDidDismiss().then(G=>{"success"==G.role&&null!=i&&i.fnSuccess&&(null==i||i.fnSuccess(G.data))}),T.present()});return function(){return d.apply(this,arguments)}}(),c=()=>{P.requestPermissions().then(d=>{console.log("requestPermissions",d),"prompt"==d.speechRecognition?c():"prompt-with-rationale"==d.speechRecognition?null!=i&&i.fnError&&(null==i||i.fnError("B\u1ea1n \u0111\xe3 t\u1eeb ch\u1ed1i quy\u1ec1n truy c\u1eadp SpeechRecognition, \u0111\u1ec3 s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y vui l\xf2ng b\u1eadt n\xf3 trong ph\u1ea7n c\xe0i \u0111\u1eb7t thi\u1ebft b\u1ecb.")):"granted"==d.speechRecognition?e():"denied"==d.speechRecognition&&null!=i&&i.fnError&&(null==i||i.fnError("B\u1ea1n \u0111\xe3 t\u1eeb ch\u1ed1i quy\u1ec1n truy c\u1eadp SpeechRecognition, \u0111\u1ec3 s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y vui l\xf2ng b\u1eadt n\xf3 trong ph\u1ea7n c\xe0i \u0111\u1eb7t thi\u1ebft b\u1ecb."))})};P.available().then(d=>{console.log("available",d),d.available?P.checkPermissions().then(d=>{console.log("checkPermissions",d),"prompt"==d.speechRecognition||"prompt-with-rationale"==d.speechRecognition?c():"granted"==d.speechRecognition?e():"denied"==d.speechRecognition&&null!=i&&i.fnError&&(null==i||i.fnError("B\u1ea1n \u0111\xe3 t\u1eeb ch\u1ed1i quy\u1ec1n truy c\u1eadp SpeechRecognition, \u0111\u1ec3 s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y vui l\xf2ng b\u1eadt n\xf3 trong ph\u1ea7n c\xe0i \u0111\u1eb7t thi\u1ebft b\u1ecb."))}):null!=i&&i.fnError&&(null==i||i.fnError("Thi\u1ebft b\u1ecb c\u1ee7a b\u1ea1n ch\u01b0a h\u1ed7 tr\u1ee3 SpeechRecognition, vui l\xf2ng ki\u1ec3m tra l\u1ea1i trong c\u1ea5u h\xecnh c\xe0i \u0111\u1eb7t thi\u1ebft b\u1ecb."))})});return function(i,e){return r.apply(this,arguments)}}(),O=(r,u)=>{const i=u.shadowRoot,e=r.create().addElement(null==i?void 0:i.querySelector("ion-backdrop")).fromTo("opacity","0.01","var(--backdrop-opacity)"),t=r.create().addElement(null==i?void 0:i.querySelector(".modal-wrapper")).keyframes([{offset:0,transform:"translateX(100%)"},{offset:1,transform:"translateX(0%)"}]);return r.create().addElement(u).easing("ease-out").duration(300).addAnimation([e,t])},bn=(r,u)=>O(r,u).direction("reverse"),D=(r,u)=>{const i=u.shadowRoot,e=r.create().addElement(null==i?void 0:i.querySelector("ion-backdrop")).fromTo("opacity","0.01","var(--backdrop-opacity)"),t=r.create().addElement(null==i?void 0:i.querySelector(".modal-wrapper")).keyframes([{offset:0,opacity:"0",transform:"scale(0)"},{offset:1,opacity:"0.99",transform:"scale(1)"}]);return r.create().addElement(u).easing("ease-out").duration(300).addAnimation([e,t])},x=(r,u)=>D(r,u).direction("reverse")}}]);