"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6411],{6411:(jn,j,u)=>{u.r(j),u.d(j,{AuthPageModule:()=>Tn});var k=u(177),F=u(9417),m=u(9465),T=u(7625),s=u(467),M=u(7586),G=u.n(M),f=u(5972);const N=function(){var r=(0,s.A)(function*(i){i.params=i.params||{},(0,f.Ll)({authorization:!1,url:"api/Account/login-phonenumber-password",params:{PhoneNumber:i.params.PhoneNumber,Password:i.params.Password},success:t=>{"function"==typeof i.callback&&i.callback(t.data||null)},error:t=>{var o;"function"==typeof i.callback&&i.callback(null==t||null===(o=t.response)||void 0===o?void 0:o.data),console.error(t)},loading:i.loading,loadingController:i.loadingController})});return function(t){return r.apply(this,arguments)}}(),I=function(){var r=(0,s.A)(function*(i){i.params=i.params||{},(0,f.Ll)({authorization:!1,url:"api/Account/login-socialnetwork",params:{SocialType:i.params.SocialType,SocialToken:i.params.SocialToken,SocialUserId:i.params.SocialUserId,Email:i.params.Email,FullName:i.params.FullName},success:t=>{"function"==typeof i.callback&&i.callback(t.data||null)},error:t=>{var o;"function"==typeof i.callback&&i.callback(null==t||null===(o=t.response)||void 0===o?void 0:o.data),console.error(t)},loading:i.loading,loadingController:i.loadingController})});return function(t){return r.apply(this,arguments)}}(),$=function(){var r=(0,s.A)(function*(i){i.params=i.params||{},(0,f.Ll)({authorization:!1,url:"api/Account/verify-phonenumber-otpcode",params:{PhoneNumber:i.params.PhoneNumber,OtpCode:i.params.OtpCode},success:t=>{"function"==typeof i.callback&&i.callback(t.data||null)},error:t=>{var o;"function"==typeof i.callback&&i.callback(null==t||null===(o=t.response)||void 0===o?void 0:o.data),console.error(t)},loading:i.loading,loadingController:i.loadingController})});return function(t){return r.apply(this,arguments)}}(),O=function(){var r=(0,s.A)(function*(i){i.params=i.params||{},(0,f.Ll)({authorization:!1,url:"api/Account/register-phonenumber-otpcode?api-version=1.0",params:{PhoneNumber:i.params.PhoneNumber},success:t=>{"function"==typeof i.callback&&i.callback(t.data||null)},error:t=>{var o;"function"==typeof i.callback&&i.callback(null==t||null===(o=t.response)||void 0===o?void 0:o.data),console.error(t)},loading:i.loading,loadingController:i.loadingController})});return function(t){return r.apply(this,arguments)}}(),B=function(){var r=(0,s.A)(function*(i){i.params=i.params||{},(0,f.Ll)({authorization:!1,url:"api/Account/forgot-password-phonenumber",params:{PhoneNumber:i.params.PhoneNumber},success:t=>{"function"==typeof i.callback&&i.callback(t.data||null)},error:t=>{var o;"function"==typeof i.callback&&i.callback(null==t||null===(o=t.response)||void 0===o?void 0:o.data),console.error(t)},loading:i.loading,loadingController:i.loadingController})});return function(t){return r.apply(this,arguments)}}(),w=function(){var r=(0,s.A)(function*(i){i.params=i.params||{},(0,f.Ll)({authorization:!1,url:"api/Account/reset-password-phonenumber",params:{PhoneNumber:i.params.PhoneNumber,OtpCode:i.params.OtpCode,Password:i.params.Password,ConfirmPassword:i.params.ConfirmPassword},success:t=>{"function"==typeof i.callback&&i.callback(t.data||null)},error:t=>{var o;"function"==typeof i.callback&&i.callback(null==t||null===(o=t.response)||void 0===o?void 0:o.data),console.error(t)},loading:i.loading,loadingController:i.loadingController})});return function(t){return r.apply(this,arguments)}}();var A=u(23),X=u(6539),U=u(8517),d=u(8650),v=u(8833),C=u(5083);const E=(0,C.F3)("FacebookLogin",{web:()=>u.e(4096).then(u.bind(u,4096)).then(r=>new r.FacebookLoginWeb)}),y=(0,C.F3)("GoogleAuth",{web:()=>u.e(7620).then(u.bind(u,7620)).then(r=>new r.GoogleAuthWeb)}),V=function(){var r=(0,s.A)(function*(i){i.params=i.params||{},(0,f.hm)({api_url:`https://graph.facebook.com/me?fields=id,name,picture,email,gender,birthday&access_token=${i.params.AccessToken}`,headers:{},success:t=>{"function"==typeof i.callback&&i.callback(t.data||null)},error:t=>{var o;"function"==typeof i.callback&&i.callback(null==t||null===(o=t.response)||void 0===o?void 0:o.data),console.error(t)},loading:i.loading,loadingController:i.loadingController})});return function(t){return r.apply(this,arguments)}}();var Y=u(5312),n=u(4438),S=u(5788),D=u(4842);const L=["inputMobileRef"],J=["ngOtpInput"],z=["inputPinRef"],W=["inputSetPinRef"],H=["inputConfirmPinRef"],x=()=>["web","android","ios"],Q=r=>({length:r,allowNumbersOnly:!0});function K(r,i){if(1&r&&n.eu8(0,21),2&r){n.XpG();const t=n.sdS(15);n.Y8G("ngTemplateOutlet",t)}}function Z(r,i){if(1&r&&n.eu8(0,21),2&r){n.XpG();const t=n.sdS(17);n.Y8G("ngTemplateOutlet",t)}}function q(r,i){if(1&r&&n.eu8(0,21),2&r){n.XpG();const t=n.sdS(19);n.Y8G("ngTemplateOutlet",t)}}function nn(r,i){if(1&r&&n.eu8(0,21),2&r){n.XpG();const t=n.sdS(21);n.Y8G("ngTemplateOutlet",t)}}function en(r,i){if(1&r&&n.eu8(0,21),2&r){n.XpG();const t=n.sdS(23);n.Y8G("ngTemplateOutlet",t)}}function tn(r,i){if(1&r&&n.eu8(0,21),2&r){n.XpG();const t=n.sdS(25);n.Y8G("ngTemplateOutlet",t)}}function on(r,i){if(1&r){const t=n.RV6();n.j41(0,"div",39)(1,"ion-button",43),n.bIt("click",function(){n.eBV(t);const e=n.XpG(2);return n.Njj(e.setFormType("signup"))}),n.j41(2,"ion-label",44),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.j41(5,"ion-label"),n.EFF(6),n.nI1(7,"translate"),n.k0s()()()}2&r&&(n.R7$(3),n.JRh(n.bMT(4,2,"DoNotHaveAnAccount")),n.R7$(3),n.JRh(n.bMT(7,4,"SignUp")))}function an(r,i){1&r&&(n.j41(0,"ion-button",53),n.nrm(1,"ion-icon",54),n.k0s())}function rn(r,i){1&r&&(n.j41(0,"ion-button",55),n.nrm(1,"ion-icon",56),n.k0s())}function ln(r,i){if(1&r&&(n.j41(0,"div",45),n.nrm(1,"div",46),n.j41(2,"small",47),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.nrm(5,"div",46),n.k0s(),n.j41(6,"div",48),n.nrm(7,"div",49),n.j41(8,"div",50),n.DNE(9,an,2,0,"ion-button",51)(10,rn,2,0,"ion-button",52),n.k0s(),n.nrm(11,"div",49),n.k0s(),n.eu8(12,21)(13,21)),2&r){const t=n.XpG(2),o=n.sdS(27),e=n.sdS(29);n.R7$(3),n.JRh(n.bMT(4,5,"OrLogInWith")),n.R7$(6),n.Y8G("ngIf",n.lJ4(7,x).includes(t.platform)),n.R7$(),n.Y8G("ngIf",n.lJ4(8,x).includes(t.platform)),n.R7$(2),n.Y8G("ngTemplateOutlet",o),n.R7$(),n.Y8G("ngTemplateOutlet",e)}}function cn(r,i){if(1&r){const t=n.RV6();n.j41(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",25),n.nrm(4,"ion-img",26),n.k0s(),n.j41(5,"h5",27)(6,"strong",28),n.EFF(7),n.nI1(8,"translate"),n.k0s()(),n.j41(9,"p",29),n.nrm(10,"small",30),n.nI1(11,"translate"),n.k0s(),n.j41(12,"div",31)(13,"div",32)(14,"b",33),n.EFF(15),n.nI1(16,"translate"),n.k0s()(),n.j41(17,"ion-item",34),n.nrm(18,"ion-icon",35),n.j41(19,"ion-input",36,8),n.nI1(21,"translate"),n.bIt("change",function(e){n.eBV(t);const a=n.XpG();return n.Njj(a.changeMobile(e))})("keyup",function(e){n.eBV(t);const a=n.XpG();return n.Njj(a.keyupMobile(e))}),n.k0s()()(),n.j41(22,"div",37)(23,"ion-button",38),n.bIt("click",function(e){n.eBV(t);const a=n.XpG();return n.Njj(a.submitMobile(e))}),n.j41(24,"ion-label"),n.EFF(25),n.nI1(26,"translate"),n.k0s()()(),n.DNE(27,on,8,6,"div",39)(28,ln,14,9),n.k0s()(),n.j41(29,"div",40)(30,"i")(31,"span"),n.EFF(32),n.nI1(33,"translate"),n.k0s(),n.j41(34,"a",41),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.navigateByUrl(e.APP_ROUTE.TERMS_AND_CONDITION))}),n.EFF(35),n.nI1(36,"translate"),n.k0s(),n.j41(37,"span",42),n.EFF(38),n.nI1(39,"translate"),n.k0s(),n.j41(40,"a",41),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.navigateByUrl(e.APP_ROUTE.PRIVACY_POLICY))}),n.EFF(41),n.nI1(42,"translate"),n.k0s(),n.j41(43,"span"),n.EFF(44),n.nI1(45,"translate"),n.k0s()()()()}if(2&r){const t=n.XpG();n.R7$(7),n.SpI("iSAC ",n.bMT(8,13,"Wellcome"),"!"),n.R7$(3),n.Y8G("innerHTML",n.bMT(11,15,"Auth_Suggest_Mobile"),n.npT),n.R7$(5),n.JRh(n.bMT(16,17,"Mobile")),n.R7$(4),n.FS9("placeholder",n.bMT(21,19,"EnterMobile")),n.Y8G("ngModel",t.dataForm.mobile),n.R7$(6),n.JRh(n.bMT(26,21,"LogIn")),n.R7$(2),n.vxM(27,t.isSignUp?27:-1),n.R7$(),n.vxM(28,t.isLoginSocialnetwork?28:-1),n.R7$(4),n.SpI("",n.bMT(33,23,"ByLoginAgreeTo")," "),n.R7$(3),n.JRh(n.bMT(36,25,"TermsAndCondition")),n.R7$(3),n.SpI(" ",n.bMT(39,27,"And")," "),n.R7$(3),n.JRh(n.bMT(42,29,"PrivacyPolicy")),n.R7$(3),n.SpI(" ",n.bMT(45,31,"Our"),".")}}function sn(r,i){if(1&r){const t=n.RV6();n.j41(0,"div",18)(1,"div",24)(2,"div",25),n.nrm(3,"ion-img",26),n.k0s(),n.j41(4,"h5",27)(5,"strong",28),n.EFF(6),n.nI1(7,"translate"),n.k0s()(),n.j41(8,"p",29),n.nrm(9,"small",30),n.nI1(10,"translate"),n.k0s(),n.j41(11,"div",31)(12,"div",32)(13,"b",33),n.EFF(14),n.nI1(15,"translate"),n.k0s()(),n.j41(16,"ion-item",34),n.nrm(17,"ion-icon",35),n.j41(18,"ion-input",57,8),n.nI1(20,"translate"),n.bIt("change",function(e){n.eBV(t);const a=n.XpG();return n.Njj(a.changeMobile(e))}),n.k0s()()(),n.j41(21,"div",37)(22,"div",58)(23,"ion-checkbox",59),n.bIt("ionChange",function(e){n.eBV(t);const a=n.XpG();return n.Njj(a.changeAgreePolicy(e))}),n.j41(24,"div",60),n.EFF(25),n.nI1(26,"translate"),n.k0s()()(),n.j41(27,"div",61),n.nrm(28,"i",30),n.nI1(29,"translate"),n.k0s()(),n.j41(30,"div",37)(31,"ion-button",38),n.bIt("click",function(e){n.eBV(t);const a=n.XpG();return n.Njj(a.submitSignUp(e))}),n.j41(32,"ion-label"),n.EFF(33),n.nI1(34,"translate"),n.k0s()()(),n.j41(35,"div",39)(36,"ion-button",43),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.setFormType("login"))}),n.j41(37,"ion-label",44),n.EFF(38),n.nI1(39,"translate"),n.k0s(),n.j41(40,"ion-label"),n.EFF(41),n.nI1(42,"translate"),n.k0s()()()()()}if(2&r){const t=n.XpG();n.R7$(6),n.SpI("iSAC ",n.bMT(7,11,"Wellcome"),"!"),n.R7$(3),n.Y8G("innerHTML",n.bMT(10,13,"Auth_Suggest_Mobile"),n.npT),n.R7$(5),n.JRh(n.bMT(15,15,"Mobile")),n.R7$(4),n.FS9("placeholder",n.bMT(20,17,"EnterMobile")),n.Y8G("ngModel",t.dataForm.mobile),n.R7$(5),n.Y8G("checked",!!t.dataForm.agreePolicy),n.R7$(2),n.JRh(n.bMT(26,19,"AgreeToThePersonalInformationSecurityPolicy")),n.R7$(3),n.Y8G("innerHTML",n.bMT(29,21,"AgreeToThePersonalInformationSecurityPolicy_More"),n.npT),n.R7$(5),n.JRh(n.bMT(34,23,"SignUp")),n.R7$(5),n.JRh(n.bMT(39,25,"DoYouAlreadyHaveAnAccount")),n.R7$(3),n.JRh(n.bMT(42,27,"LogIn"))}}function un(r,i){if(1&r&&(n.j41(0,"small",69),n.EFF(1),n.k0s()),2&r){const t=n.XpG(2);n.R7$(),n.SpI("(",t.getTimeCountdownSendOTP(),")")}}function mn(r,i){if(1&r){const t=n.RV6();n.j41(0,"div",62)(1,"div",25),n.nrm(2,"ion-img",63),n.k0s(),n.j41(3,"h5",27)(4,"strong",28),n.EFF(5),n.nI1(6,"translate"),n.k0s()(),n.j41(7,"p",29)(8,"small"),n.nrm(9,"span",30),n.nI1(10,"translate"),n.j41(11,"b"),n.EFF(12),n.k0s()()(),n.j41(13,"div",64)(14,"ng-otp-input",65,9),n.bIt("onInputChange",function(e){n.eBV(t);const a=n.XpG();return n.Njj(a.onOtpChange(e))}),n.k0s()(),n.j41(16,"div",66)(17,"span"),n.EFF(18),n.nI1(19,"translate"),n.k0s(),n.j41(20,"a",67),n.bIt("click",function(e){n.eBV(t);const a=n.XpG();return n.Njj(a.resendOTP(e))}),n.EFF(21),n.nI1(22,"translate"),n.k0s(),n.DNE(23,un,2,1,"small",68),n.k0s()()}if(2&r){const t=n.XpG();n.R7$(5),n.JRh(n.bMT(6,7,"ConfirmOTP")),n.R7$(4),n.Y8G("innerHTML",n.bMT(10,9,"Auth_Suggest_OTP"),n.npT),n.R7$(3),n.SpI(" ",t.APP_FUNC_FormatMobileNumber(t.dataForm.mobile),""),n.R7$(2),n.Y8G("config",n.eq3(15,Q,t.dataForm.otpLen)),n.R7$(4),n.SpI("",n.bMT(19,11,"DidNotReceiveCode")," "),n.R7$(3),n.JRh(n.bMT(22,13,"Resend")),n.R7$(2),n.Y8G("ngIf",t.timeoutSendOTP>0)}}function pn(r,i){if(1&r){const t=n.RV6();n.j41(0,"div",70)(1,"div",25),n.nrm(2,"ion-img",26),n.k0s(),n.j41(3,"h5",27)(4,"strong",28),n.EFF(5),n.nI1(6,"translate"),n.k0s()(),n.j41(7,"p",29)(8,"small"),n.nrm(9,"span",30),n.nI1(10,"translate"),n.j41(11,"b"),n.EFF(12),n.k0s()()(),n.j41(13,"div",71)(14,"ion-item",34),n.nrm(15,"ion-icon",72),n.j41(16,"ion-input",73,10),n.bIt("ionInput",function(e){n.eBV(t);const a=n.XpG();return n.Njj(a.onPinChange(e))}),n.k0s()()(),n.j41(18,"div",66)(19,"a",74),n.bIt("click",function(e){n.eBV(t);const a=n.XpG();return n.Njj(a.forgotPIN(e))}),n.EFF(20),n.nI1(21,"translate"),n.k0s()()()}if(2&r){const t=n.XpG();n.R7$(5),n.JRh(n.bMT(6,5,"InputPIN")),n.R7$(4),n.Y8G("innerHTML",n.bMT(10,7,"Auth_Suggest_PIN"),n.npT),n.R7$(3),n.SpI(" ",t.APP_FUNC_FormatMobileNumber(t.dataForm.mobile),""),n.R7$(4),n.Y8G("value",t.dataForm.pin),n.R7$(4),n.JRh(n.bMT(21,9,"ForgotPIN"))}}function dn(r,i){if(1&r){const t=n.RV6();n.j41(0,"div",70)(1,"div",25),n.nrm(2,"ion-img",26),n.k0s(),n.j41(3,"h5",27)(4,"strong",28),n.EFF(5),n.nI1(6,"translate"),n.k0s()(),n.j41(7,"p",29)(8,"small"),n.EFF(9),n.nI1(10,"translate"),n.k0s()(),n.j41(11,"div",71)(12,"ion-item",34),n.nrm(13,"ion-icon",72),n.j41(14,"ion-input",73,11),n.bIt("ionInput",function(e){n.eBV(t);const a=n.XpG();return n.Njj(a.onSetPinChange(e))}),n.k0s()()(),n.j41(16,"div",66)(17,"span"),n.EFF(18,"\xa0"),n.k0s()()()}if(2&r){const t=n.XpG();n.R7$(5),n.JRh(n.bMT(6,3,"InputPIN")),n.R7$(4),n.JRh(n.bMT(10,5,"Auth_Suggest_PIN_New")),n.R7$(5),n.Y8G("value",t.dataForm.pin)}}function gn(r,i){if(1&r){const t=n.RV6();n.j41(0,"div",70)(1,"div",25),n.nrm(2,"ion-img",26),n.k0s(),n.j41(3,"h5",27)(4,"strong",28),n.EFF(5),n.nI1(6,"translate"),n.k0s()(),n.j41(7,"p",29)(8,"small"),n.EFF(9),n.nI1(10,"translate"),n.k0s()(),n.j41(11,"div",71)(12,"ion-item",34),n.nrm(13,"ion-icon",72),n.j41(14,"ion-input",73,12),n.bIt("ionInput",function(e){n.eBV(t);const a=n.XpG();return n.Njj(a.onConfirmPinChange(e))}),n.k0s()()(),n.j41(16,"div",66)(17,"a",75),n.bIt("click",function(e){n.eBV(t);const a=n.XpG();return n.Njj(a.backSetPIN(e))}),n.EFF(18),n.nI1(19,"translate"),n.k0s()()()}if(2&r){const t=n.XpG();n.R7$(5),n.JRh(n.bMT(6,4,"InputPIN")),n.R7$(4),n.JRh(n.bMT(10,6,"Auth_Suggest_PIN_Confirm")),n.R7$(5),n.Y8G("value",t.dataForm.pin2),n.R7$(4),n.JRh(n.bMT(19,8,"Back"))}}function hn(r,i){if(1&r){const t=n.RV6();n.j41(0,"div",77)(1,"h4",78),n.EFF(2,"\u0110\u0103ng nh\u1eadp v\u1edbi t\xe0i kho\u1ea3n Google"),n.k0s(),n.j41(3,"div",37)(4,"div",58)(5,"ion-checkbox",79)(6,"div",60),n.EFF(7,"Cho ph\xe9p truy c\u1eadp h\u1ed3 s\u01a1 c\xf4ng khai c\u1ee7a b\u1ea1n tr\xean Google."),n.k0s()()()(),n.j41(8,"div",37)(9,"div",58)(10,"ion-checkbox",59),n.bIt("ionChange",function(e){n.eBV(t);const a=n.XpG(2);return n.Njj(a.changeAgreeShareEmail(e))}),n.j41(11,"div",60),n.EFF(12,"Chia s\u1ebb cho ch\xfang t\xf4i th\xf4ng tin \u0111\u1ecba ch\u1ec9 Email c\u1ee7a b\u1ea1n."),n.k0s()()()(),n.j41(13,"div",37)(14,"div",58)(15,"ion-checkbox",80),n.bIt("ionChange",function(e){n.eBV(t);const a=n.XpG(2);return n.Njj(a.changeAgreeReceiveInformation(e))}),n.j41(16,"div",60),n.EFF(17,"Nh\u1eadn th\xf4ng b\xe1o t\u1edbi Email v\u1ec1 c\xe1c ch\u01b0\u01a1ng tr\xecnh khuy\u1ebfn m\xe3i."),n.k0s()()()(),n.j41(18,"div",37)(19,"div",58)(20,"ion-checkbox",59),n.bIt("ionChange",function(e){n.eBV(t);const a=n.XpG(2);return n.Njj(a.changeAgreePolicy(e))}),n.j41(21,"div",60),n.EFF(22),n.nI1(23,"translate"),n.k0s()()(),n.j41(24,"div",61),n.nrm(25,"i",30),n.nI1(26,"translate"),n.k0s()(),n.j41(27,"div",81)(28,"div",82)(29,"ion-button",83),n.bIt("click",function(){n.eBV(t),n.XpG();const e=n.sdS(1);return n.Njj(null==e?null:e.dismiss())}),n.EFF(30),n.nI1(31,"translate"),n.k0s()(),n.j41(32,"div",84)(33,"ion-button",85),n.bIt("click",function(){n.eBV(t),n.XpG();const e=n.sdS(1),a=n.XpG();return null==e||e.dismiss(),n.Njj(a.googleSignIn())}),n.EFF(34),n.nI1(35,"translate"),n.k0s()()()()}if(2&r){const t=n.XpG(2);n.R7$(5),n.Y8G("checked",!0)("disabled",!0),n.R7$(5),n.Y8G("checked",!!t.dataForm.agreeShareEmail),n.R7$(5),n.Y8G("checked",!(!t.dataForm.agreeReceiveInformation||!t.dataForm.agreeShareEmail))("disabled",!t.dataForm.agreeShareEmail),n.R7$(5),n.Y8G("checked",!!t.dataForm.agreePolicy),n.R7$(2),n.JRh(n.bMT(23,11,"AgreeToThePersonalInformationSecurityPolicy")),n.R7$(3),n.Y8G("innerHTML",n.bMT(26,13,"AgreeToThePersonalInformationSecurityPolicy_More"),n.npT),n.R7$(5),n.JRh(n.bMT(31,15,"Cancel")),n.R7$(3),n.Y8G("disabled",!t.dataForm.agreePolicy),n.R7$(),n.JRh(n.bMT(35,17,"Confirm"))}}function _n(r,i){1&r&&(n.j41(0,"ion-modal",76,13),n.DNE(2,hn,36,19,"ng-template"),n.k0s())}function fn(r,i){if(1&r){const t=n.RV6();n.j41(0,"div",77)(1,"h4",78),n.EFF(2,"\u0110\u0103ng nh\u1eadp v\u1edbi t\xe0i kho\u1ea3n FaceBook"),n.k0s(),n.j41(3,"div",37)(4,"div",58)(5,"ion-checkbox",79)(6,"div",60),n.EFF(7,"Cho ph\xe9p truy c\u1eadp h\u1ed3 s\u01a1 c\xf4ng khai c\u1ee7a b\u1ea1n tr\xean FaceBook."),n.k0s()()()(),n.j41(8,"div",37)(9,"div",58)(10,"ion-checkbox",59),n.bIt("ionChange",function(e){n.eBV(t);const a=n.XpG(2);return n.Njj(a.changeAgreeShareEmail(e))}),n.j41(11,"div",60),n.EFF(12,"Chia s\u1ebb cho ch\xfang t\xf4i th\xf4ng tin \u0111\u1ecba ch\u1ec9 Email c\u1ee7a b\u1ea1n."),n.k0s()()()(),n.j41(13,"div",37)(14,"div",58)(15,"ion-checkbox",80),n.bIt("ionChange",function(e){n.eBV(t);const a=n.XpG(2);return n.Njj(a.changeAgreeReceiveInformation(e))}),n.j41(16,"div",60),n.EFF(17,"Nh\u1eadn th\xf4ng b\xe1o t\u1edbi Email v\u1ec1 c\xe1c ch\u01b0\u01a1ng tr\xecnh khuy\u1ebfn m\xe3i."),n.k0s()()()(),n.j41(18,"div",37)(19,"div",58)(20,"ion-checkbox",59),n.bIt("ionChange",function(e){n.eBV(t);const a=n.XpG(2);return n.Njj(a.changeAgreePolicy(e))}),n.j41(21,"div",60),n.EFF(22),n.nI1(23,"translate"),n.k0s()()(),n.j41(24,"div",61),n.nrm(25,"i",30),n.nI1(26,"translate"),n.k0s()(),n.j41(27,"div",81)(28,"div",82)(29,"ion-button",83),n.bIt("click",function(){n.eBV(t),n.XpG();const e=n.sdS(1);return n.Njj(null==e?null:e.dismiss())}),n.EFF(30),n.nI1(31,"translate"),n.k0s()(),n.j41(32,"div",84)(33,"ion-button",85),n.bIt("click",function(){n.eBV(t),n.XpG();const e=n.sdS(1),a=n.XpG();return null==e||e.dismiss(),n.Njj(a.facebookSignIn())}),n.EFF(34),n.nI1(35,"translate"),n.k0s()()()()}if(2&r){const t=n.XpG(2);n.R7$(5),n.Y8G("checked",!0)("disabled",!0),n.R7$(5),n.Y8G("checked",!!t.dataForm.agreeShareEmail),n.R7$(5),n.Y8G("checked",!(!t.dataForm.agreeReceiveInformation||!t.dataForm.agreeShareEmail))("disabled",!t.dataForm.agreeShareEmail),n.R7$(5),n.Y8G("checked",!!t.dataForm.agreePolicy),n.R7$(2),n.JRh(n.bMT(23,11,"AgreeToThePersonalInformationSecurityPolicy")),n.R7$(3),n.Y8G("innerHTML",n.bMT(26,13,"AgreeToThePersonalInformationSecurityPolicy_More"),n.npT),n.R7$(5),n.JRh(n.bMT(31,15,"Cancel")),n.R7$(3),n.Y8G("disabled",!t.dataForm.agreePolicy),n.R7$(),n.JRh(n.bMT(35,17,"Confirm"))}}function bn(r,i){1&r&&(n.j41(0,"ion-modal",86,14),n.DNE(2,fn,36,19,"ng-template"),n.k0s())}const vn=[{path:"",component:(()=>{var r;class i{constructor(o,e,a,l){this.router=o,this.loadingController=a,this.toastController=l,this.isSignUp=!0,this.isLoginSocialnetwork=!0,this.platform=C.Ii.getPlatform(),this.APP_ROUTE=v._,this.dataForm={formType:"login",otpLen:6,pinLen:6,agreeShareEmail:!0,agreeReceiveInformation:!0},this.timeoutSendOTP=0,this.intervalCountdownSendOTP=null,this.APP_FUNC_FormatMobileNumber=U.IV,this.params={returnurl:e.snapshot.queryParamMap.get("returnurl")||void 0},(0,X.lJ)().then(c=>{c&&(this.params.returnurl?window.location.replace(this.params.returnurl):this.navigateByUrl(v._.TABS_DEFAULT))})}ngOnInit(){}close(o){var e=this;return(0,s.A)(function*(){e.navigateByUrl(v._.TABS_DEFAULT)})()}navigateByUrl(o){this.router.navigateByUrl(o,{replaceUrl:!0})}redirect(o){var e=new RegExp(Y.c.match_web_url,"i");o.match(e)&&this.router.navigateByUrl(o.replace(e,"/"),{replaceUrl:!0})}setFormType(o){var e=this;return(0,s.A)(function*(){e.dataForm.formType=o,setTimeout(()=>{switch(o){case"login":var a;null===(a=e.inputMobileRef)||void 0===a||a.setFocus();break;case"signup":var l;null===(l=e.inputMobileRef)||void 0===l||l.setFocus();break;case"pin":var c;null===(c=e.inputPinRef)||void 0===c||c.setFocus();break;case"set-pin":var p;null===(p=e.inputSetPinRef)||void 0===p||p.setFocus();break;case"confirm-pin":var g;null===(g=e.inputConfirmPinRef)||void 0===g||g.setFocus()}},300)})()}backSetPIN(o){var e=this;return(0,s.A)(function*(){e.dataForm.pin="",e.dataForm.pin2="",e.setFormType("set-pin")})()}changeAgreePolicy(o){var e=this;return(0,s.A)(function*(){e.dataForm.agreePolicy=o.detail.checked})()}changeAgreeShareEmail(o){var e=this;return(0,s.A)(function*(){e.dataForm.agreeShareEmail=o.detail.checked})()}changeAgreeReceiveInformation(o){var e=this;return(0,s.A)(function*(){e.dataForm.agreeReceiveInformation=o.detail.checked})()}changeMobile(o){var e=this;return(0,s.A)(function*(){var a;e.dataForm.mobile=null===(a=o.target.value)||void 0===a?void 0:a.replace(/[^0-9\+]/g,"")})()}keyupMobile(o){var e=this;return(0,s.A)(function*(){13==o.keyCode&&e.submitMobile(o)})()}onOtpChange(o){var e=this;return(0,s.A)(function*(){var a,l,c;(null!==(a=null===(l=e.dataForm.otp)||void 0===l?void 0:l.length)&&void 0!==a?a:0)>=e.dataForm.otpLen||(e.dataForm.otp=o,(null===(c=e.dataForm.otp)||void 0===c?void 0:c.length)==e.dataForm.otpLen&&e.checkOTP())})()}onPinChange(o){var e=this;return(0,s.A)(function*(){var a,l,c;(null!==(a=null===(l=e.dataForm.pin)||void 0===l?void 0:l.length)&&void 0!==a?a:0)>=e.dataForm.pinLen||(e.dataForm.pin=o.detail.value,(null===(c=e.dataForm.pin)||void 0===c?void 0:c.length)==e.dataForm.pinLen&&e.checkPIN())})()}onSetPinChange(o){var e=this;return(0,s.A)(function*(){var a,l,c;(null!==(a=null===(l=e.dataForm.pin)||void 0===l?void 0:l.length)&&void 0!==a?a:0)>=e.dataForm.pinLen||(e.dataForm.pin=o.detail.value,(null===(c=e.dataForm.pin)||void 0===c?void 0:c.length)==e.dataForm.pinLen&&e.setFormType("confirm-pin"))})()}onConfirmPinChange(o){var e=this;return(0,s.A)(function*(){var a,l,c;(null!==(a=null===(l=e.dataForm.pin2)||void 0===l?void 0:l.length)&&void 0!==a?a:0)>=e.dataForm.pinLen||(e.dataForm.pin2=o.detail.value,(null===(c=e.dataForm.pin2)||void 0===c?void 0:c.length)==e.dataForm.pinLen&&(e.dataForm.pin!=e.dataForm.pin2?(e.dataForm.pin2="",(0,d.cX)(e.toastController,{color:"warning",message:"M\xe3 PIN kh\xf4ng tr\xf9ng kh\u1edbp, h\xe3y nh\u1eadp l\u1ea1i!"}).then(p=>p.present())):e.setPIN()))})()}resendOTP(o){var e=this;return(0,s.A)(function*(){var a;e.timeoutSendOTP>0||(null===(a=e.ngOtpInputRef)||void 0===a||a.setValue(""),e.submitMobile())})()}resetOTP(o){var e=this;return(0,s.A)(function*(){e.dataForm.pin="",e.dataForm.pin2=""})()}forgotPIN(o){var e=this;return(0,s.A)(function*(){B({loadingController:e.loadingController,params:{PhoneNumber:e.dataForm.mobile},callback:a=>{e.response=a,null!=a&&a.Succeeded?e.setFormType("otp"):(0,d.cX)(e.toastController,{},a).then(l=>l.present())}})})()}submitMobile(o,e){var a=this;return(0,s.A)(function*(){a.dataForm.mobile&&a.dataForm.mobile.match(/^(\+84|0)([3|5|7|8|9])([0-9]{8,9})$/g)?O({loadingController:a.loadingController,params:{PhoneNumber:a.dataForm.mobile},callback:l=>{a.response=l,null!=l&&l.Succeeded?l.Data.PhoneNumberConfirmed?(e&&(0,d.cX)(a.toastController,{color:"warning",message:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u0103ng k\xfd tr\u01b0\u1edbc \u0111\xf3, vui l\xf2ng nh\u1eadp m\xe3 PIN t\xe0i kho\u1ea3n!"}).then(c=>c.present()),a.setFormType("pin")):(a.setFormType("otp"),a.setTimeCountdown()):(0,d.cX)(a.toastController,{},l).then(c=>c.present())}}):(0,d.cX)(a.toastController,{color:"warning",message:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\xfang!"}).then(l=>l.present())})()}submitSignUp(o){var e=this;return(0,s.A)(function*(){e.dataForm.agreePolicy?e.submitMobile(o,!0):(0,d.cX)(e.toastController,{color:"warning",message:"B\u1ea1n c\u1ea7n ch\u1ecdn \u0111\u1ed3ng \xfd v\u1edbi ch\xednh s\xe1ch c\u1ee7a ch\xfang t\xf4i!"}).then(l=>l.present())})()}checkOTP(){var o=this;return(0,s.A)(function*(){$({loadingController:o.loadingController,params:{PhoneNumber:o.dataForm.mobile,OtpCode:o.dataForm.otp},callback:e=>{var a;o.response=e,null!=e&&e.Succeeded?o.setFormType("set-pin"):(null===(a=o.ngOtpInputRef)||void 0===a||a.setValue(""),(0,d.cX)(o.toastController,{},e).then(l=>l.present()))}})})()}checkPIN(){var o=this;return(0,s.A)(function*(){N({loadingController:o.loadingController,params:{PhoneNumber:o.dataForm.mobile,Password:o.dataForm.pin},callback:e=>{if(o.response=e,null!=e&&e.Succeeded){let{RefreshToken:a,JWToken:l,TokenExpiryDateValue:c,UserName:p,PhoneNumber:g}=e.Data;(0,A.Dj)({params:{AccessToken:l,RefreshToken:a,TokenExpiry:c,UserName:p,PhoneNumber:g},callback:h=>{null!=h&&h.AccessToken&&(o.params.returnurl?o.redirect(o.params.returnurl):o.navigateByUrl(v._.TABS_DEFAULT))}})}else o.dataForm.pin="",(0,d.cX)(o.toastController,{},e).then(a=>a.present())}})})()}setPIN(){var o=this;return(0,s.A)(function*(){w({loadingController:o.loadingController,params:{PhoneNumber:o.dataForm.mobile,OtpCode:o.dataForm.otp,Password:o.dataForm.pin,ConfirmPassword:o.dataForm.pin2},callback:e=>{o.response=e,null!=e&&e.Succeeded?o.checkPIN():(o.dataForm.pin="",o.dataForm.pin2="",(0,d.cX)(o.toastController,{},e).then(a=>a.present()))}})})()}setTimeCountdown(){if(this.timeoutSendOTP<=0){this.timeoutSendOTP=18e4,clearInterval(this.intervalCountdownSendOTP);let o=1e3;this.intervalCountdownSendOTP=setInterval(()=>{if(this.timeoutSendOTP<=o)return this.timeoutSendOTP=0,void clearInterval(this.intervalCountdownSendOTP);this.timeoutSendOTP-=o},o)}}getTimeCountdownSendOTP(){return G()(this.timeoutSendOTP).format("mm:ss")}facebookSignIn(){var o=this;return(0,s.A)(function*(){E.initialize({appId:"483352784080919"}).then(()=>{E.login({permissions:o.dataForm.agreeShareEmail?["public_profile","email"]:["public_profile"]}).then(e=>{var a,l;console.log("login-facebook",e),null!==(a=e.accessToken)&&void 0!==a&&a.token&&V({params:{AccessToken:null===(l=e.accessToken)||void 0===l?void 0:l.token},callback:c=>{var p,g,h;console.log(c),I({params:{SocialType:"FaceBook",SocialToken:null===(p=e.accessToken)||void 0===p?void 0:p.token,SocialUserId:null!==(g=null==c?void 0:c.id)&&void 0!==g?g:null===(h=e.accessToken)||void 0===h?void 0:h.userId,Email:null==c?void 0:c.email,FullName:null==c?void 0:c.name},callback:_=>{if(o.response=_,null!=_&&_.Succeeded){var P;let{RefreshToken:b,JWToken:Fn,TokenExpiryDateValue:An,UserName:Cn,PhoneNumber:Rn}=_.Data;(0,A.Dj)({params:{SocialType:"FaceBook",SocialToken:null===(P=e.accessToken)||void 0===P?void 0:P.token,AccessToken:Fn,RefreshToken:b,TokenExpiry:An,UserName:Cn,PhoneNumber:Rn},callback:R=>{null!=R&&R.AccessToken&&(o.params.returnurl?o.redirect(o.params.returnurl):o.navigateByUrl(v._.TABS_DEFAULT))}})}else(0,d.cX)(o.toastController,{},_).then(b=>b.present())}})}})}).catch(e=>{console.log(e)})}).catch(e=>{console.log(e)})})()}googleSignIn(){var o=this;return(0,s.A)(function*(){y.initialize({clientId:{web:"205408273258-vf2ebughrfutlt5pm0eh9rbjg0g1iv76.apps.googleusercontent.com",ios:"205408273258-498pujpuan1bbjd86mp0sigq9mg96nci.apps.googleusercontent.com",android:"205408273258-9efl15iv20hpdk6savrdgu3sol7majke.apps.googleusercontent.com"}[o.platform],scopes:o.dataForm.agreeShareEmail?["profile","email"]:["profile"],grantOfflineAccess:!1}).then((0,s.A)(function*(){y.signIn().then(a=>{var l;console.log("login-google",a),null!=a&&null!==(l=a.authentication)&&void 0!==l&&l.accessToken&&I({params:{SocialType:"Google",SocialToken:a.authentication.accessToken,SocialUserId:null==a?void 0:a.id,Email:null==a?void 0:a.email,FullName:null==a?void 0:a.name},callback:c=>{if(o.response=c,null!=c&&c.Succeeded){let{RefreshToken:p,JWToken:g,TokenExpiryDateValue:h,UserName:_,PhoneNumber:P}=c.Data;(0,A.Dj)({params:{SocialType:"Google",SocialToken:a.authentication.accessToken,AccessToken:g,RefreshToken:p,TokenExpiry:h,UserName:_,PhoneNumber:P},callback:b=>{null!=b&&b.AccessToken&&(o.params.returnurl?o.redirect(o.params.returnurl):o.navigateByUrl(v._.TABS_DEFAULT))}})}else(0,d.cX)(o.toastController,{},c).then(p=>p.present())}})}).catch(a=>{console.log(a)})})).catch(a=>{console.log(a)})})()}appleSignIn(){return(0,s.A)(function*(){})()}}return(r=i).\u0275fac=function(o){return new(o||r)(n.rXU(T.Ix),n.rXU(T.nX),n.rXU(m.Xi),n.rXU(m.K_))},r.\u0275cmp=n.VBU({type:r,selectors:[["app-auth"]],viewQuery:function(o,e){if(1&o&&(n.GBs(L,5),n.GBs(J,5),n.GBs(z,5),n.GBs(W,5),n.GBs(H,5)),2&o){let a;n.mGM(a=n.lsd())&&(e.inputMobileRef=a.first),n.mGM(a=n.lsd())&&(e.ngOtpInputRef=a.first),n.mGM(a=n.lsd())&&(e.inputPinRef=a.first),n.mGM(a=n.lsd())&&(e.inputSetPinRef=a.first),n.mGM(a=n.lsd())&&(e.inputConfirmPinRef=a.first)}},decls:30,vars:7,consts:[["templateLogIn",""],["templateSignUp",""],["templateOTP",""],["templatePIN",""],["templateSetPIN",""],["templateConfirmPIN",""],["templateModalConfirmGoogle",""],["templateModalConfirmFaceBook",""],["inputMobileRef",""],["ngOtpInput",""],["inputPinRef",""],["inputSetPinRef",""],["inputConfirmPinRef",""],["modalConfirmGoogle",""],["modalConfirmFaceBook",""],["slot","end"],[3,"click"],["name","close-outline"],[1,"w-100","h-100","d-flex","align-items-center"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],[3,"ngTemplateOutlet"],[1,"w-100","h-100","d-flex","flex-column"],[1,"flex-grow-1","d-flex","align-items-center"],[1,"container","container-mobile"],[1,"mb-4"],["src","../../../assets/image/logo-isac-infipower.png"],[1,"mb-3","text-center"],[1,"font-poppins"],[1,"mb-4","text-center"],[3,"innerHTML"],[1,"ion-item-input"],[1,"mb-1"],[1,"fs-3"],["lines","none"],["slot","start","color","primary","src","../../../assets/icon/ion-icon/call.svg"],["type","number","inputmode","decimal",3,"change","keyup","placeholder","ngModel"],[1,"mt-4"],["color","primary","expand","block","shape","round",3,"click"],[1,"mt-2"],[1,"container","text-center","py-3","fs-2"],[1,"text-primary","d-inline-block","cursor-pointer",3,"click"],[1,"text-lowercase"],["color","primary","expand","block","shape","round","fill","clear",3,"click"],["color","medium",1,"fs-12","mr-2"],[1,"d-flex","align-items-center","mt-4"],[1,"flex-grow-1","border-top"],[1,"px-3","text-muted"],[1,"d-flex","align-items-center","mt-3"],[1,"flex-grow-1"],[1,"px-3","login-social-network"],["shape","round","class","btn-google","id","present-modal-confirm-google",4,"ngIf"],["shape","round","class","btn-facebook","id","present-modal-confirm-facebook",4,"ngIf"],["shape","round","id","present-modal-confirm-google",1,"btn-google"],["src","../../../assets/icon/ion-img/google.svg"],["shape","round","id","present-modal-confirm-facebook",1,"btn-facebook"],["name","logo-facebook"],["type","number","inputmode","decimal",3,"change","placeholder","ngModel"],[1,"fs-14"],["labelPlacement","end",3,"ionChange","checked"],[1,"text-wrap"],[1,"mt-2","text-justify","fs-12"],[1,"container","container-otp"],["src","../../../assets/icon/ion-img/otp.svg"],[1,"row","text-center"],[3,"onInputChange","config"],[1,"mt-4","text-center"],[1,"text-primmary","cursor-pointer",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"container","container-pin"],[1,"ion-item-input","ion-item-input-pwd","mw-320","m-auto"],["slot","start","color","primary","name","key"],["type","number","inputmode","decimal","placeholder","******",3,"ionInput","value"],[1,"text-primmary","cursor-pointer","fs-14",3,"click"],[1,"text-primary","cursor-pointer","fs-14",3,"click"],["trigger","present-modal-confirm-google",1,"ion-modal-auto"],[1,"p-4"],[1,"mb-2","text-center"],["labelPlacement","end",3,"checked","disabled"],["labelPlacement","end",3,"ionChange","checked","disabled"],[1,"row","mt-4"],[1,"col-6","pr-1"],["fill","outline","color","medium","expand","block","shape","round",3,"click"],[1,"col-6","pl-1"],["color","primary","expand","block","shape","round",3,"click","disabled"],["trigger","present-modal-confirm-facebook",1,"ion-modal-auto"]],template:function(o,e){if(1&o){const a=n.RV6();n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",15)(3,"ion-button",16),n.bIt("click",function(c){return n.eBV(a),n.Njj(e.close(c))}),n.nrm(4,"ion-icon",17),n.k0s()()()(),n.j41(5,"ion-content")(6,"div",18),n.qex(7,19),n.DNE(8,K,1,1,"ng-container",20)(9,Z,1,1,"ng-container",20)(10,q,1,1,"ng-container",20)(11,nn,1,1,"ng-container",20)(12,en,1,1,"ng-container",20)(13,tn,1,1,"ng-container",20),n.bVm(),n.k0s()(),n.DNE(14,cn,46,33,"ng-template",null,0,n.C5r)(16,sn,43,29,"ng-template",null,1,n.C5r)(18,mn,24,17,"ng-template",null,2,n.C5r)(20,pn,22,11,"ng-template",null,3,n.C5r)(22,dn,19,7,"ng-template",null,4,n.C5r)(24,gn,20,10,"ng-template",null,5,n.C5r)(26,_n,3,0,"ng-template",null,6,n.C5r)(28,bn,3,0,"ng-template",null,7,n.C5r)}2&o&&(n.R7$(7),n.Y8G("ngSwitch",e.dataForm.formType),n.R7$(),n.Y8G("ngSwitchCase","login"),n.R7$(),n.Y8G("ngSwitchCase","signup"),n.R7$(),n.Y8G("ngSwitchCase","otp"),n.R7$(),n.Y8G("ngSwitchCase","pin"),n.R7$(),n.Y8G("ngSwitchCase","set-pin"),n.R7$(),n.Y8G("ngSwitchCase","confirm-pin"))},dependencies:[k.bT,k.T3,k.ux,k.e1,F.BC,F.vS,m.Jm,m.QW,m.eY,m.W9,m.eU,m.iq,m.KW,m.$w,m.uz,m.he,m.ai,m.Sb,m.hB,m.su,S.gj,D.D9],styles:["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--min-height: 3.5rem}.container[_ngcontent-%COMP%]{max-width:30rem}.container-mobile[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:12.5rem;margin:auto}.container-otp[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:12.5rem;margin:auto}.container-pin[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:12.5rem;margin:auto}.container-pin[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--background: var(--ion-color-light)}.login-social-network[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{min-width:2.5rem;min-height:2.5rem;width:2.5rem;height:2.5rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-width: 1px;--border-style: solid;--border-color: var(--ion-color-medium-tint);margin:0;--box-shadow: none}.login-social-network[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:not(:last-child){margin-right:1rem}.login-social-network[_ngcontent-%COMP%]   ion-button.btn-apple[_ngcontent-%COMP%]{--background: #ffffff;--color: #000000}.login-social-network[_ngcontent-%COMP%]   ion-button.btn-google[_ngcontent-%COMP%]{--background: #ffffff}.login-social-network[_ngcontent-%COMP%]   ion-button.btn-facebook[_ngcontent-%COMP%]{--background: #ffffff;--color: #1877F2}ion-checkbox[_ngcontent-%COMP%]::part(label){opacity:1}"]}),i})()}];let kn=(()=>{var r;class i{}return(r=i).\u0275fac=function(o){return new(o||r)},r.\u0275mod=n.$C({type:r}),r.\u0275inj=n.G2t({imports:[T.iI.forChild(vn),T.iI]}),i})();var Pn=u(3890);let Tn=(()=>{var r;class i{}return(r=i).\u0275fac=function(o){return new(o||r)},r.\u0275mod=n.$C({type:r}),r.\u0275inj=n.G2t({imports:[k.MD,F.YN,m.bv,kn,Pn.x,S.Ph]}),i})()}}]);