"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1806],{5970:(b,h,v)=>{v.d(h,{$J:()=>e,NT:()=>c,Ul:()=>I,Wu:()=>_,kT:()=>f});var s=v(467),C=v(5972);const _=function(){var p=(0,s.A)(function*(n){var t,i,u,l,a,o,r;n.params=n.params||{},(0,C.Ll)({url:"api/CustomerInvoice/create",params:{IsCompany:null!==(t=n.params.IsCompany)&&void 0!==t?t:null,TaxCode:null!==(i=n.params.TaxCode)&&void 0!==i?i:null,CompanyName:null!==(u=n.params.CompanyName)&&void 0!==u?u:null,Address:null!==(l=n.params.Address)&&void 0!==l?l:null,BuyerPhone:null!==(a=n.params.BuyerPhone)&&void 0!==a?a:null,BuyerEmail:null!==(o=n.params.BuyerEmail)&&void 0!==o?o:null,IsDefault:null!==(r=n.params.IsDefault)&&void 0!==r?r:null},success:d=>{"function"==typeof n.callback&&n.callback(d.data||null)},error:d=>{var m;"function"==typeof n.callback&&n.callback(null==d||null===(m=d.response)||void 0===m?void 0:m.data),console.error(d)},loading:n.loading,loadingController:n.loadingController})});return function(t){return p.apply(this,arguments)}}(),I=function(){var p=(0,s.A)(function*(n){var t,i;n.params=n.params||{},(0,C.hm)({url:"api/CustomerInvoice/get-customerinvoices",params:{PageNumber:null!==(t=n.params.PageNumber)&&void 0!==t?t:1,PageSize:null!==(i=n.params.PageSize)&&void 0!==i?i:10},success:u=>{"function"==typeof n.callback&&n.callback(u.data||null)},error:u=>{var l;"function"==typeof n.callback&&n.callback(null==u||null===(l=u.response)||void 0===l?void 0:l.data),console.error(u)},loading:n.loading,loadingController:n.loadingController})});return function(t){return p.apply(this,arguments)}}(),f=function(){var p=(0,s.A)(function*(n){n.params=n.params||{},(0,C.hm)({url:`api/CustomerInvoice/get/${n.params.CustomerInvoiceId}`,success:t=>{"function"==typeof n.callback&&n.callback(t.data||null)},error:t=>{var i;"function"==typeof n.callback&&n.callback(null==t||null===(i=t.response)||void 0===i?void 0:i.data),console.error(t)},loading:n.loading,loadingController:n.loadingController})});return function(t){return p.apply(this,arguments)}}(),e=function(){var p=(0,s.A)(function*(n){var t,i,u,l,a,o,r,d;n.params=n.params||{},(0,C.IH)({url:"api/CustomerInvoice/update",params:{CustomerInvoiceId:null!==(t=n.params.CustomerInvoiceId)&&void 0!==t?t:null,IsCompany:null!==(i=n.params.IsCompany)&&void 0!==i?i:null,TaxCode:null!==(u=n.params.TaxCode)&&void 0!==u?u:null,CompanyName:null!==(l=n.params.CompanyName)&&void 0!==l?l:null,Address:null!==(a=n.params.Address)&&void 0!==a?a:null,BuyerPhone:null!==(o=n.params.BuyerPhone)&&void 0!==o?o:null,BuyerEmail:null!==(r=n.params.BuyerEmail)&&void 0!==r?r:null,IsDefault:null!==(d=n.params.IsDefault)&&void 0!==d?d:null},success:m=>{"function"==typeof n.callback&&n.callback(m.data||null)},error:m=>{var g;"function"==typeof n.callback&&n.callback(null==m||null===(g=m.response)||void 0===g?void 0:g.data),console.error(m)},loading:n.loading,loadingController:n.loadingController})});return function(t){return p.apply(this,arguments)}}(),c=function(){var p=(0,s.A)(function*(n){n.params=n.params||{},(0,C.sj)({url:`api/CustomerInvoice/delete/${n.params.CustomerInvoiceId}`,params:{},success:t=>{"function"==typeof n.callback&&n.callback(t.data||null)},error:t=>{var i;"function"==typeof n.callback&&n.callback(null==t||null===(i=t.response)||void 0===i?void 0:i.data),console.error(t)},loading:n.loading,loadingController:n.loadingController})});return function(t){return p.apply(this,arguments)}}()},1806:(b,h,v)=>{v.d(h,{$:()=>n});var s=v(467),C=v(5972);const _=function(){var t=(0,s.A)(function*(i){i.params=i.params||{},(0,C.hm)({url:`api/CompanyLookup/get/${i.params.TaxCode}`,success:u=>{"function"==typeof i.callback&&i.callback(u.data||null)},error:u=>{var l;"function"==typeof i.callback&&i.callback(null==u||null===(l=u.response)||void 0===l?void 0:l.data),console.error(u)},loading:i.loading,loadingController:i.loadingController})});return function(u){return t.apply(this,arguments)}}();var I=v(5970),f=v(8650),e=v(4438),c=v(9465),p=v(4842);let n=(()=>{var t;class i{constructor(l,a,o){this.modalController=l,this.loadingController=a,this.toastController=o,this.customerInvoice={IsCompany:!0}}ngOnInit(){this.refreshData()}onIonRefresher(l){this.refreshData(()=>{l.target.complete()})}refreshData(l){var a=this;return(0,s.A)(function*(){a.CustomerInvoiceId?(0,I.kT)({loadingController:a.loadingController,params:{CustomerInvoiceId:a.CustomerInvoiceId},callback:o=>{var r;a.response=o,null!=o&&o.Succeeded?a.customerInvoice=null!==(r=o.Data)&&void 0!==r?r:{}:(0,f.cX)(a.toastController,{},o).then(d=>d.present()),l&&l()}}):l&&l()})()}close(l){var a=this;return(0,s.A)(function*(){a.modalController.dismiss(null,"cancel")})()}submit(l){var a=this;return(0,s.A)(function*(){a.customerInvoice.CustomerInvoiceId?(0,I.$J)({loadingController:a.loadingController,params:a.customerInvoice,callback:o=>{a.response=o,null!=o&&o.Succeeded?a.modalController.dismiss(null,"success"):(0,f.cX)(a.toastController,{},o).then(r=>r.present())}}):(0,I.Wu)({loadingController:a.loadingController,params:a.customerInvoice,callback:o=>{a.response=o,null!=o&&o.Succeeded?a.modalController.dismiss(null,"success"):(0,f.cX)(a.toastController,{},o).then(r=>r.present())}})})()}changeBuyerPhone(l){var a=this;return(0,s.A)(function*(){a.customerInvoice.BuyerPhone=l.detail.value})()}changeBuyerEmail(l){var a=this;return(0,s.A)(function*(){a.customerInvoice.BuyerEmail=l.detail.value})()}changeCompanyName(l){var a=this;return(0,s.A)(function*(){a.customerInvoice.CompanyName=l.detail.value})()}changeAddress(l){var a=this;return(0,s.A)(function*(){a.customerInvoice.Address=l.detail.value})()}changeTaxCode(l){var a=this;return(0,s.A)(function*(){a.customerInvoice.TaxCode=l.detail.value,_({params:{TaxCode:a.customerInvoice.TaxCode},callback:o=>{if(null!=o&&o.Succeeded){let m=null==o?void 0:o.Data;var r,d;m&&(a.customerInvoice.CompanyName=null!==(r=m.Name)&&void 0!==r?r:a.customerInvoice.CompanyName,a.customerInvoice.Address=null!==(d=m.Address)&&void 0!==d?d:a.customerInvoice.Address)}}})})()}changeIsDefault(l){var a=this;return(0,s.A)(function*(){a.customerInvoice.IsDefault=l.detail.checked})()}}return(t=i).\u0275fac=function(l){return new(l||t)(e.rXU(c.W3),e.rXU(c.Xi),e.rXU(c.K_))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-modal-add-customer-invoice"]],inputs:{CustomerInvoiceId:"CustomerInvoiceId"},decls:76,vars:48,consts:[["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],["slot","fixed",3,"ionRefresh"],[1,"card-info","bg-white","container","py-3","min-h-100"],[1,"text-center","mb-3"],[1,"text-muted"],["lines","none"],[1,"form-group"],[1,"text-danger"],[1,"ion-item-input"],[3,"ionChange","placeholder","value"],[1,"row"],["labelPlacement","end","justify","start",3,"ionChange","checked"],[1,"p-3"],["color","primary","shape","round","expand","block",3,"click"]],template:function(l,a){1&l&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(r){return a.close(r)}),e.nrm(4,"ion-icon",2),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"ion-content")(9,"ion-refresher",3),e.bIt("ionRefresh",function(r){return a.onIonRefresher(r)}),e.nrm(10,"ion-refresher-content"),e.k0s(),e.j41(11,"div",4)(12,"div",5)(13,"small",6),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"ion-list",7)(17,"div",8)(18,"label"),e.EFF(19),e.nI1(20,"translate"),e.j41(21,"span",9),e.EFF(22,"*"),e.k0s()(),e.j41(23,"div",10)(24,"ion-item")(25,"ion-input",11),e.nI1(26,"translate"),e.bIt("ionChange",function(r){return a.changeTaxCode(r)}),e.k0s()()()(),e.j41(27,"div",8)(28,"label"),e.EFF(29),e.nI1(30,"translate"),e.j41(31,"span",9),e.EFF(32,"*"),e.k0s()(),e.j41(33,"div",10)(34,"ion-item")(35,"ion-input",11),e.nI1(36,"translate"),e.bIt("ionChange",function(r){return a.changeCompanyName(r)}),e.k0s()()()(),e.j41(37,"div",8)(38,"label"),e.EFF(39),e.nI1(40,"translate"),e.j41(41,"span",9),e.EFF(42,"*"),e.k0s()(),e.j41(43,"div",10)(44,"ion-item")(45,"ion-input",11),e.nI1(46,"translate"),e.bIt("ionChange",function(r){return a.changeAddress(r)}),e.k0s()()()(),e.j41(47,"div",8)(48,"label"),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.j41(51,"div",10)(52,"ion-item")(53,"ion-input",11),e.nI1(54,"translate"),e.bIt("ionChange",function(r){return a.changeBuyerEmail(r)}),e.k0s()()()(),e.j41(55,"div",8)(56,"label"),e.EFF(57),e.nI1(58,"translate"),e.k0s(),e.j41(59,"div",10)(60,"ion-item")(61,"ion-input",11),e.nI1(62,"translate"),e.bIt("ionChange",function(r){return a.changeBuyerPhone(r)}),e.k0s()()()(),e.j41(63,"div",8)(64,"div",12)(65,"ion-item")(66,"ion-checkbox",13),e.bIt("ionChange",function(r){return a.changeIsDefault(r)}),e.j41(67,"small")(68,"b"),e.EFF(69),e.nI1(70,"translate"),e.k0s()()()()()()()()(),e.j41(71,"ion-footer")(72,"div",14)(73,"ion-button",15),e.bIt("click",function(r){return a.submit(r)}),e.EFF(74),e.nI1(75,"translate"),e.k0s()()()),2&l&&(e.R7$(6),e.JRh(e.bMT(7,20,"CustomerInvoice")),e.R7$(8),e.JRh(e.bMT(15,22,"CustomerInvoiceDescription")),e.R7$(5),e.SpI("",e.bMT(20,24,"BillCompanyTax")," "),e.R7$(6),e.FS9("placeholder",e.bMT(26,26,"BillCompanyTax")),e.Y8G("value",a.customerInvoice.TaxCode),e.R7$(4),e.SpI("",e.bMT(30,28,"BillCompanyName")," "),e.R7$(6),e.FS9("placeholder",e.bMT(36,30,"BillCompanyName")),e.Y8G("value",a.customerInvoice.CompanyName),e.R7$(4),e.SpI("",e.bMT(40,32,"BillCompanyAddress")," "),e.R7$(6),e.FS9("placeholder",e.bMT(46,34,"BillCompanyAddress")),e.Y8G("value",a.customerInvoice.Address),e.R7$(4),e.JRh(e.bMT(50,36,"Email")),e.R7$(4),e.FS9("placeholder",e.bMT(54,38,"Email")),e.Y8G("value",a.customerInvoice.BuyerEmail),e.R7$(4),e.JRh(e.bMT(58,40,"Mobile")),e.R7$(4),e.FS9("placeholder",e.bMT(62,42,"Mobile")),e.Y8G("value",a.customerInvoice.BuyerPhone),e.R7$(5),e.Y8G("checked",!!a.customerInvoice.IsDefault),e.R7$(3),e.JRh(e.bMT(70,44,"CustomerInvoiceDefault")),e.R7$(5),e.JRh(e.bMT(75,46,"Save")))},dependencies:[c.Jm,c.QW,c.eY,c.W9,c.M0,c.eU,c.iq,c.$w,c.uz,c.nf,c.To,c.Ki,c.BC,c.ai,c.hB,c.Gw,p.D9],styles:["ion-list[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}ion-list[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:.25rem;border:2px solid var(--ion-color-primary)}.card-info[_ngcontent-%COMP%]{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}"]}),i})()}}]);