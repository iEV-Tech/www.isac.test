"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4687],{4687:(B,P,o)=>{o.r(P),o.d(P,{RequestServiceDetailPageModule:()=>$});var E=o(177),M=o(9417),a=o(9465),h=o(7625),m=o(467),y=o(7762),f=o(5312),C=o(3801),D=o(5454),q=o(6539),v=o(8517),S=o(8650),x=o(3588),j=o(8833),e=o(4438),k=o(4842);function I(i,u){if(1&i){const s=e.RV6();e.j41(0,"ion-button",42),e.bIt("click",function(){e.eBV(s);const r=e.XpG(2);return e.Njj(r.cancelService())}),e.j41(1,"ion-label"),e.EFF(2,"H\u1ee7y d\u1ecbch v\u1ee5"),e.k0s()()}}function A(i,u){if(1&i){const s=e.RV6();e.j41(0,"ion-content")(1,"ion-refresher",3),e.bIt("ionRefresh",function(r){e.eBV(s);const t=e.XpG();return e.Njj(t.onIonRefresher(r))}),e.nrm(2,"ion-refresher-content"),e.k0s(),e.j41(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"h4",8)(8,"span"),e.EFF(9),e.k0s()(),e.j41(10,"div",9)(11,"small"),e.EFF(12),e.k0s()(),e.nrm(13,"hr",10),e.j41(14,"div",11)(15,"span",12)(16,"small"),e.EFF(17),e.nI1(18,"translate"),e.j41(19,"b"),e.EFF(20),e.k0s()()(),e.j41(21,"span",13)(22,"small"),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"b"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()()(),e.nrm(28,"div",14),e.k0s()()(),e.j41(29,"div",15)(30,"div",16)(31,"div",17)(32,"div",18)(33,"div",19),e.nrm(34,"div",20),e.k0s()()(),e.j41(35,"div",21)(36,"div",22)(37,"div",23)(38,"div",24)(39,"div",25)(40,"ion-chip",26),e.nrm(41,"ion-icon",27),e.j41(42,"ion-label"),e.EFF(43),e.k0s()()()()(),e.j41(44,"div",28)(45,"div",29)(46,"div",30)(47,"div"),e.nrm(48,"ion-img",31),e.k0s(),e.j41(49,"div",32)(50,"div",33),e.EFF(51),e.nI1(52,"translate"),e.k0s(),e.j41(53,"div")(54,"strong"),e.EFF(55),e.k0s(),e.j41(56,"small"),e.EFF(57),e.k0s()()()()(),e.j41(58,"div",34)(59,"h6",35)(60,"b"),e.EFF(61,"Th\u1eddi gian th\u1ef1c hi\u1ec7n (d\u1ef1 ki\u1ebfn)"),e.k0s()(),e.nrm(62,"hr",36),e.j41(63,"div")(64,"b",37),e.EFF(65),e.k0s()()()()()()()(),e.j41(66,"div",38)(67,"div",6)(68,"div",17)(69,"div",39)(70,"h6",35)(71,"b"),e.EFF(72,"G\u1eedi y\xeau c\u1ea7u b\u1edfi"),e.k0s()(),e.nrm(73,"hr",36),e.j41(74,"div")(75,"b",37),e.EFF(76),e.k0s()()()(),e.j41(77,"div",17)(78,"div",39)(79,"h6",35)(80,"b"),e.EFF(81,"Nh\xe2n vi\xean ti\u1ebfp nh\u1eadn d\u1ecbch v\u1ee5"),e.k0s()(),e.nrm(82,"hr",36),e.j41(83,"div")(84,"b",37),e.EFF(85,"Middle Kien"),e.k0s()()()()()()(),e.j41(86,"ion-footer",40)(87,"div",41),e.DNE(88,I,3,0),e.k0s()()}if(2&i){let s,n,r;const t=e.XpG();e.R7$(9),e.JRh(null==t.requestService?null:t.requestService.ServiceName),e.R7$(3),e.JRh(null==t.requestService?null:t.requestService.RequestAddress),e.R7$(5),e.SpI("",e.bMT(18,18,"YourWay")," "),e.R7$(3),e.SpI("",t.getDistance2CL()," km"),e.R7$(3),e.SpI("",e.bMT(24,20,"EstimatedTime")," "),e.R7$(3),e.Lme("",t.getTime2CL()," ",e.bMT(27,22,"Minute"),""),e.R7$(10),e.HbH("border-"+t.APP_FUNC_GetColor_VRequestStatus(null==t.requestService?null:t.requestService.VRequestStatus)),e.R7$(4),e.Y8G("color",t.APP_FUNC_GetColor_VRequestStatus(null==t.requestService?null:t.requestService.VRequestStatus)),e.R7$(3),e.JRh(null==t.requestService?null:t.requestService.VRequestStatusName),e.R7$(8),e.JRh(e.bMT(52,24,"ChargingPackage")),e.R7$(4),e.SpI("",t.APP_FUNC_FormatMoney(null!==(s=null==t.requestService?null:t.requestService.PayValue)&&void 0!==s?s:0),"\u0111"),e.R7$(2),e.Lme(" /",null==t.requestService?null:t.requestService.PowerValue,"",null!==(n=null==t.requestService?null:t.requestService.Unit)&&void 0!==n?n:"kWh",""),e.R7$(8),e.JRh(t.APP_FUNC_FormatDate(null==t.requestService?null:t.requestService.RequestDate)),e.R7$(11),e.JRh(null==t.requestService?null:t.requestService.CustomerFullname),e.R7$(12),e.vxM(88,(r=null==t.requestService?null:t.requestService.VRequestStatus)===t.v_request_status.YeuCauDichVu?88:-1)}}const O=[{path:"",component:(()=>{var i;class u{constructor(n,r,t,l,c,g){var p;this.router=n,this.activatedRoute=r,this.modalController=t,this.animationController=l,this.toastController=c,this.loadingController=g,this.APP_ROUTE=j._,this.APP_FUNC_FormatDate=v.Rv,this.APP_FUNC_FormatMoney=v.xi,this.APP_FUNC_GetColor_VRequestStatus=v.rZ,this.v_request_status=x.Gz,this.currentPosition=f.c.app_default.geolocation.pos,this.chargingPos=f.c.app_default.geolocation.pos;let d=null!==(p=r.snapshot.params.id)&&void 0!==p?p:"";d&&(this.RequestServiceId=parseFloat(d))}ngOnInit(){var n=this;(0,m.A)(function*(){(yield(0,q.kU)())&&n.refreshData(()=>{n.refreshCurrentPosition(()=>{n.initMap()})})})()}onIonRefresher(n){this.refreshData(()=>{n.target.complete()})}refreshData(n){var r=this;return(0,m.A)(function*(){(0,D.K5)({params:{RequestServiceId:r.RequestServiceId},callback:t=>{var l;r.response=t,null!=t&&t.Succeeded?r.requestService=null!==(l=t.Data)&&void 0!==l?l:{}:(0,S.cX)(r.toastController,{},t).then(c=>c.present()),n&&n()}})})()}initMap(){var n=this;const r=function(){var l=(0,m.A)(function*(){let c,g,d=window.google.maps;const{Map:V}=yield d.importLibrary("maps"),{AdvancedMarkerElement:F}=yield d.importLibrary("marker");let R=new V(document.getElementById("map"),{zoom:12,center:n.currentPosition,disableDefaultUI:!0,mapId:"DEMO_MAP_ID"});c=new F({map:R,position:n.currentPosition,title:"V\u1ecb tr\xed c\u1ee7a b\u1ea1n"}),g=new F({map:R,position:n.chargingPos,title:"V\u1ecb tr\xed nh\xe2n vi\xean iSAC"}),setTimeout(()=>{var G=d.DirectionsService(),b=d.DirectionsRenderer();b.setMap(R),G.route({origin:d.LatLng(n.currentPosition.lat,n.currentPosition.lng),destination:d.LatLng(n.chargingPos.lat,n.chargingPos.lng),travelMode:"DRIVING"},function(N,L){"OK"==L&&b.setDirections(N)})},1e3)});return function(){return l.apply(this,arguments)}}();window.initMap=r;let t=document.createElement("script");t.async=!0,t.src=`https://maps.google.com/maps/api/js?key=${f.c.apiKey}&loading=async&libraries=places,marker,routes&callback=initMap`,document.head.append(t)}refreshCurrentPosition(n){var r=this;return(0,m.A)(function*(){let t=()=>{(0,C.Xz)().then(l=>{r.currentPosition=l,n&&n()})};y.L.getCurrentPosition({enableHighAccuracy:!0}).then(function(){var l=(0,m.A)(function*(c){if(c.coords){var g={lat:c.coords.latitude,lng:c.coords.longitude};yield(0,C.fj)({params:g})}t()});return function(c){return l.apply(this,arguments)}}()).catch(()=>{t()})})()}navigateByUrl(n){this.router.navigateByUrl(n)}getDistance2CL(){return(0,v.Rw)((0,v.GH)(this.currentPosition,this.chargingPos),10)}getTime2CL(){return(0,v.Rw)(3*(0,v.GH)(this.currentPosition,this.chargingPos),1)}cancelService(){var n=this;return(0,m.A)(function*(){(0,S.Yy)(n.modalController,n.animationController,{selectedId:0,message:{TitleConfirm:"H\u1ee7y d\u1ecbch v\u1ee5",TextConfirm:"Confirm"},fnConfirm:r=>{}})})()}}return(i=u).\u0275fac=function(n){return new(n||i)(e.rXU(h.Ix),e.rXU(h.nX),e.rXU(a.W3),e.rXU(a.Hx),e.rXU(a.K_),e.rXU(a.Xi))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-request-service-detail"]],decls:8,vars:5,consts:[["color","primary"],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],[1,"bg-primary"],[1,"container","card-location","text-white","pb-2"],[1,"row"],[1,"col-auto"],[1,"d-flex","align-items-center","my-0"],[1,"d-flex","align-items-center","mt-1"],[1,"border-gray","mt-2","mb-1"],[1,"text-right","text-nowrap"],[1,"mr-4"],[1,"d-inline-block"],[1,"col","p-0"],[1,"container","pt-3"],[1,"row","align-items-stretch"],[1,"col-12","col-lg-6","mb-3"],[1,"embed-responsive","embed-responsive-16by9"],[1,"embed-responsive-item"],["id","map"],[1,"col-12","col-lg-6","mb-3","d-flex","flex-column"],[1,"flex-grow-1","card-day","d-flex","flex-column","rounded","bg-white","border","mt-3"],[1,"flex-grow-1"],[1,"d-flex","justify-content-center"],[1,"card-status"],[1,"no-opacity",3,"color"],["src","../../../assets/icon/tabs/service.svg"],[1,"p-2"],[1,"card-package","rounded","border","d-flex","align-items-stretch","p-2"],[1,"d-flex","align-items-center"],["src","../../../assets/icon/ion-img/charge-package.svg"],[1,"align-self-stretch","pl-2","d-flex","flex-column","justify-content-between"],[1,"text-muted","fs-3"],[1,"card-day","bg-white","p-2","mt-3"],[1,"m-0"],[1,"border-dashed","mt-2","mb-3"],[1,"text-medium"],[1,"container","mt-4","mb-3"],[1,"card-day","rounded","bg-white","p-3"],[1,"ion-padding-vertical"],[1,"container"],["color","danger","shape","round","expand","block",3,"click"]],template:function(n,r){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-back-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.DNE(7,A,89,26)),2&n&&(e.R7$(3),e.Y8G("defaultHref",r.APP_ROUTE.TABS_SERVICE),e.R7$(2),e.JRh(e.bMT(6,3,"Service")),e.R7$(2),e.vxM(7,r.response?7:-1))},dependencies:[a.Jm,a.QW,a.ZB,a.W9,a.M0,a.eU,a.iq,a.KW,a.he,a.To,a.Ki,a.BC,a.ai,a.el,k.D9],styles:[".card-location[_ngcontent-%COMP%]{position:relative;z-index:1;background-image:url(bg-charging-location.24bf138423cec5f5.svg);background-repeat:no-repeat;background-position:top center;background-size:auto 100%}.card-location.rounded[_ngcontent-%COMP%]{border-top-left-radius:1.5rem!important;border-top-right-radius:1.5rem!important}.card-location[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 5rem;--border-radius: .5rem;border:1px solid var(--ion-color-light)}.card-location[_ngcontent-%COMP%]   .icon-w24[_ngcontent-%COMP%]{display:inline-block;width:24px}.card-location[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}#map[_ngcontent-%COMP%]{width:100%;height:100%}.card-day.rounded[_ngcontent-%COMP%], .card-day.rounded[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-day[_ngcontent-%COMP%]   .card-status[_ngcontent-%COMP%]{margin-top:-1rem}.card-day[_ngcontent-%COMP%]   .card-package[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:3rem}"]}),u})()}];let T=(()=>{var i;class u{}return(i=u).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[h.iI.forChild(O),h.iI]}),u})();var U=o(3890);let $=(()=>{var i;class u{}return(i=u).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[E.MD,M.YN,a.bv,T,U.x]}),u})()}}]);