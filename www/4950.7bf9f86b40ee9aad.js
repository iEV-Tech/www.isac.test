"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4950],{1695:(I,b,g)=>{g.d(b,{O9:()=>M,b9:()=>T,cP:()=>C,fL:()=>r});var v=g(467),y=g(5972);const r=function(){var h=(0,v.A)(function*(e){e.params=e.params||{},(0,y.hm)({url:"api/Wallet/get-mywallet",success:i=>{"function"==typeof e.callback&&e.callback(i.data||null)},error:i=>{var d;"function"==typeof e.callback&&e.callback(null==i||null===(d=i.response)||void 0===d?void 0:d.data),console.error(i)},loading:e.loading,loadingController:e.loadingController})});return function(i){return h.apply(this,arguments)}}(),C=function(){var h=(0,v.A)(function*(e){var i,d,c;e.params=e.params||{},(0,y.Ll)({url:"api/Wallet/recharge-mywallet",params:{WalletRechargePackageId:null!==(i=e.params.WalletRechargePackageId)&&void 0!==i?i:null,PmCode:null!==(d=e.params.PmCode)&&void 0!==d?d:null,PlatformType:null!==(c=e.params.PlatformType)&&void 0!==c?c:null},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var R;"function"==typeof e.callback&&e.callback(null==t||null===(R=t.response)||void 0===R?void 0:R.data),console.error(t)},loading:e.loading,loadingController:e.loadingController})});return function(i){return h.apply(this,arguments)}}(),M=function(){var h=(0,v.A)(function*(e){var i,d;e.params=e.params||{},(0,y.hm)({url:"api/WalletIn/get-mywallet-in-history",params:{PageNumber:null!==(i=e.params.PageNumber)&&void 0!==i?i:1,PageSize:null!==(d=e.params.PageSize)&&void 0!==d?d:10},success:c=>{"function"==typeof e.callback&&e.callback(c.data||null)},error:c=>{var t;"function"==typeof e.callback&&e.callback(null==c||null===(t=c.response)||void 0===t?void 0:t.data),console.error(c)},loading:e.loading,loadingController:e.loadingController})});return function(i){return h.apply(this,arguments)}}(),T=function(){var h=(0,v.A)(function*(e){var i,d;e.params=e.params||{},(0,y.hm)({url:"api/WalletOut/get-mywallet-out-history",params:{PageNumber:null!==(i=e.params.PageNumber)&&void 0!==i?i:1,PageSize:null!==(d=e.params.PageSize)&&void 0!==d?d:10},success:c=>{"function"==typeof e.callback&&e.callback(c.data||null)},error:c=>{var t;"function"==typeof e.callback&&e.callback(null==c||null===(t=c.response)||void 0===t?void 0:t.data),console.error(c)},loading:e.loading,loadingController:e.loadingController})});return function(i){return h.apply(this,arguments)}}()},4950:(I,b,g)=>{g.r(b),g.d(b,{WalletHistoryPageModule:()=>w});var v=g(177),y=g(9417),r=g(9465),C=g(7625),M=g(467),T=g(5312),h=g(1695),e=g(6539),i=g(8517),d=g(8650),c=g(8833),t=g(4438),R=g(3656),F=g(4842);const H=a=>({$implicit:a});function E(a,u){if(1&a&&(t.qex(0),t.j41(1,"div",11),t.eu8(2,12),t.k0s(),t.bVm()),2&a){const o=u.$implicit;t.XpG(2);const l=t.sdS(28);t.R7$(2),t.Y8G("ngTemplateOutlet",l)("ngTemplateOutletContext",t.eq3(2,H,o))}}function j(a,u){if(1&a&&(t.j41(0,"div",7)(1,"div",9),t.DNE(2,E,3,4,"ng-container",10),t.k0s()()),2&a){const o=t.XpG();t.R7$(2),t.Y8G("ngForOf",o.wallets)}}function x(a,u){1&a&&(t.j41(0,"div",13),t.nrm(1,"img",14),t.j41(2,"div",15),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&a&&(t.R7$(3),t.JRh(t.bMT(4,1,"DataNotFound")))}function D(a,u){if(1&a){const o=t.RV6();t.j41(0,"ion-infinite-scroll",16),t.bIt("ionInfinite",function(n){t.eBV(o);const m=t.XpG();return t.Njj(m.onIonInfinite(n))}),t.nrm(1,"ion-infinite-scroll-content"),t.k0s()}}function k(a,u){if(1&a&&t.nrm(0,"img",22),2&a){const o=t.XpG(2).$implicit;t.Mz_("src","../../../assets/icon/payment/",o.KindOfCard,".jpeg",t.B4B)}}function $(a,u){1&a&&t.nrm(0,"img",23)}function G(a,u){if(1&a&&(t.j41(0,"b"),t.EFF(1,"N\u1ea1p ti\u1ec1n v\xe0o t\xe0i kho\u1ea3n"),t.k0s(),t.j41(2,"ion-chip")(3,"ion-label"),t.EFF(4),t.k0s(),t.j41(5,"ion-avatar"),t.DNE(6,k,1,2,"img",22)(7,$,1,0),t.k0s()()),2&a){let o;const l=t.XpG().$implicit,n=t.XpG();t.R7$(4),t.SpI("+",n.APP_FUNC_FormatMoney(null!==(o=l.WiAmount)&&void 0!==o?o:0),"\u0111"),t.R7$(2),t.vxM(6,l.Paymethod?6:7)}}function O(a,u){if(1&a&&(t.j41(0,"b"),t.EFF(1,"Thanh to\xe1n d\u1ecbch v\u1ee5"),t.k0s(),t.j41(2,"ion-label",24),t.EFF(3),t.k0s()),2&a){const o=t.XpG().$implicit,l=t.XpG();t.R7$(3),t.SpI("-",l.APP_FUNC_FormatMoney(o.WoAmount),"\u0111")}}function N(a,u){if(1&a&&(t.j41(0,"div",17)(1,"div",18),t.DNE(2,G,8,2)(3,O,4,1),t.k0s(),t.j41(4,"div",19)(5,"small",20),t.EFF(6),t.k0s(),t.j41(7,"small")(8,"b",21),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()()),2&a){const o=u.$implicit,l=t.XpG();t.R7$(2),t.vxM(2,o.WalletInId?2:o.WalletOutId?3:-1),t.R7$(4),t.JRh(l.APP_FUNC_FormatDate(o.CreatedDate)),t.R7$(3),t.JRh(t.bMT(10,3,"Completed"))}}const A=[{path:"",component:(()=>{var a;class u{constructor(l,n,m,_,p,W){this.router=l,this.platform=n,this.modalController=m,this.animationController=_,this.toastController=p,this.loadingController=W,this.APP_ROUTE=c._,this.APP_FUNC_FormatMoney=i.xi,this.APP_FUNC_FormatDate=i.Rv,this.readfile_url=T.c.readfile_url,this.paging={sortfield:null,sorttype:null,page:1,limit:10,loading:!1,active:!0},this.filter={},this.wallets=[]}ngOnInit(){(0,e.kU)().then(l=>{l&&this.refreshData()})}onIonRefresher(l){this.filter={},this.refreshData(()=>{l.target.complete()})}onIonInfinite(l){this.loadMore(()=>{l.target.complete()})}onIonSegmentChange(l){console.log(l),this.filter.type=l.detail.value,this.filterChange()}pushData(l){1==this.paging.page&&(this.wallets.length=0),this.wallets=this.wallets.concat(l)}refreshData(l){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData_Paging(l)}loadMore(l){this.paging.page+=1,this.loadData_Paging(l)}searchChange(l){this.filter.search=l.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}sortChange(l,n){this.paging.sortfield=l||null,this.paging.sorttype=n||null,this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}loadData_Paging(l){var n=this;return(0,M.A)(function*(){n.paging.loading=!0;let m=[],_=!1;Promise.all([new Promise((p,W)=>{n.filter.type&&1!=n.filter.type?p(null):(0,h.O9)({loadingController:n.loadingController,params:{PageNumber:n.paging.page,PageSize:n.paging.limit},callback:s=>{var f;n.response=s,null!=s&&s.Succeeded?m=m.concat(null!==(f=s.Data)&&void 0!==f?f:[]):(0,d.cX)(n.toastController,{},s).then(P=>P.present()),_=(null==s?void 0:s.HasNextPage)||!1,p(s)}})}),new Promise((p,W)=>{n.filter.type&&2!=n.filter.type?p(null):(0,h.b9)({loadingController:n.loadingController,params:{PageNumber:n.paging.page,PageSize:n.paging.limit},callback:s=>{var f;n.response=s,null!=s&&s.Succeeded?m=m.concat(null!==(f=s.Data)&&void 0!==f?f:[]):(0,d.cX)(n.toastController,{},s).then(P=>P.present()),_=(null==s?void 0:s.HasNextPage)||!1,p(s)}})})]).then(p=>{m=m.sort((W,s)=>{var f,P;return new Date(null!==(f=W.CreatedDate)&&void 0!==f?f:new Date).getTime()-new Date(null!==(P=s.CreatedDate)&&void 0!==P?P:new Date).getTime()}),n.pushData(m),n.paging.loading=!1,n.paging.active=!!_,l&&l()})})()}}return(a=u).\u0275fac=function(l){return new(l||a)(t.rXU(C.Ix),t.rXU(R.OD),t.rXU(r.W3),t.rXU(r.Hx),t.rXU(r.K_),t.rXU(r.Xi))},a.\u0275cmp=t.VBU({type:a,selectors:[["app-wallet-history"]],decls:29,vars:19,consts:[["templateWallet",""],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],[1,"container","px-0"],["mode","md",3,"ionChange","value"],[3,"value"],[1,"container","pt-3","pb-4"],[3,"ionInfinite",4,"ngIf"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-12","col-lg-6","mb-3"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"container","py-5","text-center"],["src","../../../assets/image/default/no-info.svg"],[1,"text-muted","mt-4"],[3,"ionInfinite"],[1,"card-order","cursor-pointer"],[1,"d-flex","align-items-start","justify-content-between"],[1,"d-flex","align-items-end","justify-content-between","mt-2"],[1,"text-muted"],[1,"text-success"],[3,"src"],["src","../../../assets/icon/ion-img/charge-package.svg"],[1,"fs-14"]],template:function(l,n){if(1&l){const m=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),t.nrm(3,"ion-back-button",2),t.k0s(),t.j41(4,"ion-title"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()(),t.j41(7,"ion-content")(8,"ion-refresher",3),t.bIt("ionRefresh",function(p){return t.eBV(m),t.Njj(n.onIonRefresher(p))}),t.nrm(9,"ion-refresher-content"),t.k0s(),t.j41(10,"div",4)(11,"ion-segment",5),t.bIt("ionChange",function(p){return t.eBV(m),t.Njj(n.onIonSegmentChange(p))}),t.j41(12,"ion-segment-button",6)(13,"ion-label"),t.EFF(14),t.nI1(15,"translate"),t.k0s()(),t.j41(16,"ion-segment-button",6)(17,"ion-label"),t.EFF(18),t.nI1(19,"translate"),t.k0s()(),t.j41(20,"ion-segment-button",6)(21,"ion-label"),t.EFF(22),t.nI1(23,"translate"),t.k0s()()()(),t.DNE(24,j,3,1,"div",7)(25,x,5,3)(26,D,2,0,"ion-infinite-scroll",8),t.k0s(),t.DNE(27,N,11,5,"ng-template",null,0,t.C5r)}if(2&l){let m;t.R7$(3),t.Y8G("defaultHref",n.APP_ROUTE.TABS_SERVICE),t.R7$(2),t.JRh(t.bMT(6,11,"TransactionHistory")),t.R7$(6),t.Y8G("value",null!==(m=n.filter.type)&&void 0!==m?m:0),t.R7$(),t.Y8G("value",0),t.R7$(2),t.JRh(t.bMT(15,13,"All")),t.R7$(2),t.Y8G("value",1),t.R7$(2),t.JRh(t.bMT(19,15,"TopUp")),t.R7$(2),t.Y8G("value",2),t.R7$(2),t.JRh(t.bMT(23,17,"Pay")),t.R7$(2),t.vxM(24,n.wallets.length?24:n.response?25:-1),t.R7$(2),t.Y8G("ngIf",n.paging.active)}},dependencies:[v.Sq,v.bT,v.T3,r.mC,r.QW,r.ZB,r.W9,r.eU,r.Ax,r.Hp,r.he,r.To,r.Ki,r.Gp,r.eP,r.BC,r.ai,r.Je,r.el,F.D9],styles:[".card-order[_ngcontent-%COMP%]{padding:1rem;border-radius:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast)}.card-order[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{min-height:1.25rem;padding-top:.25rem;padding-bottom:.25rem;background:transparent}.card-order[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;line-height:0;border:1px solid var(--ion-color-medium-tint)}"]}),u})()}];let U=(()=>{var a;class u{}return(a=u).\u0275fac=function(l){return new(l||a)},a.\u0275mod=t.$C({type:a}),a.\u0275inj=t.G2t({imports:[C.iI.forChild(A),C.iI]}),u})();var S=g(3890);let w=(()=>{var a;class u{}return(a=u).\u0275fac=function(l){return new(l||a)},a.\u0275mod=t.$C({type:a}),a.\u0275inj=t.G2t({imports:[v.MD,y.YN,r.bv,U,S.x]}),u})()}}]);