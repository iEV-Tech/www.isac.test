"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7476],{6043:(w,D,h)=>{h.d(D,{V:()=>y,j:()=>_});var k=h(467),F=h(5972);const _=function(){var R=(0,k.A)(function*(S){S.params=S.params||{},(0,F.hm)({url:`api/ChargingConnector/get-byqr/${S.params.QrCode}`,success:r=>{"function"==typeof S.callback&&S.callback(r.data||null)},error:r=>{var u;"function"==typeof S.callback&&S.callback(null==r||null===(u=r.response)||void 0===u?void 0:u.data),console.error(r)},loading:S.loading,loadingController:S.loadingController})});return function(r){return R.apply(this,arguments)}}(),y=function(){var R=(0,k.A)(function*(S){S.params=S.params||{},(0,F.hm)({url:`api/ChargingConnector/get-byid/${S.params.ChargeConnectorId}`,success:r=>{"function"==typeof S.callback&&S.callback(r.data||null)},error:r=>{var u;"function"==typeof S.callback&&S.callback(null==r||null===(u=r.response)||void 0===u?void 0:u.data),console.error(r)},loading:S.loading,loadingController:S.loadingController})});return function(r){return R.apply(this,arguments)}}()},2254:(w,D,h)=>{h.d(D,{C:()=>S,D1:()=>y,cZ:()=>_,kT:()=>R,vE:()=>r});var k=h(467),F=h(5972);const _=function(){var u=(0,k.A)(function*(n){var i,c,m,p,C;n.params=n.params||{},(0,F.Ll)({url:"api/Feedback/create",params:{FbCatgId:null!==(i=n.params.FbCatgId)&&void 0!==i?i:null,DocType:null!==(c=n.params.DocType)&&void 0!==c?c:null,DocId:null!==(m=n.params.DocId)&&void 0!==m?m:null,Title:null!==(p=n.params.Title)&&void 0!==p?p:null,Content:null!==(C=n.params.Content)&&void 0!==C?C:null},success:b=>{"function"==typeof n.callback&&n.callback(b.data||null)},error:b=>{var d;"function"==typeof n.callback&&n.callback(null==b||null===(d=b.response)||void 0===d?void 0:d.data),console.error(b)},loading:n.loading,loadingController:n.loadingController})});return function(i){return u.apply(this,arguments)}}(),y=function(){var u=(0,k.A)(function*(n){var i,c,m,p,C,b;n.params=n.params||{},(0,F.IH)({url:"api/Feedback/update",params:{FeedbackId:null!==(i=n.params.FeedbackId)&&void 0!==i?i:null,FbCatgId:null!==(c=n.params.FbCatgId)&&void 0!==c?c:null,DocType:null!==(m=n.params.DocType)&&void 0!==m?m:null,DocId:null!==(p=n.params.DocId)&&void 0!==p?p:null,Title:null!==(C=n.params.Title)&&void 0!==C?C:null,Content:null!==(b=n.params.Content)&&void 0!==b?b:null},success:d=>{"function"==typeof n.callback&&n.callback(d.data||null)},error:d=>{var g;"function"==typeof n.callback&&n.callback(null==d||null===(g=d.response)||void 0===g?void 0:g.data),console.error(d)},loading:n.loading,loadingController:n.loadingController})});return function(i){return u.apply(this,arguments)}}(),R=function(){var u=(0,k.A)(function*(n){var i,c;n.params=n.params||{},(0,F.hm)({url:"api/Feedback/get-feedbacks",params:{PageNumber:null!==(i=n.params.PageNumber)&&void 0!==i?i:1,PageSize:null!==(c=n.params.PageSize)&&void 0!==c?c:10},success:m=>{"function"==typeof n.callback&&n.callback(m.data||null)},error:m=>{var p;"function"==typeof n.callback&&n.callback(null==m||null===(p=m.response)||void 0===p?void 0:p.data),console.error(m)},loading:n.loading,loadingController:n.loadingController})});return function(i){return u.apply(this,arguments)}}(),S=function(){var u=(0,k.A)(function*(n){n.params=n.params||{},(0,F.hm)({url:`api/Feedback/get-byid/${n.params.FeedbackId}`,params:{},success:i=>{"function"==typeof n.callback&&n.callback(i.data||null)},error:i=>{var c;"function"==typeof n.callback&&n.callback(null==i||null===(c=i.response)||void 0===c?void 0:c.data),console.error(i)},loading:n.loading,loadingController:n.loadingController})});return function(i){return u.apply(this,arguments)}}(),r=function(){var u=(0,k.A)(function*(n){n.params=n.params||{},(0,F.sj)({url:`api/Feedback/delete/${n.params.FeedbackId}`,params:{},success:i=>{"function"==typeof n.callback&&n.callback(i.data||null)},error:i=>{var c;"function"==typeof n.callback&&n.callback(null==i||null===(c=i.response)||void 0===c?void 0:c.data),console.error(i)},loading:n.loading,loadingController:n.loadingController})});return function(i){return u.apply(this,arguments)}}()},5454:(w,D,h)=>{h.d(D,{K5:()=>S,NL:()=>u,X1:()=>_,fy:()=>R,nY:()=>y,r3:()=>r});var k=h(467),F=h(5972);const _=function(){var n=(0,k.A)(function*(i){var c,m,p,C,b,d,g,P,M,O,V,G,N,U,T,x,A,B;i.params=i.params||{},(0,F.Ll)({url:"api/RequestService/create",params:{ServiceId:null!==(c=i.params.ServiceId)&&void 0!==c?c:null,ChargePackageId:null!==(m=i.params.ChargePackageId)&&void 0!==m?m:null,RequestAddress:null!==(p=i.params.RequestAddress)&&void 0!==p?p:null,RequestLat:null!==(C=i.params.RequestLat)&&void 0!==C?C:null,RequestLong:null!==(b=i.params.RequestLong)&&void 0!==b?b:null,DestAddress:null!==(d=i.params.DestAddress)&&void 0!==d?d:null,DestLat:null!==(g=i.params.DestLat)&&void 0!==g?g:null,DestLong:null!==(P=i.params.DestLong)&&void 0!==P?P:null,Distance:null!==(M=i.params.Distance)&&void 0!==M?M:null,ExecutionDateAsString:null!==(O=i.params.ExecutionDateAsString)&&void 0!==O?O:null,ExecutionTimeAsString:null!==(V=i.params.ExecutionTimeAsString)&&void 0!==V?V:null,ExecutionTimeToAsString:null!==(G=i.params.ExecutionTimeToAsString)&&void 0!==G?G:null,Notes:null!==(N=i.params.Notes)&&void 0!==N?N:null,PromoteCode:null!==(U=i.params.PromoteCode)&&void 0!==U?U:null,IsVehicleVipCharging:null!==(T=i.params.IsVehicleVipCharging)&&void 0!==T?T:null,IsVehicleVipWallet:null!==(x=i.params.IsVehicleVipWallet)&&void 0!==x?x:null,WalletId:null!==(A=i.params.WalletId)&&void 0!==A?A:null,VehicleVipId:null!==(B=i.params.VehicleVipId)&&void 0!==B?B:null},success:j=>{"function"==typeof i.callback&&i.callback(j.data||null)},error:j=>{var X;"function"==typeof i.callback&&i.callback(null==j||null===(X=j.response)||void 0===X?void 0:X.data),console.error(j)},loading:i.loading,loadingController:i.loadingController})});return function(c){return n.apply(this,arguments)}}(),y=function(){var n=(0,k.A)(function*(i){var c,m;i.params=i.params||{},(0,F.Ll)({url:"api/RequestService/cancel",params:{RequestServiceId:null!==(c=i.params.RequestServiceId)&&void 0!==c?c:null,CancelReason:null!==(m=i.params.CancelReason)&&void 0!==m?m:null},success:p=>{"function"==typeof i.callback&&i.callback(p.data||null)},error:p=>{var C;"function"==typeof i.callback&&i.callback(null==p||null===(C=p.response)||void 0===C?void 0:C.data),console.error(p)},loading:i.loading,loadingController:i.loadingController})});return function(c){return n.apply(this,arguments)}}(),R=function(){var n=(0,k.A)(function*(i){var c,m,p,C;i.params=i.params||{},(0,F.hm)({url:"api/RequestService/get-myhistory",params:{VRequestStatus:null!==(c=i.params.VRequestStatus)&&void 0!==c?c:null,VRequestStatusMulti:null!==(m=i.params.VRequestStatusMulti)&&void 0!==m?m:null,PageNumber:null!==(p=i.params.PageNumber)&&void 0!==p?p:1,PageSize:null!==(C=i.params.PageSize)&&void 0!==C?C:10},success:b=>{"function"==typeof i.callback&&i.callback(b.data||null)},error:b=>{var d;"function"==typeof i.callback&&i.callback(null==b||null===(d=b.response)||void 0===d?void 0:d.data),console.error(b)},loading:i.loading,loadingController:i.loadingController})});return function(c){return n.apply(this,arguments)}}(),S=function(){var n=(0,k.A)(function*(i){i.params=i.params||{},(0,F.hm)({url:`api/RequestService/get-detail/${i.params.RequestServiceId}`,success:c=>{"function"==typeof i.callback&&i.callback(c.data||null)},error:c=>{var m;"function"==typeof i.callback&&i.callback(null==c||null===(m=c.response)||void 0===m?void 0:m.data),console.error(c)},loading:i.loading,loadingController:i.loadingController})});return function(c){return n.apply(this,arguments)}}(),r=function(){var n=(0,k.A)(function*(i){i.params=i.params||{},(0,F.hm)({url:`api/RequestService/get-mybycode/${i.params.RequestCode}`,success:c=>{"function"==typeof i.callback&&i.callback(c.data||null)},error:c=>{var m;"function"==typeof i.callback&&i.callback(null==c||null===(m=c.response)||void 0===m?void 0:m.data),console.error(c)},loading:i.loading,loadingController:i.loadingController})});return function(c){return n.apply(this,arguments)}}(),u=function(){var n=(0,k.A)(function*(i){i.params=i.params||{},(0,F.hm)({url:"api/RequestService/get-availabletime",success:c=>{"function"==typeof i.callback&&i.callback(c.data||null)},error:c=>{var m;"function"==typeof i.callback&&i.callback(null==c||null===(m=c.response)||void 0===m?void 0:m.data),console.error(c)},loading:i.loading,loadingController:i.loadingController})});return function(c){return n.apply(this,arguments)}}()},9051:(w,D,h)=>{h.d(D,{l:()=>m});var k=h(467),F=h(2254),_=h(5972);const y=function(){var p=(0,k.A)(function*(C){var b,d;C.params=C.params||{},(0,_.hm)({url:"api/FeedbackCatg/get-feedbackcatgs",params:{PageNumber:null!==(b=C.params.PageNumber)&&void 0!==b?b:1,PageSize:null!==(d=C.params.PageSize)&&void 0!==d?d:10},success:g=>{"function"==typeof C.callback&&C.callback(g.data||null)},error:g=>{var P;"function"==typeof C.callback&&C.callback(null==g||null===(P=g.response)||void 0===P?void 0:P.data),console.error(g)},loading:C.loading,loadingController:C.loadingController})});return function(b){return p.apply(this,arguments)}}();var S=h(8650),r=h(4438),u=h(791),n=h(177),i=h(4842);function c(p,C){if(1&p&&(r.qex(0),r.j41(1,"ion-select-option",15),r.EFF(2),r.k0s(),r.bVm()),2&p){const b=C.$implicit;r.R7$(),r.Y8G("value",b.FbCatgId),r.R7$(),r.JRh(b.FbCatgTitle)}}let m=(()=>{var p;class C{constructor(d,g,P){this.modalController=d,this.loadingController=g,this.toastController=P,this.feedback={},this.feedbackcatgs=[]}ngOnInit(){y({params:{},callback:d=>{var g;null!=d&&d.Succeeded?this.feedbackcatgs=null!==(g=d.Data)&&void 0!==g?g:[]:(0,S.cX)(this.toastController,{},d).then(P=>P.present())}}),this.FeedbackId&&(0,F.C)({loadingController:this.loadingController,params:{FeedbackId:this.FeedbackId},callback:d=>{var g;this.response=d,null!=d&&d.Succeeded?this.feedback=null!==(g=d.Data)&&void 0!==g?g:{}:(0,S.cX)(this.toastController,{},d).then(P=>P.present())}})}close(d){var g=this;return(0,k.A)(function*(){g.modalController.dismiss(null,"cancel")})()}submit(d){var g=this;return(0,k.A)(function*(){var P;g.feedback.Content&&(null!==(P=g.feedback)&&void 0!==P&&P.FeedbackId?(0,F.D1)({loadingController:g.loadingController,params:g.feedback,callback:M=>{g.response=M,null!=M&&M.Succeeded?g.modalController.dismiss(null,"success"):(0,S.cX)(g.toastController,{},M).then(O=>O.present())}}):(0,F.cZ)({loadingController:g.loadingController,params:g.feedback,callback:M=>{g.response=M,null!=M&&M.Succeeded?(g.modalController.dismiss(null,"success"),(0,S.cX)(g.toastController,{color:"success",message:"G\u1eedi ph\u1ea3n h\u1ed3i th\xe0nh c\xf4ng"}).then(O=>O.present())):(0,S.cX)(g.toastController,{},M).then(O=>O.present())}}))})()}changeTitle(d){var g=this;return(0,k.A)(function*(){g.feedback.Title=d.detail.value})()}changeContent(d){var g=this;return(0,k.A)(function*(){g.feedback.Content=d.detail.value})()}changeCatg(d){var g=this;return(0,k.A)(function*(){g.feedback.FbCatgId=d.detail.value})()}}return(p=C).\u0275fac=function(d){return new(d||p)(r.rXU(u.W3),r.rXU(u.Xi),r.rXU(u.K_))},p.\u0275cmp=r.VBU({type:p,selectors:[["app-modal-add-feedback"]],inputs:{FeedbackId:"FeedbackId",feedback:"feedback"},decls:44,vars:32,consts:[["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],[1,"container","d-flex","flex-column","h-100"],[1,"flex-grow-1"],["lines","none"],[1,"form-group"],[1,"ion-item-input"],["justify","space-between","interface","action-sheet",3,"ionChange","label","placeholder","value"],[4,"ngFor","ngForOf"],[3,"ionChange","placeholder","value"],[1,"text-danger"],["maxlength","250",3,"ionChange","autoGrow","placeholder","value"],[1,"mt-4","py-3"],["color","primary","shape","round","expand","block",3,"click"],[3,"value"]],template:function(d,g){1&d&&(r.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),r.bIt("click",function(M){return g.close(M)}),r.nrm(4,"ion-icon",2),r.k0s()(),r.j41(5,"ion-title"),r.EFF(6),r.nI1(7,"translate"),r.k0s()()(),r.j41(8,"ion-content")(9,"div",3)(10,"div",4)(11,"ion-list",5)(12,"div",6)(13,"label"),r.EFF(14),r.nI1(15,"translate"),r.k0s(),r.j41(16,"div",7)(17,"ion-item")(18,"ion-select",8),r.nI1(19,"translate"),r.nI1(20,"translate"),r.bIt("ionChange",function(M){return g.changeCatg(M)}),r.DNE(21,c,3,2,"ng-container",9),r.k0s()()()(),r.j41(22,"div",6)(23,"label"),r.EFF(24),r.nI1(25,"translate"),r.k0s(),r.j41(26,"div",7)(27,"ion-item")(28,"ion-input",10),r.nI1(29,"translate"),r.bIt("ionChange",function(M){return g.changeTitle(M)}),r.k0s()()()(),r.j41(30,"div",6)(31,"label"),r.EFF(32),r.nI1(33,"translate"),r.j41(34,"span",11),r.EFF(35,"*"),r.k0s()(),r.j41(36,"div",7)(37,"ion-item")(38,"ion-textarea",12),r.nI1(39,"translate"),r.bIt("ionChange",function(M){return g.changeContent(M)}),r.k0s()()()()()(),r.j41(40,"div",13)(41,"ion-button",14),r.bIt("click",function(M){return g.submit(M)}),r.EFF(42),r.nI1(43,"translate"),r.k0s()()()()),2&d&&(r.R7$(6),r.JRh(r.bMT(7,14,"SendFeedback")),r.R7$(8),r.JRh(r.bMT(15,16,"Category")),r.R7$(4),r.FS9("label",r.bMT(19,18,"FeedbackCatg")),r.FS9("placeholder",r.bMT(20,20,"Select")),r.Y8G("value",g.feedback.FbCatgId),r.R7$(3),r.Y8G("ngForOf",g.feedbackcatgs),r.R7$(3),r.JRh(r.bMT(25,22,"Title")),r.R7$(4),r.FS9("placeholder",r.bMT(29,24,"FeedbackTitle")),r.Y8G("value",g.feedback.Title),r.R7$(4),r.SpI("",r.bMT(33,26,"Content")," "),r.R7$(6),r.FS9("placeholder",r.bMT(39,28,"FeedbackContent")),r.Y8G("autoGrow",!0)("value",g.feedback.Content),r.R7$(4),r.JRh(r.bMT(43,30,"Send")))},dependencies:[n.Sq,u.Jm,u.QW,u.W9,u.eU,u.iq,u.$w,u.uz,u.nf,u.Nm,u.Ip,u.nc,u.BC,u.ai,u.Je,u.Gw,i.D9]}),C})()},5095:(w,D,h)=>{h.r(D),h.d(D,{ChargingSessionDetailPageModule:()=>mn});var k=h(177),F=h(9417),_=h(791),y=h(7625),R=h(467),S=h(6044),r=h(8517),u=h(8650),n=h(4438),i=h(4842);const c=()=>[1,2,3,4,5],m=()=>[];function p(l,v){if(1&l){const s=n.RV6();n.qex(0),n.j41(1,"div")(2,"ion-icon",20),n.bIt("click",function(e){const a=n.eBV(s).$implicit,o=n.XpG();return n.Njj(o.changeRateValue(e,a))}),n.k0s()(),n.bVm()}if(2&l){const s=v.$implicit,t=n.XpG();n.R7$(2),n.Y8G("color",t.chargingRate.RateValue&&t.chargingRate.RateValue>=s?"warning":"medium")}}function C(l,v){if(1&l){const s=n.RV6();n.qex(0),n.j41(1,"div",22)(2,"ion-thumbnail"),n.nrm(3,"img",23),n.k0s(),n.j41(4,"div",24)(5,"ion-icon",25),n.bIt("click",function(e){const a=n.eBV(s).$implicit,o=n.XpG(2);return n.Njj(o.removeImage(e,a.id))}),n.k0s()()(),n.bVm()}if(2&l){const s=v.$implicit;n.R7$(3),n.Y8G("src",s.src,n.B4B)}}function b(l,v){if(1&l&&(n.qex(0),n.j41(1,"div",21),n.DNE(2,C,6,1,"ng-container",5),n.k0s(),n.bVm()),2&l){let s;const t=n.XpG();n.R7$(2),n.Y8G("ngForOf",null!==(s=t.chargingRate.RateAttachs)&&void 0!==s?s:n.lJ4(1,m))}}let d=(()=>{var l;class v{constructor(t,e,a){this.modalController=t,this.loadingController=e,this.toastController=a,this.chargingRate={}}ngOnInit(){this.chargingRate.RateAttachs=this.chargingRate.RateAttach?JSON.parse(this.chargingRate.RateAttach):[]}close(t){var e=this;return(0,R.A)(function*(){e.modalController.dismiss(null,"cancel")})()}submit(t){var e=this;return(0,R.A)(function*(){e.chargingRate.RateValue&&(0,S.i5)({loadingController:e.loadingController,params:e.chargingRate,callback:a=>{e.response=a,null!=a&&a.Succeeded?e.modalController.dismiss(null,"success"):(0,u.cX)(e.toastController,{},a).then(o=>o.present())}})})()}changeRateValue(t,e){var a=this;return(0,R.A)(function*(){a.chargingRate.RateValue=e})()}changeRateComment(t,e){var a=this;return(0,R.A)(function*(){var o;a.chargingRate.RateComment=null!==(o=t.detail.value)&&void 0!==o?o:e})()}addImage(t){var e=this;return(0,R.A)(function*(){(0,r.oG)({accept:"image/*",multiple:!0},a=>{let o=0,f=I=>{if(I){var $=new FileReader;$.onload=()=>{var E;null===(E=e.chargingRate.RateAttachs)||void 0===E||E.push({id:Math.ceil(1e6*Math.random()),src:$.result}),f(a[o++])},$.onerror=()=>{f(a[o++])},$.readAsDataURL(I)}};f(a[o++])})})()}removeImage(t,e){var a=this;return(0,R.A)(function*(){var o,f;a.chargingRate.RateAttachs=null!==(o=null===(f=a.chargingRate.RateAttachs)||void 0===f?void 0:f.filter(I=>I.id!=e))&&void 0!==o?o:[],a.chargingRate.RateAttach=a.chargingRate.RateAttachs.length?JSON.stringify(a.chargingRate.RateAttachs):void 0})()}}return(l=v).\u0275fac=function(t){return new(t||l)(n.rXU(_.W3),n.rXU(_.Xi),n.rXU(_.K_))},l.\u0275cmp=n.VBU({type:l,selectors:[["app-modal-add-charging-rate"]],inputs:{chargingRate:"chargingRate"},decls:40,vars:26,consts:[[1,"container","text-center","my-4"],[1,"text-muted"],[1,"container","mb-3"],[1,"mb-4"],[1,"d-flex","align-items-center","justify-content-around","list-star"],[4,"ngFor","ngForOf"],["lines","none"],[1,"form-group","mb-3"],[1,"text-danger"],[1,"ion-item-input"],["maxlength","250",3,"ionChange","autoGrow","placeholder","value"],[1,"d-flex","justify-content-center"],["size","small","color","medium",3,"click"],["slot","start","src","../../../assets/icon/ion-icon/camera.svg"],[4,"ngIf"],[1,"row","mt-3"],[1,"col-6","pr-1"],["color","medium","expand","block","shape","round","fill","outline",3,"click"],[1,"col-6","pl-1"],["color","primary","expand","block","shape","round",3,"click"],["src","../../../assets/icon/ion-icon/star.svg",3,"click","color"],[1,"d-flex","flex-wrap","mt-4","list-image"],[1,"position-relative","mr-3","mb-2"],[3,"src"],[1,"position-absolute","top-0","right-0","line-height-0","remove-image"],["name","close-circle-outline","color","danger",3,"click"]],template:function(t,e){1&t&&(n.j41(0,"div",0)(1,"h4"),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"small",1),n.EFF(5),n.nI1(6,"translate"),n.k0s()(),n.j41(7,"div",2)(8,"div",3)(9,"div",4),n.DNE(10,p,3,1,"ng-container",5),n.k0s()(),n.j41(11,"ion-list",6)(12,"div",7)(13,"label"),n.EFF(14),n.nI1(15,"translate"),n.j41(16,"span",8),n.EFF(17,"*"),n.k0s()(),n.j41(18,"div",9)(19,"ion-item")(20,"ion-textarea",10),n.nI1(21,"translate"),n.bIt("ionChange",function(o){return e.changeRateComment(o)}),n.k0s()()()(),n.j41(22,"div",11)(23,"ion-button",12),n.bIt("click",function(o){return e.addImage(o)}),n.nrm(24,"ion-icon",13),n.j41(25,"ion-label"),n.EFF(26),n.nI1(27,"translate"),n.k0s()()(),n.DNE(28,b,3,2,"ng-container",14),n.j41(29,"div",15)(30,"div",16)(31,"ion-button",17),n.bIt("click",function(o){return e.close(o)}),n.j41(32,"ion-label"),n.EFF(33),n.nI1(34,"translate"),n.k0s()()(),n.j41(35,"div",18)(36,"ion-button",19),n.bIt("click",function(o){return e.submit(o)}),n.j41(37,"ion-label"),n.EFF(38),n.nI1(39,"translate"),n.k0s()()()()()()),2&t&&(n.R7$(2),n.JRh(n.bMT(3,11,"Rating")),n.R7$(3),n.JRh(n.bMT(6,13,"YourExperienceWithApp")),n.R7$(5),n.Y8G("ngForOf",n.lJ4(25,c)),n.R7$(4),n.SpI("",n.bMT(15,15,"WriteReview")," "),n.R7$(6),n.FS9("placeholder",n.bMT(21,17,"EnterYourComment")),n.Y8G("autoGrow",!0)("value",e.chargingRate.RateComment),n.R7$(6),n.JRh(n.bMT(27,19,"UploadImage")),n.R7$(2),n.Y8G("ngIf",null==e.chargingRate.RateAttachs?null:e.chargingRate.RateAttachs.length),n.R7$(5),n.JRh(n.bMT(34,21,"Cancel")),n.R7$(5),n.JRh(n.bMT(39,23,"Send")))},dependencies:[k.Sq,k.bT,_.Jm,_.iq,_.uz,_.he,_.nf,_.nc,_.Zx,_.Gw,i.D9],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}.list-star[_ngcontent-%COMP%]{max-width:280px;margin:auto}.list-star[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:3rem}.list-image[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 5rem;border:1px solid var(--ion-color-light);--border-radius: .5rem;overflow:hidden}.list-image[_ngcontent-%COMP%]   .remove-image[_ngcontent-%COMP%]{margin-top:-.5rem;margin-right:-.5rem;border-radius:50%;line-height:0;background-color:#fff;cursor:pointer}.list-image[_ngcontent-%COMP%]   .remove-image[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}"]}),v})();var g=h(9051),P=h(6116),M=h(6043),O=h(6944),V=h(9061),G=h(5454),N=h(6539),U=h(2313),T=h(3588),x=h(8833);const A=l=>({$implicit:l});function B(l,v){1&l&&(n.j41(0,"div",9),n.nrm(1,"img",10),n.j41(2,"div",11),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&l&&(n.R7$(3),n.JRh(n.bMT(4,1,"DataNotFound")))}function j(l,v){1&l&&(n.j41(0,"div",6)(1,"div",12),n.nrm(2,"ion-spinner",13),n.j41(3,"div",14)(4,"ion-chip",15),n.EFF(5),n.nI1(6,"translate"),n.k0s()()()()),2&l&&(n.R7$(5),n.JRh(n.bMT(6,1,"WaitingForConnectChargingConnector")))}function X(l,v){if(1&l&&(n.j41(0,"div",50)(1,"h6",54)(2,"b"),n.EFF(3),n.nI1(4,"translate"),n.k0s()(),n.nrm(5,"hr",55),n.j41(6,"div")(7,"b",59),n.EFF(8),n.k0s()()()),2&l){const s=n.XpG(2);n.R7$(3),n.JRh(n.bMT(4,2,"EstimateChargeTime")),n.R7$(5),n.JRh(null==s.monitor?null:s.monitor.EstimateChargeTime)}}function q(l,v){1&l&&(n.j41(0,"div",51)(1,"h6",60)(2,"b"),n.EFF(3),n.nI1(4,"translate"),n.k0s()()()),2&l&&(n.R7$(3),n.JRh(n.bMT(4,1,"OfflineCharging")))}function Y(l,v){if(1&l&&(n.j41(0,"div",61)(1,"table",62)(2,"tr")(3,"td"),n.EFF(4,"D\u1ecbch v\u1ee5"),n.k0s(),n.j41(5,"td")(6,"b",63),n.EFF(7),n.k0s()()(),n.j41(8,"tr")(9,"td"),n.EFF(10,"Ng\u01b0\u1eddi y\xeau c\u1ea7u"),n.k0s(),n.j41(11,"td")(12,"b"),n.EFF(13),n.k0s()()(),n.j41(14,"tr")(15,"td"),n.EFF(16,"Nh\xe2n vi\xean th\u1ef1c hi\u1ec7n"),n.k0s(),n.j41(17,"td")(18,"b"),n.EFF(19),n.k0s()()(),n.j41(20,"tr")(21,"td"),n.EFF(22,"Xe d\u1ecbch v\u1ee5"),n.k0s(),n.j41(23,"td")(24,"b"),n.EFF(25),n.k0s()()()()()),2&l){const s=n.XpG(3);n.R7$(7),n.JRh(s.chargingSession.ServiceName),n.R7$(6),n.JRh(s.chargingSession.CustomerFullName),n.R7$(6),n.JRh(s.chargingSession.StaffFullName),n.R7$(6),n.JRh(s.chargingSession.VehicleNumber)}}function W(l,v){if(1&l&&(n.j41(0,"div",52)(1,"div",53)(2,"h6",54)(3,"b"),n.EFF(4),n.nI1(5,"translate"),n.k0s()(),n.nrm(6,"hr",55),n.DNE(7,Y,26,4,"div",61),n.k0s()()),2&l){const s=n.XpG(2);n.R7$(4),n.JRh(n.bMT(5,2,"ServiceDetail")),n.R7$(3),n.vxM(7,s.chargingSession?7:-1)}}function z(l,v){if(1&l&&(n.j41(0,"h5",64),n.nrm(1,"ion-icon",65),n.j41(2,"span",66),n.EFF(3),n.nI1(4,"translate"),n.k0s()(),n.j41(5,"div",57)(6,"div",67),n.eu8(7,68),n.k0s(),n.j41(8,"div",69),n.eu8(9,68),n.k0s()()),2&l){const s=n.XpG(2),t=n.sdS(20),e=n.sdS(22);n.R7$(3),n.JRh(null!=s.chargingStation&&s.chargingStation.IsMobileStation?n.bMT(4,5,"MobileStation"):null==s.chargingLocation?null:s.chargingLocation.LocName),n.R7$(4),n.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",n.eq3(7,A,s.chargingStation)),n.R7$(2),n.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",n.eq3(9,A,s.chargingConnector))}}function K(l,v){if(1&l&&(n.j41(0,"div",70)(1,"div",71)(2,"h6",54)(3,"b"),n.EFF(4),n.nI1(5,"translate"),n.k0s()(),n.nrm(6,"hr",55),n.j41(7,"div")(8,"b",59),n.EFF(9),n.k0s()()()()),2&l){let s;const t=n.XpG(2);n.R7$(4),n.JRh(n.bMT(5,2,"ChargingStartTime")),n.R7$(5),n.JRh(t.APP_FUNC_FormatDate(null!==(s=null==t.monitor?null:t.monitor.StartTime)&&void 0!==s?s:t.chargingSession.ChargingStart))}}function H(l,v){if(1&l&&(n.j41(0,"div",70)(1,"div",71)(2,"h6",54)(3,"b"),n.EFF(4),n.nI1(5,"translate"),n.k0s()(),n.nrm(6,"hr",55),n.j41(7,"div")(8,"b",59),n.EFF(9),n.k0s()()()()),2&l){let s;const t=n.XpG(2);n.R7$(4),n.JRh(n.bMT(5,2,"ChargingEndTime")),n.R7$(5),n.JRh(t.APP_FUNC_FormatDate(null!==(s=null==t.monitor?null:t.monitor.StopTime)&&void 0!==s?s:t.chargingSession.ChargingEnd))}}function Z(l,v){if(1&l&&(n.j41(0,"div",7)(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19)(5,"div",20)(6,"div",21)(7,"ion-chip",22),n.nrm(8,"ion-icon",23),n.j41(9,"ion-label"),n.EFF(10),n.k0s()()()(),n.j41(11,"div",24)(12,"div",25)(13,"div",26),n.EFF(14),n.nI1(15,"translate"),n.k0s(),n.j41(16,"div")(17,"span",27),n.nrm(18,"span",28),n.k0s(),n.j41(19,"span",29),n.nrm(20,"span",28),n.k0s(),n.j41(21,"div",30)(22,"div",31)(23,"div",32),n.nrm(24,"ion-icon",33)(25,"br"),n.j41(26,"ion-text",34),n.EFF(27),n.k0s()()()()(),n.j41(28,"div",35)(29,"div",26),n.EFF(30),n.nI1(31,"translate"),n.k0s(),n.j41(32,"div",36),n.EFF(33),n.k0s()()(),n.j41(34,"div",37)(35,"div",38)(36,"div",26),n.EFF(37),n.nI1(38,"translate"),n.k0s(),n.j41(39,"div",39)(40,"ion-chip",40),n.nrm(41,"ion-icon",41),n.k0s(),n.j41(42,"span")(43,"b"),n.EFF(44),n.k0s(),n.EFF(45," %"),n.k0s()()(),n.nrm(46,"hr",42),n.j41(47,"div",38)(48,"div",26),n.EFF(49),n.nI1(50,"translate"),n.k0s(),n.j41(51,"div",39)(52,"ion-chip",40),n.nrm(53,"ion-icon",43),n.k0s(),n.j41(54,"span")(55,"b"),n.EFF(56),n.k0s(),n.EFF(57),n.nI1(58,"translate"),n.k0s()()()()()(),n.j41(59,"div",44)(60,"div",45)(61,"div",46)(62,"div"),n.nrm(63,"ion-img",47),n.k0s(),n.j41(64,"div",48)(65,"div",26),n.EFF(66),n.nI1(67,"translate"),n.k0s(),n.j41(68,"div")(69,"strong"),n.EFF(70),n.k0s(),n.j41(71,"small"),n.EFF(72),n.k0s()()()(),n.j41(73,"div",49)(74,"div",26),n.EFF(75),n.nI1(76,"translate"),n.k0s(),n.j41(77,"div")(78,"strong"),n.EFF(79),n.k0s(),n.j41(80,"small"),n.EFF(81),n.k0s()()()()()(),n.DNE(82,X,9,4,"div",50)(83,q,5,3,"div",51),n.k0s(),n.DNE(84,W,8,4,"div",52),n.j41(85,"div",52)(86,"div",53)(87,"h6",54)(88,"b"),n.EFF(89),n.nI1(90,"translate"),n.k0s()(),n.nrm(91,"hr",55),n.DNE(92,z,10,11),n.k0s()(),n.j41(93,"div",56)(94,"div",57),n.DNE(95,K,10,4,"div",58)(96,H,10,4,"div",58),n.k0s()()()()),2&l){let s,t,e,a;const o=n.XpG();n.R7$(3),n.HbH("border-"+o.APP_FUNC_GetColor_VSessionStatus(o.chargingSession.VSessionStatus)),n.R7$(4),n.Y8G("color",o.APP_FUNC_GetColor_VSessionStatus(o.chargingSession.VSessionStatus)),n.R7$(3),n.JRh(o.chargingSession.VSessionStatusName),n.R7$(4),n.SpI("% ",n.bMT(15,37,"VehicleBattery"),""),n.R7$(2),n.STu("mx-auto mt-2 progress progress-",o.APP_FUNC_GetColor_VSessionStatus(o.chargingSession.VSessionStatus)," progress-",o.getBatteryLevel(),""),n.R7$(8),n.Y8G("color",o.APP_FUNC_GetColor_VSessionStatus(o.chargingSession.VSessionStatus)),n.R7$(2),n.Y8G("color",o.APP_FUNC_GetColor_VSessionStatus(o.chargingSession.VSessionStatus)),n.R7$(),n.SpI("",o.getBatteryPercent(),"%"),n.R7$(3),n.JRh(n.bMT(31,39,"ElectricUsed")),n.R7$(3),n.Lme("",o.getMeter(),"",null!==(s=o.chargingSession.Unit)&&void 0!==s?s:"kWh",""),n.R7$(4),n.JRh(n.bMT(38,41,"ChargedPowerOnPackage")),n.R7$(3),n.Y8G("color",o.APP_FUNC_GetColor_VSessionStatus(o.chargingSession.VSessionStatus)),n.R7$(4),n.JRh(o.getMeterPercent()),n.R7$(5),n.JRh(n.bMT(50,43,"ChargedTime")),n.R7$(3),n.Y8G("color",o.APP_FUNC_GetColor_VSessionStatus(o.chargingSession.VSessionStatus)),n.R7$(4),n.JRh(o.getTimeCharging()),n.R7$(),n.SpI(" ",n.bMT(58,45,"Minute"),""),n.R7$(9),n.JRh(n.bMT(67,47,"ChargingPackage")),n.R7$(4),n.SpI("",o.APP_FUNC_FormatMoney(null!==(t=null!==(t=null==o.orderInfo?null:o.orderInfo.PayValue)&&void 0!==t?t:o.chargingSession.PayValue)&&void 0!==t?t:0),"\u0111"),n.R7$(2),n.Lme(" /",o.chargingSession.MaxElectricUsed,"",null!==(e=o.chargingSession.Unit)&&void 0!==e?e:"kWh",""),n.R7$(3),n.JRh(n.bMT(76,49,"Used")),n.R7$(4),n.SpI("",o.APP_FUNC_FormatMoney(o.getMoney()),"\u0111"),n.R7$(2),n.Lme(" /",o.getMeter(),"",null!==(a=o.chargingSession.Unit)&&void 0!==a?a:"kWh",""),n.R7$(),n.vxM(82,o.chargingSession.VSessionStatus==o.v_session_status.DangSac&&null!=o.monitor&&o.monitor.EstimateChargeTime?82:-1),n.R7$(),n.vxM(83,o.chargingSession.IsChargeOnline?-1:83),n.R7$(),n.vxM(84,o.chargingSession.StaffUserId?84:-1),n.R7$(5),n.JRh(n.bMT(90,51,"ChargingStation")),n.R7$(3),n.vxM(92,o.chargingConnector?92:-1),n.R7$(3),n.Y8G("ngIf",o.chargingSession.ChargingStart),n.R7$(),n.Y8G("ngIf",o.chargingSession.ChargingEnd)}}function Q(l,v){if(1&l){const s=n.RV6();n.j41(0,"ion-button",73),n.bIt("click",function(e){n.eBV(s);const a=n.XpG(2);return n.Njj(a.presentModalConfirm_ChargingSession_Stop(e))}),n.j41(1,"ion-label"),n.EFF(2),n.nI1(3,"translate"),n.k0s()()}2&l&&(n.R7$(2),n.JRh(n.bMT(3,1,"ChargingStop")))}function nn(l,v){if(1&l&&n.DNE(0,Q,4,3,"ion-button",72),2&l){const s=n.XpG();n.vxM(0,(null==s.chargingSession?null:s.chargingSession.VServiceType)==s.v_service_type.SacCongCong&&null!=s.chargingSession&&s.chargingSession.IsChargeOnline?0:-1)}}function en(l,v){if(1&l){const s=n.RV6();n.j41(0,"ion-button",76),n.bIt("click",function(e){n.eBV(s);const a=n.XpG(2);return n.Njj(a.createBill(e))}),n.j41(1,"ion-label"),n.EFF(2),n.nI1(3,"translate"),n.k0s()()}2&l&&(n.R7$(2),n.JRh(n.bMT(3,1,"ChargingComplete")))}function tn(l,v){if(1&l){const s=n.RV6();n.j41(0,"ion-button",74),n.bIt("click",function(e){n.eBV(s);const a=n.XpG();return n.Njj(a.presentModalAddChargingRate(e))}),n.j41(1,"ion-label"),n.EFF(2),n.nI1(3,"translate"),n.k0s()(),n.DNE(4,en,4,3,"ion-button",75)}if(2&l){const s=n.XpG();n.R7$(2),n.JRh(n.bMT(3,2,"Rate")),n.R7$(2),n.vxM(4,(null==s.chargingSession?null:s.chargingSession.VServiceType)==s.v_service_type.SacCongCong&&null!=s.chargingSession&&s.chargingSession.IsChargeOnline?4:-1)}}function an(l,v){if(1&l){const s=n.RV6();n.j41(0,"ion-button",76),n.bIt("click",function(e){n.eBV(s);const a=n.XpG(2);return n.Njj(a.openDetailOrderInfo(e))}),n.j41(1,"ion-label"),n.EFF(2),n.nI1(3,"translate"),n.k0s()()}2&l&&(n.R7$(2),n.JRh(n.bMT(3,1,"ViewOrder")))}function on(l,v){if(1&l){const s=n.RV6();n.j41(0,"ion-button",76),n.bIt("click",function(e){n.eBV(s);const a=n.XpG(2);return n.Njj(a.openDetailRequestService(e))}),n.j41(1,"ion-label"),n.EFF(2),n.nI1(3,"translate"),n.k0s()()}2&l&&(n.R7$(2),n.JRh(n.bMT(3,1,"ViewService")))}function rn(l,v){if(1&l){const s=n.RV6();n.j41(0,"ion-button",76),n.bIt("click",function(e){n.eBV(s);const a=n.XpG(2);return n.Njj(a.openDetailBillInfo(e))}),n.j41(1,"ion-label"),n.EFF(2),n.nI1(3,"translate"),n.k0s()()}2&l&&(n.R7$(2),n.JRh(n.bMT(3,1,"ViewBill")))}function ln(l,v){if(1&l){const s=n.RV6();n.j41(0,"ion-button",74),n.bIt("click",function(e){n.eBV(s);const a=n.XpG();return n.Njj(a.presentModalAddChargingRate(e))}),n.j41(1,"ion-label"),n.EFF(2),n.nI1(3,"translate"),n.k0s()(),n.DNE(4,an,4,3,"ion-button",75)(5,on,4,3)(6,rn,4,3)}if(2&l){const s=n.XpG();n.R7$(2),n.JRh(n.bMT(3,2,"Rate")),n.R7$(2),n.vxM(4,null!=s.orderInfo&&s.orderInfo.OrderId?4:null!=s.requestService&&s.requestService.RequestServiceId?5:null!=s.chargingSession&&s.chargingSession.BillId?6:-1)}}function sn(l,v){if(1&l){const s=n.RV6();n.j41(0,"ion-button",77),n.bIt("click",function(e){n.eBV(s);const a=n.XpG();return n.Njj(a.presentModalAddFeedback(e))}),n.j41(1,"ion-label"),n.EFF(2),n.nI1(3,"translate"),n.k0s()()}2&l&&(n.R7$(2),n.JRh(n.bMT(3,1,"SendFeedback")))}function cn(l,v){if(1&l&&(n.j41(0,"div",78)(1,"div",79),n.nrm(2,"img",80),n.k0s(),n.j41(3,"div",81)(4,"div")(5,"b"),n.EFF(6),n.nI1(7,"translate"),n.k0s()(),n.j41(8,"div"),n.EFF(9),n.k0s()()()),2&l){const s=v.$implicit,t=n.XpG();n.R7$(2),n.Y8G("src",t.APP_FUNC_GetLocImage(t.chargingLocation,"assets/image/default/ev-station.png"),n.B4B),n.R7$(4),n.Lme("",n.bMT(7,4,"ChargingStation")," ",null!=s&&s.IsAC?"AC":"DC",""),n.R7$(3),n.SpI("ID: ",null==s?null:s.StationCode,"")}}function gn(l,v){if(1&l&&(n.j41(0,"div",78)(1,"div",79),n.nrm(2,"img",82),n.k0s(),n.j41(3,"div",81)(4,"div")(5,"b"),n.EFF(6),n.nI1(7,"translate"),n.k0s()(),n.j41(8,"div"),n.EFF(9),n.k0s()()()),2&l){const s=v.$implicit,t=n.XpG();n.R7$(2),n.Y8G("src",t.getCoverConnector(s),n.B4B),n.R7$(4),n.Lme("",n.bMT(7,4,"Connector")," ",null==s?null:s.ConnectorType,""),n.R7$(3),n.SpI("ID: ",null==s?null:s.ConnectorId,"")}}const dn=[{path:"",component:(()=>{var l;class v{constructor(t,e,a,o,f,I){var $;this.router=t,this.activatedRoute=e,this.loadingController=a,this.toastController=o,this.modalController=f,this.animationController=I,this.APP_ROUTE=x._,this.APP_FUNC_FormatDate=r.Rv,this.APP_FUNC_DivDateTime=r.Wv,this.APP_FUNC_FormatMoney=r.xi,this.APP_FUNC_GetColor_VSessionStatus=r.kH,this.APP_FUNC_GetLocImage=r.Zn,this.v_session_status=T.jT,this.v_service_type=T.kA,this.VSessionStatus=0;let E=null!==($=e.snapshot.params.id)&&void 0!==$?$:"";E&&(this.ChargeSessionId=parseFloat(E))}ngOnInit(){var t=this;this.IsOnInit=!0,(0,R.A)(function*(){(yield(0,N.kU)())&&t.refreshData(()=>{var e,a;t.loadChargingConnector(),null!==(e=t.chargingSession)&&void 0!==e&&e.OrderCode?t.loadOrderDetail():null!==(a=t.chargingSession)&&void 0!==a&&a.RequestCode&&t.loadRequestDetail()})})()}ionViewDidEnter(){this.IsOnInit?this.IsOnInit=!1:this.ngOnInit()}ionViewDidLeave(){this.destroyTimeout()}onIonRefresher(t){this.refreshData(()=>{var e;this.loadChargingConnector(),null!==(e=this.chargingSession)&&void 0!==e&&e.OrderCode&&this.loadOrderDetail(),t.target.complete()})}refreshTimeoutSession(){clearTimeout(this.timeoutSession);let t=1e4;if(this.VSessionStatus==T.jT.KhoiTaoPhienSac)t=3e3;else if(this.VSessionStatus==T.jT.DangSac)t=11e3;else{if(this.VSessionStatus!=T.jT.DaSac)return;t=3e3}this.timeoutSession=setTimeout(()=>{[T.jT.KhoiTaoPhienSac,T.jT.DangSac,T.jT.DaSac].includes(this.VSessionStatus)&&this.refreshSession()},t)}refreshTimeoutMonitor(){clearTimeout(this.timeoutMonitor);let t=1e4;this.VSessionStatus==T.jT.DangSac&&(t=11e3*2.2,this.timeoutMonitor=setTimeout(()=>{[T.jT.DangSac].includes(this.VSessionStatus)&&this.refreshMonitor()},t))}destroyTimeout(){clearTimeout(this.timeoutSession),clearTimeout(this.timeoutMonitor)}refreshData(t){var e=this;return(0,R.A)(function*(){e.refreshSession(()=>{var a;null!==(a=e.chargingSession)&&void 0!==a&&a.IsChargeOnline&&e.VSessionStatus==T.jT.DangSac&&e.refreshMonitor(),t&&t()})})()}refreshSession(t){var e=this;return(0,R.A)(function*(){(0,O.cb)({params:{ChargeSessionId:e.ChargeSessionId},callback:a=>{var o,f,I;e.response=a,null!=a&&a.Succeeded?(e.chargingSession=a.Data,e.VSessionStatus=null!==(o=null===(f=e.chargingSession)||void 0===f?void 0:f.VSessionStatus)&&void 0!==o?o:0,[T.jT.DaSac,T.jT.HoanTat].includes(e.VSessionStatus)&&(e.monitor=void 0),null!==(I=e.chargingSession)&&void 0!==I&&I.IsChargeOnline&&e.refreshTimeoutSession()):(0,u.cX)(e.toastController,{duration:5e3},a).then($=>$.present()),t&&t()}})})()}refreshMonitor(){var t,e;(0,O.eu)({params:{StationCode:null===(t=this.chargingSession)||void 0===t?void 0:t.StationCode,ConnectorId:null===(e=this.chargingSession)||void 0===e?void 0:e.ConnectorId},callback:a=>{null!=a&&a.Succeeded?this.monitor=a.Data:(0,u.cX)(this.toastController,{},a).then(o=>o.present()),this.refreshTimeoutMonitor()}})}loadChargingConnector(){var t=this;return(0,R.A)(function*(){var e,a;null!==(e=t.chargingSession)&&void 0!==e&&e.ChargeConnectorId&&(0,M.V)({loadingController:t.loadingController,params:{ChargeConnectorId:null===(a=t.chargingSession)||void 0===a?void 0:a.ChargeConnectorId},callback:o=>{t.response=o,null!=o&&o.Succeeded?t.chargingConnector=o.Data:(0,u.cX)(t.toastController,{},o).then(f=>f.present())}})})()}loadOrderDetail(){var t=this;return(0,R.A)(function*(){var e,a;null!==(e=t.chargingSession)&&void 0!==e&&e.OrderCode&&(0,V.FS)({params:{OrderCode:null===(a=t.chargingSession)||void 0===a?void 0:a.OrderCode},callback:o=>{null!=o&&o.Succeeded?t.orderInfo=o.Data:(0,u.cX)(t.toastController,{},o).then(f=>f.present())}})})()}loadRequestDetail(){var t=this;return(0,R.A)(function*(){var e,a;null!==(e=t.chargingSession)&&void 0!==e&&e.RequestCode&&(0,G.r3)({params:{RequestCode:null===(a=t.chargingSession)||void 0===a?void 0:a.RequestCode},callback:o=>{null!=o&&o.Succeeded?t.requestService=o.Data:(0,u.cX)(t.toastController,{},o).then(f=>f.present())}})})()}get chargingLocation(){var t;return null===(t=this.chargingConnector)||void 0===t?void 0:t.ChargingLocation}get chargingStation(){var t;return null===(t=this.chargingConnector)||void 0===t?void 0:t.ChargingStation}getCoverConnector(t){var e;return`assets/image/connector/${null==t||null===(e=t.ConnectorType)||void 0===e?void 0:e.replace(/[^a-zA-Z0-9]/g,"-")}.png`}getTimeCharging(){var t,e,a,o,f,I,$,E,J,L;return(0,r.Wv)(null!==(t=null===(e=this.monitor)||void 0===e?void 0:e.StartTime)&&void 0!==t?t:null===(a=this.chargingSession)||void 0===a?void 0:a.ChargingStart,(null!==(o=null===(f=this.monitor)||void 0===f?void 0:f.StartTime)&&void 0!==o?o:null!==(I=this.chargingSession)&&void 0!==I&&I.ChargingStart)?null!==($=null!==(E=null===(J=this.monitor)||void 0===J?void 0:J.StopTime)&&void 0!==E?E:null===(L=this.chargingSession)||void 0===L?void 0:L.ChargingEnd)&&void 0!==$?$:new Date:null)}getBatteryLevel(){var t,e,a,o;return(0,r.Rw)(Math.floor((null!==(t=null!==(e=null===(a=this.monitor)||void 0===a?void 0:a.SoC)&&void 0!==e?e:null===(o=this.chargingSession)||void 0===o?void 0:o.BatteryPercent)&&void 0!==t?t:0)/10),100)}getBatteryPercent(){var t,e,a,o;return(0,r.Rw)(null!==(t=null!==(e=null===(a=this.monitor)||void 0===a?void 0:a.SoC)&&void 0!==e?e:null===(o=this.chargingSession)||void 0===o?void 0:o.BatteryPercent)&&void 0!==t?t:0,100)}getBatteryColor(){let t=this.getBatteryPercent();return t<=10?"danger":t<=30?"warning":"primary"}getMeter(){var t,e,a,o;return(0,r.Rw)(this.monitor?null!==(t=null===(e=this.monitor)||void 0===e?void 0:e.ChargeRateKW)&&void 0!==t?t:0:null!==(a=null===(o=this.chargingSession)||void 0===o?void 0:o.ElectricUsed)&&void 0!==a?a:0,100)}getMeterPercent(){var t,e,a;return(null!==(t=this.orderInfo)&&void 0!==t&&t.PayValue||null!==(e=this.chargingSession)&&void 0!==e&&e.PayValue)&&null!==(a=this.chargingSession)&&void 0!==a&&a.MaxElectricUsed?(0,r.Rw)(this.getMeter()/this.chargingSession.MaxElectricUsed*100,1):0}getMoney(){var t,e,a,o,f,I,$;return(null!==(t=this.orderInfo)&&void 0!==t&&t.PayValue||null!==(e=this.chargingSession)&&void 0!==e&&e.PayValue)&&null!==(a=this.chargingSession)&&void 0!==a&&a.MaxElectricUsed?(0,r.Rw)((null!==(o=null!==(f=null===(I=this.orderInfo)||void 0===I?void 0:I.PayValue)&&void 0!==f?f:null===($=this.chargingSession)||void 0===$?void 0:$.PayValue)&&void 0!==o?o:0)*this.getMeter()/this.chargingSession.MaxElectricUsed,1):0}chargingStart(t){var e=this;return(0,R.A)(function*(){(0,O.wm)({loadingController:e.loadingController,params:{ChargeSessionId:e.ChargeSessionId},callback:a=>{null!=a&&a.Succeeded?e.refreshData():(0,u.cX)(e.toastController,{duration:7e3},a).then(o=>o.present())}})})()}chargingStop(t){var e=this;return(0,R.A)(function*(){(0,O._$)({loadingController:e.loadingController,params:{ChargeSessionId:e.ChargeSessionId},callback:a=>{null!=a&&a.Succeeded?e.refreshData():(0,u.cX)(e.toastController,{duration:7e3},a).then(o=>o.present())}})})()}createBill(t){var e=this;return(0,R.A)(function*(){(0,P.MN)({params:{ChargeSessionId:e.ChargeSessionId},callback:a=>{null!=a&&a.Succeeded?e.refreshData(()=>{var o,f;e.router.navigateByUrl(x._.ORDER_INFO_DETAIL.replace(":id",null!==(o=null===(f=e.orderInfo)||void 0===f||null===(f=f.OrderId)||void 0===f?void 0:f.toString())&&void 0!==o?o:""))}):(0,u.cX)(e.toastController,{duration:7e3},a).then(o=>o.present())}})})()}openDetailOrderInfo(t){var e=this;return(0,R.A)(function*(){var a,o;e.router.navigateByUrl(x._.ORDER_INFO_DETAIL.replace(":id",null!==(a=null===(o=e.orderInfo)||void 0===o||null===(o=o.OrderId)||void 0===o?void 0:o.toString())&&void 0!==a?a:""))})()}openDetailRequestService(t){var e=this;return(0,R.A)(function*(){var a,o;e.router.navigateByUrl(x._.REQUEST_SERVICE_DETAIL.replace(":id",null!==(a=null===(o=e.requestService)||void 0===o||null===(o=o.RequestServiceId)||void 0===o?void 0:o.toString())&&void 0!==a?a:""))})()}openDetailBillInfo(t){var e=this;return(0,R.A)(function*(){var a,o;e.router.navigateByUrl(x._.BILL_INFO_DETAIL.replace(":id",null!==(a=null===(o=e.chargingSession)||void 0===o||null===(o=o.BillId)||void 0===o?void 0:o.toString())&&void 0!==a?a:""))})()}presentModalAddChargingRate(t){var e=this;return(0,R.A)(function*(){var a;(yield e.modalController.create({component:d,componentProps:{chargingRate:{ChargeSessionId:null===(a=e.chargingSession)||void 0===a?void 0:a.ChargeSessionId,RateValue:5}},cssClass:"ion-modal-auto ion-modal-bottom"})).present()})()}presentModalAddFeedback(t){var e=this;return(0,R.A)(function*(){var a;let o=yield e.modalController.create({component:g.l,componentProps:{feedback:{DocType:U.vK.CHARGING_SESSION,DocId:null===(a=e.chargingSession)||void 0===a?void 0:a.ChargeSessionId}},cssClass:"ion-modal-breakpoint",breakpoints:[0,.5,1],initialBreakpoint:1});o.onDidDismiss().then(f=>{"success"==f.role&&e.refreshData()}),o.present()})()}presentModalConfirm_ChargingSession_Stop(t){var e=this;return(0,R.A)(function*(){(0,u.Yy)(e.modalController,e.animationController,{selectedId:e.ChargeSessionId,message:{TitleConfirm:"AreYouSureYouWantToStopCharging",Img:"/assets/image/stop-changing.svg",TextConfirm:"ChargingStop",TextCancel:"Close"},fnConfirm:()=>{e.chargingStop()}})})()}}return(l=v).\u0275fac=function(t){return new(t||l)(n.rXU(y.Ix),n.rXU(y.nX),n.rXU(_.Xi),n.rXU(_.K_),n.rXU(_.W3),n.rXU(_.Hx))},l.\u0275cmp=n.VBU({type:l,selectors:[["app-charging-session-detail"]],decls:23,vars:8,consts:[["templateChargingStation",""],["templateChargingConnector",""],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],["class","container py-5 text-center",4,"ngIf"],[1,"container","text-center","line-height-0","mt-2","mb-3"],[1,"container","mt-3"],[1,"d-flex","container","py-3"],[1,"container","py-5","text-center"],["src","../../../assets/image/default/no-info.svg"],[1,"text-muted","mt-4"],[1,"card-day","rounded","bg-white","px-3","py-4"],["color","primary","name","crescent"],[1,"text-center","mt-4"],["color","primary"],[1,"row","align-items-stretch"],[1,"col-12","col-lg-6","mb-4","d-flex","flex-column"],[1,"flex-grow-1","card-day","d-flex","flex-column","rounded","bg-white","border"],[1,"flex-grow-1"],[1,"d-flex","justify-content-center"],[1,"card-status"],[1,"no-opacity",3,"color"],["src","../../../assets/icon/ion-icon/battery.svg"],[1,"d-flex","mt-3"],[1,"col-6","px-0","text-center"],[1,"text-muted","fs-3"],[1,"progress-left"],[1,"progress-bar"],[1,"progress-right"],[1,"progress-value"],[1,"d-flex","w-100","h-100","align-items-center","justify-content-center","text-center"],[1,"line-height-1"],["src","../../../assets/icon/ion-icon/battery-2.svg",3,"color"],[3,"color"],[1,"status-item","mt-3","mb-3"],[1,"font-weight-medium"],[1,"col-6","px-0"],[1,"status-item","mb-3"],[1,"mt-2"],[1,"ion-chip-icon",3,"color"],["src","../../../assets/icon/ion-icon/electric-2.svg"],[1,"my-3","mr-2"],["src","../../../assets/icon/ion-icon/time-2.svg"],[1,"p-2"],[1,"card-package","rounded","border","d-flex","align-items-stretch","p-2"],[1,"col-7","pl-0","d-flex","align-items-center","pr-2","border-right"],["src","../../../assets/icon/ion-img/charge-package.svg"],[1,"align-self-stretch","pl-2","d-flex","flex-column","justify-content-between"],[1,"col-5","pl-2","pr-0","flex-grow-1","d-flex","flex-column","justify-content-between"],[1,"card-day","rounded","bg-white","p-3","mt-3"],[1,"card-day","rounded","bg-white","p-3","mt-4"],[1,"col-12","col-lg-6","mb-4"],[1,"card-day","h-100","rounded","bg-white","p-3"],[1,"m-0"],[1,"border-dashed","mt-2","mb-3"],[1,"col-12","col-lg-6"],[1,"row"],["class","col-12 mb-4",4,"ngIf"],[1,"text-medium"],[1,"m-0","text-uppercase"],[1,"d-flex","align-items-start"],[1,"table","table-borderless","m-0"],[1,"text-primary"],[1,"mt-0","mb-3","text-primary","d-flex","align-items-center"],["src","../../../assets/icon/ion-icon/changing-station.svg"],[1,"ml-2"],[1,"col-6","pr-2"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"col-6","pl-2"],[1,"col-12","mb-4"],[1,"card-day","rounded","bg-white","p-3"],["color","danger","shape","round","expand","block",1,"flex-grow-1","m-1"],["color","danger","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],["color","medium","fill","outline","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],["color","primary","shape","round","expand","block",1,"flex-grow-1","m-1"],["color","primary","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],["color","medium","shape","round","fill","outline","expand","block",1,"flex-grow-1","m-1",3,"click"],[1,"rounded","border","p-2"],[1,"embed-responsive","embed-responsive-1by1"],["onError","this.src='assets/image/default/ev-station.png'",1,"embed-responsive-item","rounded",3,"src"],[1,"mt-2","text-center"],[1,"embed-responsive-item","rounded",3,"src"]],template:function(t,e){if(1&t){const a=n.RV6();n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",2),n.nrm(3,"ion-back-button",3),n.k0s(),n.j41(4,"ion-title"),n.EFF(5),n.nI1(6,"translate"),n.k0s()()(),n.j41(7,"ion-content")(8,"ion-refresher",4),n.bIt("ionRefresh",function(f){return n.eBV(a),n.Njj(e.onIonRefresher(f))}),n.nrm(9,"ion-refresher-content"),n.k0s(),n.DNE(10,B,5,3,"div",5)(11,j,7,3,"div",6)(12,Z,97,53,"div",7),n.k0s(),n.j41(13,"ion-footer")(14,"div",8),n.DNE(15,nn,1,1)(16,tn,5,4)(17,ln,7,4)(18,sn,4,3),n.k0s()(),n.DNE(19,cn,10,6,"ng-template",null,0,n.C5r)(21,gn,10,6,"ng-template",null,1,n.C5r)}if(2&t){let a;n.R7$(3),n.Y8G("defaultHref",e.APP_ROUTE.CHARGING_SESSION),n.R7$(2),n.JRh(n.bMT(6,6,"Charger")),n.R7$(5),n.Y8G("ngIf",e.response&&!e.chargingSession),n.R7$(),n.vxM(11,(null==e.chargingSession?null:e.chargingSession.VSessionStatus)==e.v_session_status.KhoiTaoPhienSac?11:-1),n.R7$(),n.vxM(12,e.chargingSession?12:-1),n.R7$(3),n.vxM(15,(a=null==e.chargingSession?null:e.chargingSession.VSessionStatus)===e.v_session_status.DangSac?15:a===e.v_session_status.DaSac?16:a===e.v_session_status.HoanTat?17:18)}},dependencies:[k.bT,k.T3,_.Jm,_.QW,_.ZB,_.W9,_.M0,_.eU,_.iq,_.KW,_.he,_.To,_.Ki,_.w2,_.IO,_.BC,_.ai,_.el,i.D9],styles:['.card-day.rounded[_ngcontent-%COMP%], .card-day.rounded[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-day[_ngcontent-%COMP%]   .card-status[_ngcontent-%COMP%]{margin-top:-1rem}.card-day[_ngcontent-%COMP%]   .card-package[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:3rem}.status-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:.5rem;vertical-align:middle;font-size:1.5rem}.status-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.ion-chip-icon[_ngcontent-%COMP%]{margin:0 .5rem 0 0;padding:.25rem}.ion-chip-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:0;font-size:1.5rem}ion-spinner[_ngcontent-%COMP%]{width:3rem;height:3rem}.progress[_ngcontent-%COMP%]{width:5rem;height:5rem;line-height:5rem;background:none;margin:0;box-shadow:none;position:relative}.progress[_ngcontent-%COMP%]:after{content:"";width:100%;height:100%;border-radius:50%;border:.3125rem solid var(--ion-color-medium-tint);position:absolute;top:0;left:0}.progress[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:50%;height:100%;overflow:hidden;position:absolute;top:0;z-index:1}.progress[_ngcontent-%COMP%]   .progress-left[_ngcontent-%COMP%]{left:0}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:100%;background:none;border-width:.4rem;border-style:solid;position:absolute;top:0}.progress[_ngcontent-%COMP%]   .progress-left[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{left:100%;border-top-right-radius:5rem;border-bottom-right-radius:5rem;border-left:0;transform-origin:center left}.progress[_ngcontent-%COMP%]   .progress-right[_ngcontent-%COMP%]{right:0}.progress[_ngcontent-%COMP%]   .progress-right[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{left:-100%;border-top-left-radius:5rem;border-bottom-left-radius:5rem;border-right:0;transform-origin:center right}.progress[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;font-size:1rem;text-align:center;position:absolute;top:0;left:0}.progress[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.progress-tertiary[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{border-color:var(--ion-color-tertiary)}.progress-success[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{border-color:var(--ion-color-success)}.progress-warning[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{border-color:var(--ion-color-warning)}.progress-danger[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{border-color:var(--ion-color-danger)}.progress-1[_ngcontent-%COMP%]   .progress-right[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-2 1.8s linear forwards}.progress-2[_ngcontent-%COMP%]   .progress-right[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-4 1.8s linear forwards}.progress-3[_ngcontent-%COMP%]   .progress-right[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-6 1.8s linear forwards}.progress-4[_ngcontent-%COMP%]   .progress-right[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-8 1.8s linear forwards}.progress-5[_ngcontent-%COMP%]   .progress-right[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%], .progress-6[_ngcontent-%COMP%]   .progress-right[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-10 1.8s linear forwards}.progress-6[_ngcontent-%COMP%]   .progress-left[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-2 1.5s linear forwards 1.8s}.progress-7[_ngcontent-%COMP%]   .progress-right[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-10 1.8s linear forwards}.progress-7[_ngcontent-%COMP%]   .progress-left[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-4 1.5s linear forwards 1.8s}.progress-8[_ngcontent-%COMP%]   .progress-right[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-10 1.8s linear forwards}.progress-8[_ngcontent-%COMP%]   .progress-left[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-6 1.5s linear forwards 1.8s}.progress-9[_ngcontent-%COMP%]   .progress-right[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-10 1.8s linear forwards}.progress-9[_ngcontent-%COMP%]   .progress-left[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-8 1.5s linear forwards 1.8s}.progress-10[_ngcontent-%COMP%]   .progress-right[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-10 1.8s linear forwards}.progress-10[_ngcontent-%COMP%]   .progress-left[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loading-10 1.5s linear forwards 1.8s}@keyframes _ngcontent-%COMP%_loading-1{0%{transform:rotate(0)}to{transform:rotate(18deg)}}@keyframes _ngcontent-%COMP%_loading-2{0%{transform:rotate(0)}to{transform:rotate(36deg)}}@keyframes _ngcontent-%COMP%_loading-3{0%{transform:rotate(0)}to{transform:rotate(54deg)}}@keyframes _ngcontent-%COMP%_loading-4{0%{transform:rotate(0)}to{transform:rotate(72deg)}}@keyframes _ngcontent-%COMP%_loading-5{0%{transform:rotate(0)}to{transform:rotate(90deg)}}@keyframes _ngcontent-%COMP%_loading-6{0%{transform:rotate(0)}to{transform:rotate(108deg)}}@keyframes _ngcontent-%COMP%_loading-7{0%{transform:rotate(0)}to{transform:rotate(126deg)}}@keyframes _ngcontent-%COMP%_loading-8{0%{transform:rotate(0)}to{transform:rotate(144deg)}}@keyframes _ngcontent-%COMP%_loading-9{0%{transform:rotate(0)}to{transform:rotate(162deg)}}@keyframes _ngcontent-%COMP%_loading-10{0%{transform:rotate(0)}to{transform:rotate(180deg)}}']}),v})()}];let un=(()=>{var l;class v{}return(l=v).\u0275fac=function(t){return new(t||l)},l.\u0275mod=n.$C({type:l}),l.\u0275inj=n.G2t({imports:[y.iI.forChild(dn),y.iI]}),v})();var hn=h(3890);let mn=(()=>{var l;class v{}return(l=v).\u0275fac=function(t){return new(t||l)},l.\u0275mod=n.$C({type:l}),l.\u0275inj=n.G2t({imports:[k.MD,F.YN,_.bv,un,hn.x]}),v})()}}]);