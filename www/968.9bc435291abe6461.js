"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[968],{968:(y,p,l)=>{l.r(p),l.d(p,{FeedbackPageModule:()=>T});var f=l(177),k=l(9417),r=l(9465),u=l(7625),g=l(467),v=l(9051),h=l(2254),F=l(6539),m=l(8650),b=l(8833),e=l(4438),P=l(4842);function C(a,d){1&a&&(e.j41(0,"div",10),e.nrm(1,"img",11),e.j41(2,"div",12),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"DataNotFound")))}function I(a,d){if(1&a){const s=e.RV6();e.qex(0),e.j41(1,"div",13)(2,"div",14)(3,"div",15)(4,"div")(5,"small",16),e.EFF(6),e.k0s()(),e.j41(7,"div",17)(8,"ion-button",18),e.bIt("click",function(n){const i=e.eBV(s).$implicit,o=e.XpG();return e.Njj(o.presentModalAddFeedback(n,i.FeedbackId))}),e.nrm(9,"ion-icon",19),e.k0s(),e.j41(10,"ion-button",20),e.bIt("click",function(n){const i=e.eBV(s).$implicit,o=e.XpG();return e.Njj(o.DeleteFeedback(n,i.FeedbackId))}),e.nrm(11,"ion-icon",21),e.k0s()()(),e.nrm(12,"hr"),e.j41(13,"div")(14,"b"),e.EFF(15),e.k0s(),e.j41(16,"div",22),e.EFF(17),e.k0s()()()(),e.bVm()}if(2&a){const s=d.$implicit;e.R7$(6),e.JRh(s.FbCatgTitle),e.R7$(9),e.JRh(s.Title),e.R7$(2),e.JRh(s.Content)}}function R(a,d){if(1&a){const s=e.RV6();e.j41(0,"ion-infinite-scroll",23),e.bIt("ionInfinite",function(n){e.eBV(s);const i=e.XpG();return e.Njj(i.onIonInfinite(n))}),e.nrm(1,"ion-infinite-scroll-content"),e.k0s()}}const _=[{path:"",component:(()=>{var a;class d{constructor(t,n,i,o,c){this.router=t,this.modalController=n,this.toastController=i,this.loadingController=o,this.animationController=c,this.APP_ROUTE=b._,this.paging={sortfield:null,sorttype:null,page:1,limit:10,loading:!1,active:!0},this.filter={},this.feedbacks=[]}ngOnInit(){var t=this;(0,g.A)(function*(){(yield(0,F.kU)())&&t.refreshData()})()}onIonRefresher(t){this.filter={},this.refreshData(()=>{t.target.complete()})}onIonInfinite(t){this.loadMore(()=>{t.target.complete()})}pushData(t){1==this.paging.page&&(this.feedbacks.length=0),this.feedbacks=this.feedbacks.concat(t)}refreshData(t){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData_Paging(t)}loadMore(t){this.paging.page+=1,this.loadData_Paging(t)}searchChange(t){this.filter.search=t.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}sortChange(t,n){this.paging.sortfield=t||null,this.paging.sorttype=n||null,this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}loadData_Paging(t){var n=this;return(0,g.A)(function*(){n.paging.loading=!0,(0,h.kT)({loadingController:n.loadingController,params:{PageNumber:n.paging.page,PageSize:n.paging.limit},callback:i=>{var o;n.response=i,null!=i&&i.Succeeded?n.pushData(null!==(o=i.Data)&&void 0!==o?o:[]):(0,m.cX)(n.toastController,{},i).then(c=>c.present()),n.paging.loading=!1,n.paging.active=!(null==i||!i.HasNextPage),t&&t()}})})()}presentModalAddFeedback(t,n){var i=this;return(0,g.A)(function*(){null==t||t.preventDefault();let o=yield i.modalController.create({component:v.l,componentProps:{FeedbackId:n}});o.onDidDismiss().then(c=>{"success"==c.role&&i.refreshData()}),o.present()})()}DeleteFeedback(t,n){var i=this;return(0,g.A)(function*(){null==t||t.preventDefault(),n&&(0,m.Yy)(i.modalController,i.animationController,{selectedId:n,message:{TitleConfirm:"Delete_Confirm",TextConfirm:"Delete"},fnConfirm:o=>{(0,h.vE)({loadingController:i.loadingController,params:{FeedbackId:o},callback:c=>{null!=c&&c.Succeeded?i.refreshData():(0,m.cX)(i.toastController,{},c).then(j=>j.present())}})}})})()}openDetail(t,n){var i=this;return(0,g.A)(function*(){var o,c;i.router.navigateByUrl(b._.FEEDBACK_DETAIL.replace(":id",null!==(o=null===(c=n.FeedbackId)||void 0===c?void 0:c.toString())&&void 0!==o?o:""))})()}}return(a=d).\u0275fac=function(t){return new(t||a)(e.rXU(u.Ix),e.rXU(r.W3),e.rXU(r.K_),e.rXU(r.Xi),e.rXU(r.Hx))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-feedback"]],decls:21,vars:10,consts:[["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],["class","container py-5 text-center",4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],[1,"container","py-3"],["mode","md","size","default","expand","full","shape","round",1,"ion-no-margin",3,"click"],["slot","start","name","add-outline"],[1,"container","py-5","text-center"],["src","../../../assets/image/default/no-info.svg"],[1,"text-muted","mt-4"],[1,"mb-3"],[1,"card-feedback","rounded","bg-white"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-primary"],[1,"text-nowrap"],["size","small","color","medium","fill","clear",3,"click"],["src","../../../assets/icon/ion-icon/edit.svg",1,"fs-4"],["size","small","color","danger","fill","clear",3,"click"],["name","close-outline",1,"fs-5"],[1,"mt-2"],[3,"ionInfinite"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-back-button",1),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-content")(8,"ion-refresher",2),e.bIt("ionRefresh",function(o){return n.onIonRefresher(o)}),e.nrm(9,"ion-refresher-content"),e.k0s(),e.DNE(10,C,5,3,"div",3),e.j41(11,"div",4),e.DNE(12,I,18,3,"ng-container",5),e.k0s(),e.DNE(13,R,2,0,"ion-infinite-scroll",6),e.k0s(),e.j41(14,"ion-footer")(15,"div",7)(16,"ion-button",8),e.bIt("click",function(o){return n.presentModalAddFeedback(o)}),e.nrm(17,"ion-icon",9),e.j41(18,"ion-label"),e.EFF(19),e.nI1(20,"translate"),e.k0s()()()()),2&t&&(e.R7$(3),e.Y8G("defaultHref",n.APP_ROUTE.TABS_USER),e.R7$(2),e.JRh(e.bMT(6,6,"Feedback")),e.R7$(5),e.Y8G("ngIf",n.response&&!n.feedbacks.length),e.R7$(2),e.Y8G("ngForOf",n.feedbacks),e.R7$(),e.Y8G("ngIf",n.paging.active),e.R7$(6),e.JRh(e.bMT(20,8,"NewFeedback")))},dependencies:[f.Sq,f.bT,r.Jm,r.QW,r.W9,r.M0,r.eU,r.iq,r.Ax,r.Hp,r.he,r.To,r.Ki,r.BC,r.ai,r.el,P.D9],styles:[".card-feedback[_ngcontent-%COMP%]{padding:1rem}.card-feedback.rounded[_ngcontent-%COMP%]{border-radius:1.5rem!important}.card-feedback[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important}.card-feedback[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2rem;height:2rem;min-width:2rem;min-height:2rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-radius: .5rem}"]}),d})()}];let D=(()=>{var a;class d{}return(a=d).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[u.iI.forChild(_),u.iI]}),d})();var M=l(3890);let T=(()=>{var a;class d{}return(a=d).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[f.MD,k.YN,r.bv,D,M.x]}),d})()}}]);