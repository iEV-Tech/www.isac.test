"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6411],{6411:(kn,y,s)=>{s.r(y),s.d(y,{AuthPageModule:()=>hn});var k=s(177),F=s(9417),p=s(7896),T=s(7625),u=s(467),M=s(7586),O=s.n(M),h=s(5972);const G=function(){var r=(0,u.A)(function*(i){i.params=i.params||{},(0,h.Ll)({authorization:!1,url:"api/Account/login-phonenumber-password",params:{PhoneNumber:i.params.PhoneNumber,Password:i.params.Password},success:a=>{"function"==typeof i.callback&&i.callback(a.data||null)},error:a=>{var o;"function"==typeof i.callback&&i.callback(null==a||null===(o=a.response)||void 0===o?void 0:o.data),console.error(a)},loading:i.loading})});return function(a){return r.apply(this,arguments)}}(),S=function(){var r=(0,u.A)(function*(i){i.params=i.params||{},(0,h.Ll)({authorization:!1,url:"api/Account/login-socialnetwork",params:{SocialType:i.params.SocialType,SocialToken:i.params.SocialToken,SocialUserId:i.params.SocialUserId,Email:i.params.Email,FullName:i.params.FullName},success:a=>{"function"==typeof i.callback&&i.callback(a.data||null)},error:a=>{var o;"function"==typeof i.callback&&i.callback(null==a||null===(o=a.response)||void 0===o?void 0:o.data),console.error(a)},loading:i.loading})});return function(a){return r.apply(this,arguments)}}(),w=function(){var r=(0,u.A)(function*(i){i.params=i.params||{},(0,h.Ll)({authorization:!1,url:"api/Account/verify-phonenumber-otpcode",params:{PhoneNumber:i.params.PhoneNumber,OtpCode:i.params.OtpCode},success:a=>{"function"==typeof i.callback&&i.callback(a.data||null)},error:a=>{var o;"function"==typeof i.callback&&i.callback(null==a||null===(o=a.response)||void 0===o?void 0:o.data),console.error(a)},loading:i.loading})});return function(a){return r.apply(this,arguments)}}(),$=function(){var r=(0,u.A)(function*(i){i.params=i.params||{},(0,h.Ll)({authorization:!1,url:"api/Account/register-phonenumber-otpcode?api-version=1.0",params:{PhoneNumber:i.params.PhoneNumber},success:a=>{"function"==typeof i.callback&&i.callback(a.data||null)},error:a=>{var o;"function"==typeof i.callback&&i.callback(null==a||null===(o=a.response)||void 0===o?void 0:o.data),console.error(a)},loading:i.loading})});return function(a){return r.apply(this,arguments)}}(),E=function(){var r=(0,u.A)(function*(i){i.params=i.params||{},(0,h.Ll)({authorization:!1,url:"api/Account/forgot-password-phonenumber",params:{PhoneNumber:i.params.PhoneNumber},success:a=>{"function"==typeof i.callback&&i.callback(a.data||null)},error:a=>{var o;"function"==typeof i.callback&&i.callback(null==a||null===(o=a.response)||void 0===o?void 0:o.data),console.error(a)},loading:i.loading})});return function(a){return r.apply(this,arguments)}}(),U=function(){var r=(0,u.A)(function*(i){i.params=i.params||{},(0,h.Ll)({authorization:!1,url:"api/Account/reset-password-phonenumber",params:{PhoneNumber:i.params.PhoneNumber,OtpCode:i.params.OtpCode,Password:i.params.Password,ConfirmPassword:i.params.ConfirmPassword},success:a=>{"function"==typeof i.callback&&i.callback(a.data||null)},error:a=>{var o;"function"==typeof i.callback&&i.callback(null==a||null===(o=a.response)||void 0===o?void 0:o.data),console.error(a)},loading:i.loading})});return function(a){return r.apply(this,arguments)}}();var R=s(23),B=s(6539),V=s(8517),m=s(8344),b=s(8833),I=s(5083);const N=(0,I.F3)("FacebookLogin",{web:()=>s.e(4096).then(s.bind(s,4096)).then(r=>new r.FacebookLoginWeb)}),j=(0,I.F3)("GoogleAuth",{web:()=>s.e(7620).then(s.bind(s,7620)).then(r=>new r.GoogleAuthWeb)}),X=function(){var r=(0,u.A)(function*(i){i.params=i.params||{},(0,h.hm)({api_url:`https://graph.facebook.com/me?fields=id,name,picture,email,gender,birthday&access_token=${i.params.AccessToken}`,headers:{},success:a=>{"function"==typeof i.callback&&i.callback(a.data||null)},error:a=>{var o;"function"==typeof i.callback&&i.callback(null==a||null===(o=a.response)||void 0===o?void 0:o.data),console.error(a)},loading:i.loading})});return function(a){return r.apply(this,arguments)}}();var D=s(5312),n=s(4438),x=s(5788),L=s(4842);const Y=["ngOtpInput"],J=["ngPinInput"],z=["ngSetPinInput"],W=["ngConfirmPinInput"],H=()=>["web","ios"],Q=()=>["web","android","ios"],A=r=>({length:r,allowNumbersOnly:!0});function K(r,i){if(1&r&&n.eu8(0,16),2&r){n.XpG();const a=n.sdS(14);n.Y8G("ngTemplateOutlet",a)}}function Z(r,i){if(1&r&&n.eu8(0,16),2&r){n.XpG();const a=n.sdS(16);n.Y8G("ngTemplateOutlet",a)}}function q(r,i){if(1&r&&n.eu8(0,16),2&r){n.XpG();const a=n.sdS(18);n.Y8G("ngTemplateOutlet",a)}}function nn(r,i){if(1&r&&n.eu8(0,16),2&r){n.XpG();const a=n.sdS(20);n.Y8G("ngTemplateOutlet",a)}}function tn(r,i){if(1&r&&n.eu8(0,16),2&r){n.XpG();const a=n.sdS(22);n.Y8G("ngTemplateOutlet",a)}}function en(r,i){if(1&r){const a=n.RV6();n.j41(0,"ion-button",46),n.bIt("click",function(){n.eBV(a);const t=n.XpG(3);return n.Njj(t.googleSignIn())}),n.nrm(1,"ion-icon",47),n.k0s()}}function on(r,i){if(1&r){const a=n.RV6();n.j41(0,"ion-button",48),n.bIt("click",function(){n.eBV(a);const t=n.XpG(3);return n.Njj(t.facebookSignIn())}),n.nrm(1,"ion-icon",49),n.k0s()}}function an(r,i){if(1&r&&(n.qex(0),n.j41(1,"div",38),n.nrm(2,"div",39),n.j41(3,"small",40),n.EFF(4,"Ho\u1eb7c \u0111\u0103ng nh\u1eadp v\u1edbi"),n.k0s(),n.nrm(5,"div",39),n.k0s(),n.j41(6,"div",41),n.nrm(7,"div",42),n.j41(8,"div",43),n.DNE(9,en,2,0,"ion-button",44)(10,on,2,0,"ion-button",45),n.k0s(),n.nrm(11,"div",42),n.k0s(),n.bVm()),2&r){const a=n.XpG(2);n.R7$(9),n.Y8G("ngIf",n.lJ4(2,H).includes(a.platform)),n.R7$(),n.Y8G("ngIf",n.lJ4(3,Q).includes(a.platform))}}function rn(r,i){if(1&r){const a=n.RV6();n.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),n.nrm(4,"ion-img",21),n.k0s(),n.j41(5,"h5",22)(6,"strong",23),n.EFF(7),n.nI1(8,"translate"),n.k0s()(),n.j41(9,"p",24),n.nrm(10,"small",25),n.nI1(11,"translate"),n.k0s(),n.j41(12,"div",26)(13,"div",27)(14,"b",28),n.EFF(15),n.nI1(16,"translate"),n.k0s()(),n.j41(17,"ion-item",29),n.nrm(18,"ion-icon",30),n.j41(19,"ion-input",31),n.nI1(20,"translate"),n.bIt("change",function(t){n.eBV(a);const e=n.XpG();return n.Njj(e.changeMobile(t))})("keyup",function(t){n.eBV(a);const e=n.XpG();return n.Njj(e.keyupMobile(t))}),n.k0s()()(),n.j41(21,"div",32)(22,"ion-button",33),n.bIt("click",function(t){n.eBV(a);const e=n.XpG();return n.Njj(e.submitMobile(t))}),n.j41(23,"ion-label"),n.EFF(24),n.nI1(25,"translate"),n.k0s()()(),n.DNE(26,an,12,4,"ng-container",34),n.k0s()(),n.j41(27,"div",35)(28,"span"),n.EFF(29),n.nI1(30,"translate"),n.k0s(),n.j41(31,"a",36),n.bIt("click",function(){n.eBV(a);const t=n.XpG();return n.Njj(t.navigateByUrl(t.APP_ROUTE.TERMS_OF_USE))}),n.EFF(32),n.nI1(33,"translate"),n.k0s(),n.j41(34,"span",37),n.EFF(35),n.nI1(36,"translate"),n.k0s(),n.j41(37,"a",36),n.bIt("click",function(){n.eBV(a);const t=n.XpG();return n.Njj(t.navigateByUrl(t.APP_ROUTE.POLICIES_AND_REGULATIONS))}),n.EFF(38),n.nI1(39,"translate"),n.k0s(),n.j41(40,"span"),n.EFF(41),n.nI1(42,"translate"),n.k0s()()()}if(2&r){const a=n.XpG();n.R7$(7),n.SpI("iSAC ",n.bMT(8,12,"Wellcome"),"!"),n.R7$(3),n.Y8G("innerHTML",n.bMT(11,14,"Auth_Suggest_Mobile"),n.npT),n.R7$(5),n.JRh(n.bMT(16,16,"Mobile")),n.R7$(4),n.FS9("placeholder",n.bMT(20,18,"EnterMobile")),n.Y8G("ngModel",a.dataForm.mobile),n.R7$(5),n.JRh(n.bMT(25,20,"Next")),n.R7$(2),n.Y8G("ngIf",a.isAppTest),n.R7$(3),n.SpI("",n.bMT(30,22,"ByLoginAgreeTo")," "),n.R7$(3),n.JRh(n.bMT(33,24,"TermsOfUse")),n.R7$(3),n.SpI(" ",n.bMT(36,26,"And")," "),n.R7$(3),n.JRh(n.bMT(39,28,"OperatingRegulations")),n.R7$(3),n.SpI(" ",n.bMT(42,30,"Our"),".")}}function ln(r,i){if(1&r&&(n.j41(0,"small",57),n.EFF(1),n.k0s()),2&r){const a=n.XpG(2);n.R7$(),n.SpI("(",a.getTimeCountdownSendOTP(),")")}}function cn(r,i){if(1&r){const a=n.RV6();n.j41(0,"div",50)(1,"div",20),n.nrm(2,"ion-img",51),n.k0s(),n.j41(3,"h5",22)(4,"strong",23),n.EFF(5),n.nI1(6,"translate"),n.k0s()(),n.j41(7,"p",24)(8,"small"),n.nrm(9,"span",25),n.nI1(10,"translate"),n.j41(11,"b"),n.EFF(12),n.k0s()()(),n.j41(13,"div",52)(14,"ng-otp-input",53,5),n.bIt("onInputChange",function(t){n.eBV(a);const e=n.XpG();return n.Njj(e.onOtpChange(t))}),n.k0s()(),n.j41(16,"div",54)(17,"span"),n.EFF(18),n.nI1(19,"translate"),n.k0s(),n.j41(20,"a",55),n.bIt("click",function(t){n.eBV(a);const e=n.XpG();return n.Njj(e.resendOTP(t))}),n.EFF(21),n.nI1(22,"translate"),n.k0s(),n.DNE(23,ln,2,1,"small",56),n.k0s()()}if(2&r){const a=n.XpG();n.R7$(5),n.JRh(n.bMT(6,7,"ConfirmOTP")),n.R7$(4),n.Y8G("innerHTML",n.bMT(10,9,"Auth_Suggest_OTP"),n.npT),n.R7$(3),n.SpI(" ",a.APP_FUNC_FormatMobileNumber(a.dataForm.mobile),""),n.R7$(2),n.Y8G("config",n.eq3(15,A,a.dataForm.otpLen)),n.R7$(4),n.SpI("",n.bMT(19,11,"DidNotReceiveCode")," "),n.R7$(3),n.JRh(n.bMT(22,13,"Resend")),n.R7$(2),n.Y8G("ngIf",a.timeoutSendOTP>0)}}function sn(r,i){if(1&r){const a=n.RV6();n.j41(0,"div",58)(1,"div",20),n.nrm(2,"ion-img",21),n.k0s(),n.j41(3,"h5",22)(4,"strong",23),n.EFF(5),n.nI1(6,"translate"),n.k0s()(),n.j41(7,"p",24)(8,"small"),n.nrm(9,"span",25),n.nI1(10,"translate"),n.j41(11,"b"),n.EFF(12),n.k0s()()(),n.j41(13,"div",52)(14,"ng-otp-input",53,6),n.bIt("onInputChange",function(t){n.eBV(a);const e=n.XpG();return n.Njj(e.onPinChange(t))}),n.k0s()(),n.j41(16,"div",54)(17,"a",59),n.bIt("click",function(t){n.eBV(a);const e=n.XpG();return n.Njj(e.forgotPIN(t))}),n.EFF(18),n.nI1(19,"translate"),n.k0s()()()}if(2&r){const a=n.XpG();n.R7$(5),n.JRh(n.bMT(6,5,"InputPIN")),n.R7$(4),n.Y8G("innerHTML",n.bMT(10,7,"Auth_Suggest_PIN"),n.npT),n.R7$(3),n.SpI(" ",a.APP_FUNC_FormatMobileNumber(a.dataForm.mobile),""),n.R7$(2),n.Y8G("config",n.eq3(11,A,a.dataForm.pinLen)),n.R7$(4),n.JRh(n.bMT(19,9,"ForgotPIN"))}}function un(r,i){if(1&r){const a=n.RV6();n.j41(0,"div",58)(1,"div",20),n.nrm(2,"ion-img",21),n.k0s(),n.j41(3,"h5",22)(4,"strong",23),n.EFF(5),n.nI1(6,"translate"),n.k0s()(),n.j41(7,"p",24)(8,"small"),n.EFF(9),n.nI1(10,"translate"),n.k0s()(),n.j41(11,"div",52)(12,"ng-otp-input",53,7),n.bIt("onInputChange",function(t){n.eBV(a);const e=n.XpG();return n.Njj(e.onSetPinChange(t))}),n.k0s()(),n.j41(14,"div",54)(15,"span"),n.EFF(16,"\xa0"),n.k0s()()()}if(2&r){const a=n.XpG();n.R7$(5),n.JRh(n.bMT(6,3,"InputPIN")),n.R7$(4),n.JRh(n.bMT(10,5,"Auth_Suggest_PIN_New")),n.R7$(3),n.Y8G("config",n.eq3(7,A,a.dataForm.pinLen))}}function pn(r,i){if(1&r){const a=n.RV6();n.j41(0,"div",58)(1,"div",20),n.nrm(2,"ion-img",21),n.k0s(),n.j41(3,"h5",22)(4,"strong",23),n.EFF(5),n.nI1(6,"translate"),n.k0s()(),n.j41(7,"p",24)(8,"small"),n.EFF(9),n.nI1(10,"translate"),n.k0s()(),n.j41(11,"div",52)(12,"ng-otp-input",53,8),n.bIt("onInputChange",function(t){n.eBV(a);const e=n.XpG();return n.Njj(e.onConfirmPinChange(t))}),n.k0s()(),n.j41(14,"div",54)(15,"a",60),n.bIt("click",function(t){n.eBV(a);const e=n.XpG();return n.Njj(e.backSetPIN(t))}),n.EFF(16),n.nI1(17,"translate"),n.k0s()()()}if(2&r){const a=n.XpG();n.R7$(5),n.JRh(n.bMT(6,4,"InputPIN")),n.R7$(4),n.JRh(n.bMT(10,6,"Auth_Suggest_PIN_Confirm")),n.R7$(3),n.Y8G("config",n.eq3(10,A,a.dataForm.pinLen)),n.R7$(4),n.JRh(n.bMT(17,8,"Back"))}}const dn=[{path:"",component:(()=>{var r;class i{constructor(o,t,e,l){this.router=o,this.loadingController=e,this.toastController=l,this.isAppTest=D.c.apptest,this.platform=I.Ii.getPlatform(),this.APP_ROUTE=b._,this.dataForm={inputType:"mobile",otpLen:6,pinLen:6},this.timeoutSendOTP=0,this.intervalCountdownSendOTP=null,this.APP_FUNC_FormatMobileNumber=V.IV,this.loadingController.create({message:""}).then(c=>this.loading=c),this.params={returnurl:t.snapshot.queryParamMap.get("returnurl")||void 0},(0,B.lJ)().then(c=>{c&&(this.params.returnurl?window.location.replace(this.params.returnurl):this.navigateByUrl(b._.TABS_DEFAULT))})}ngOnInit(){}close(o){var t=this;return(0,u.A)(function*(){t.navigateByUrl(b._.TABS_DEFAULT)})()}navigateByUrl(o){this.router.navigateByUrl(o,{replaceUrl:!0})}setInputType(o){var t=this;return(0,u.A)(function*(){t.dataForm.inputType=o})()}backSetPIN(o){var t=this;return(0,u.A)(function*(){var e,l;t.dataForm.pin=void 0,t.dataForm.pin2=void 0,null===(e=t.ngSetPinInputRef)||void 0===e||e.setValue(""),null===(l=t.ngConfirmPinInputRef)||void 0===l||l.setValue(""),t.setInputType("set-pin")})()}changeMobile(o){var t=this;return(0,u.A)(function*(){var e;t.dataForm.mobile=null===(e=o.target.value)||void 0===e?void 0:e.replace(/[^0-9\+]/g,"")})()}keyupMobile(o){var t=this;return(0,u.A)(function*(){13==o.keyCode&&t.submitMobile(o)})()}onOtpChange(o){var t=this;return(0,u.A)(function*(){var e;t.dataForm.otp=o,(null===(e=t.dataForm.otp)||void 0===e?void 0:e.length)==t.dataForm.otpLen&&t.checkOTP()})()}onPinChange(o){var t=this;return(0,u.A)(function*(){var e;t.dataForm.pin=o,(null===(e=t.dataForm.pin)||void 0===e?void 0:e.length)==t.dataForm.pinLen&&t.checkPIN()})()}onSetPinChange(o){var t=this;return(0,u.A)(function*(){var e;t.dataForm.pin=o,(null===(e=t.dataForm.pin)||void 0===e?void 0:e.length)==t.dataForm.pinLen&&t.setInputType("confirm-pin")})()}onConfirmPinChange(o){var t=this;return(0,u.A)(function*(){var e;if(t.dataForm.pin2=o,(null===(e=t.dataForm.pin2)||void 0===e?void 0:e.length)==t.dataForm.pinLen)if(t.dataForm.pin!=t.dataForm.pin2){var l;t.dataForm.pin2="",null===(l=t.ngConfirmPinInputRef)||void 0===l||l.setValue(""),(0,m.cX)(t.toastController,{color:"warning",message:"M\xe3 PIN kh\xf4ng tr\xf9ng kh\u1edbp, h\xe3y nh\u1eadp l\u1ea1i!"}).then(c=>c.present())}else t.setPIN()})()}resendOTP(o){var t=this;return(0,u.A)(function*(){var e;t.timeoutSendOTP>0||(null===(e=t.ngOtpInputRef)||void 0===e||e.setValue(""),t.submitMobile())})()}resetOTP(o){var t=this;return(0,u.A)(function*(){var e;null===(e=t.ngPinInputRef)||void 0===e||e.setValue("")})()}forgotPIN(o){var t=this;return(0,u.A)(function*(){E({loading:e=>{var l,c;e?null===(l=t.loading)||void 0===l||l.present():null===(c=t.loading)||void 0===c||c.dismiss()},params:{PhoneNumber:t.dataForm.mobile},callback:e=>{t.response=e,null!=e&&e.Succeeded?t.dataForm.inputType="otp":(0,m.cX)(t.toastController,{},e).then(l=>l.present())}})})()}submitMobile(o){var t=this;return(0,u.A)(function*(){t.dataForm.mobile&&t.dataForm.mobile.match(/^(\+84|0)([3|5|7|8|9])([0-9]{8,9})$/g)?$({loading:e=>{var l,c;e?null===(l=t.loading)||void 0===l||l.present():null===(c=t.loading)||void 0===c||c.dismiss()},params:{PhoneNumber:t.dataForm.mobile},callback:e=>{t.response=e,null!=e&&e.Succeeded?e.Data.PhoneNumberConfirmed?t.dataForm.inputType="pin":(t.dataForm.inputType="otp",t.setTimeCountdown()):(0,m.cX)(t.toastController,{},e).then(l=>l.present())}}):(0,m.cX)(t.toastController,{color:"warning",message:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\xfang!"}).then(e=>e.present())})()}checkOTP(){var o=this;return(0,u.A)(function*(){w({loading:t=>{var e,l;t?null===(e=o.loading)||void 0===e||e.present():null===(l=o.loading)||void 0===l||l.dismiss()},params:{PhoneNumber:o.dataForm.mobile,OtpCode:o.dataForm.otp},callback:t=>{var e;o.response=t,null!=t&&t.Succeeded?o.dataForm.inputType="set-pin":(null===(e=o.ngOtpInputRef)||void 0===e||e.setValue(""),(0,m.cX)(o.toastController,{},t).then(l=>l.present()))}})})()}checkPIN(){var o=this;return(0,u.A)(function*(){G({loading:t=>{var e,l;t?null===(e=o.loading)||void 0===e||e.present():null===(l=o.loading)||void 0===l||l.dismiss()},params:{PhoneNumber:o.dataForm.mobile,Password:o.dataForm.pin},callback:t=>{if(o.response=t,null!=t&&t.Succeeded){let{RefreshToken:l,JWToken:c,TokenExpiryDateValue:g,UserName:f,PhoneNumber:_}=t.Data;(0,R.Dj)({params:{AccessToken:c,RefreshToken:l,TokenExpiry:g,UserName:f,PhoneNumber:_},callback:d=>{null!=d&&d.AccessToken&&(o.params.returnurl?window.location.replace(o.params.returnurl):o.navigateByUrl(b._.TABS_DEFAULT))}})}else{var e;null===(e=o.ngPinInputRef)||void 0===e||e.setValue(""),(0,m.cX)(o.toastController,{},t).then(l=>l.present())}}})})()}setPIN(){var o=this;return(0,u.A)(function*(){U({loading:t=>{var e,l;t?null===(e=o.loading)||void 0===e||e.present():null===(l=o.loading)||void 0===l||l.dismiss()},params:{PhoneNumber:o.dataForm.mobile,OtpCode:o.dataForm.otp,Password:o.dataForm.pin,ConfirmPassword:o.dataForm.pin2},callback:t=>{var e,l;o.response=t,null!=t&&t.Succeeded?o.checkPIN():(null===(e=o.ngSetPinInputRef)||void 0===e||e.setValue(""),null===(l=o.ngConfirmPinInputRef)||void 0===l||l.setValue(""),(0,m.cX)(o.toastController,{},t).then(c=>c.present()))}})})()}setTimeCountdown(){if(this.timeoutSendOTP<=0){this.timeoutSendOTP=18e4,clearInterval(this.intervalCountdownSendOTP);let o=1e3;this.intervalCountdownSendOTP=setInterval(()=>{if(this.timeoutSendOTP<=o)return this.timeoutSendOTP=0,void clearInterval(this.intervalCountdownSendOTP);this.timeoutSendOTP-=o},o)}}getTimeCountdownSendOTP(){return O()(this.timeoutSendOTP).format("mm:ss")}facebookSignIn(){var o=this;return(0,u.A)(function*(){N.initialize({appId:"483352784080919"}).then(()=>{N.login({permissions:["public_profile"]}).then(t=>{var e,l;console.log("login-facebook",t),null!==(e=t.accessToken)&&void 0!==e&&e.token&&X({params:{AccessToken:null===(l=t.accessToken)||void 0===l?void 0:l.token},callback:c=>{var g,f,_;console.log(c),S({params:{SocialType:"FaceBook",SocialToken:null===(g=t.accessToken)||void 0===g?void 0:g.token,SocialUserId:null!==(f=null==c?void 0:c.id)&&void 0!==f?f:null===(_=t.accessToken)||void 0===_?void 0:_.userId,Email:null==c?void 0:c.email,FullName:null==c?void 0:c.name},callback:d=>{if(o.response=d,null!=d&&d.Succeeded){var P;let{RefreshToken:v,JWToken:fn,TokenExpiryDateValue:_n,UserName:vn,PhoneNumber:bn}=d.Data;(0,R.Dj)({params:{SocialType:"FaceBook",SocialToken:null===(P=t.accessToken)||void 0===P?void 0:P.token,AccessToken:fn,RefreshToken:v,TokenExpiry:_n,UserName:vn,PhoneNumber:bn},callback:C=>{null!=C&&C.AccessToken&&(o.params.returnurl?window.location.replace(o.params.returnurl):o.navigateByUrl(b._.TABS_DEFAULT))}})}else(0,m.cX)(o.toastController,{},d).then(v=>v.present())}})}})}).catch(t=>{console.log(t)})}).catch(t=>{console.log(t)})})()}googleSignIn(){var o=this;return(0,u.A)(function*(){j.initialize({clientId:{web:"205408273258-vf2ebughrfutlt5pm0eh9rbjg0g1iv76.apps.googleusercontent.com",ios:"205408273258-498pujpuan1bbjd86mp0sigq9mg96nci.apps.googleusercontent.com",android:"205408273258-9efl15iv20hpdk6savrdgu3sol7majke.apps.googleusercontent.com"}[o.platform],scopes:["profile","email"],grantOfflineAccess:!0}).then((0,u.A)(function*(){j.signIn().then(e=>{var l;console.log("login-google",e),null!=e&&null!==(l=e.authentication)&&void 0!==l&&l.accessToken&&S({params:{SocialType:"Google",SocialToken:e.authentication.accessToken,SocialUserId:null==e?void 0:e.id,Email:null==e?void 0:e.email,FullName:null==e?void 0:e.name},callback:c=>{if(o.response=c,null!=c&&c.Succeeded){let{RefreshToken:g,JWToken:f,TokenExpiryDateValue:_,UserName:d,PhoneNumber:P}=c.Data;(0,R.Dj)({params:{SocialType:"Google",SocialToken:e.authentication.accessToken,AccessToken:f,RefreshToken:g,TokenExpiry:_,UserName:d,PhoneNumber:P},callback:v=>{null!=v&&v.AccessToken&&(o.params.returnurl?window.location.replace(o.params.returnurl):o.navigateByUrl(b._.TABS_DEFAULT))}})}else(0,m.cX)(o.toastController,{},c).then(g=>g.present())}})}).catch(e=>{console.log(e)})})).catch(e=>{console.log(e)})})()}appleSignIn(){return(0,u.A)(function*(){})()}}return(r=i).\u0275fac=function(o){return new(o||r)(n.rXU(T.Ix),n.rXU(T.nX),n.rXU(p.Xi),n.rXU(p.K_))},r.\u0275cmp=n.VBU({type:r,selectors:[["app-auth"]],viewQuery:function(o,t){if(1&o&&(n.GBs(Y,5),n.GBs(J,5),n.GBs(z,5),n.GBs(W,5)),2&o){let e;n.mGM(e=n.lsd())&&(t.ngOtpInputRef=e.first),n.mGM(e=n.lsd())&&(t.ngPinInputRef=e.first),n.mGM(e=n.lsd())&&(t.ngSetPinInputRef=e.first),n.mGM(e=n.lsd())&&(t.ngConfirmPinInputRef=e.first)}},decls:23,vars:6,consts:[["inputMobile",""],["inputOTP",""],["inputPIN",""],["inputSetPIN",""],["inputConfirmPIN",""],["ngOtpInput",""],["ngPinInput",""],["ngSetPinInput",""],["ngConfirmPinInput",""],["slot","end"],[3,"click"],["name","close-outline"],["scroll-x","false","scroll-y","false"],[1,"w-100","h-100","d-flex","align-items-center"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],[3,"ngTemplateOutlet"],[1,"w-100","h-100","d-flex","flex-column"],[1,"flex-grow-1","d-flex","align-items-center"],[1,"container","container-mobile"],[1,"mb-4"],["src","../../../assets/image/logo-isac-infipower.png"],[1,"mb-3","text-center"],[1,"font-poppins"],[1,"mb-4","text-center"],[3,"innerHTML"],[1,"ion-item-input"],[1,"mb-1"],[1,"fs-3"],["lines","none"],["slot","start","color","primary","src","../../../assets/icon/ion-icon/call.svg"],["type","number","inputmode","decimal",3,"change","keyup","placeholder","ngModel"],[1,"mt-4"],["color","primary","expand","block","shape","round",3,"click"],[4,"ngIf"],[1,"container","text-center","py-3","fs-2"],[1,"text-primary","d-inline-block","cursor-pointer",3,"click"],[1,"text-lowercase"],[1,"d-flex","align-items-center","mt-4"],[1,"flex-grow-1","border-top"],[1,"px-3","text-muted"],[1,"d-flex","align-items-center","mt-3"],[1,"flex-grow-1"],[1,"px-3","login-social-network"],["shape","round","class","btn-google",3,"click",4,"ngIf"],["shape","round","class","btn-facebook",3,"click",4,"ngIf"],["shape","round",1,"btn-google",3,"click"],["src","../../../assets/icon/ion-img/google.svg"],["shape","round",1,"btn-facebook",3,"click"],["name","logo-facebook"],[1,"container","container-otp"],["src","../../../assets/icon/ion-img/otp.svg"],[1,"row","text-center"],[3,"onInputChange","config"],[1,"mt-4","text-center"],[1,"text-primmary","cursor-pointer",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"container","container-pin"],[1,"text-primmary","cursor-pointer","fs-14",3,"click"],[1,"text-primary","cursor-pointer","fs-14",3,"click"]],template:function(o,t){if(1&o){const e=n.RV6();n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",9)(3,"ion-button",10),n.bIt("click",function(c){return n.eBV(e),n.Njj(t.close(c))}),n.nrm(4,"ion-icon",11),n.k0s()()()(),n.j41(5,"ion-content",12)(6,"div",13),n.qex(7,14),n.DNE(8,K,1,1,"ng-container",15)(9,Z,1,1,"ng-container",15)(10,q,1,1,"ng-container",15)(11,nn,1,1,"ng-container",15)(12,tn,1,1,"ng-container",15),n.bVm(),n.k0s()(),n.DNE(13,rn,43,32,"ng-template",null,0,n.C5r)(15,cn,24,17,"ng-template",null,1,n.C5r)(17,sn,20,13,"ng-template",null,2,n.C5r)(19,un,17,9,"ng-template",null,3,n.C5r)(21,pn,18,12,"ng-template",null,4,n.C5r)}2&o&&(n.R7$(7),n.Y8G("ngSwitch",t.dataForm.inputType),n.R7$(),n.Y8G("ngSwitchCase","mobile"),n.R7$(),n.Y8G("ngSwitchCase","otp"),n.R7$(),n.Y8G("ngSwitchCase","pin"),n.R7$(),n.Y8G("ngSwitchCase","set-pin"),n.R7$(),n.Y8G("ngSwitchCase","confirm-pin"))},dependencies:[k.bT,k.T3,k.ux,k.e1,F.BC,F.vS,p.Jm,p.QW,p.W9,p.eU,p.iq,p.KW,p.$w,p.uz,p.he,p.ai,p.su,x.gj,L.D9],styles:["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--min-height: 3.5rem}.container[_ngcontent-%COMP%]{max-width:30rem}.container-mobile[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:12.5rem;margin:auto}.container-otp[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:12.5rem;margin:auto}.container-pin[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:12.5rem;margin:auto}.login-social-network[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{min-width:2.5rem;min-height:2.5rem;width:2.5rem;height:2.5rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-width: 1px;--border-style: solid;--border-color: var(--ion-color-medium-tint);margin:0;--box-shadow: none}.login-social-network[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:not(:last-child){margin-right:1rem}.login-social-network[_ngcontent-%COMP%]   ion-button.btn-apple[_ngcontent-%COMP%]{--background: #ffffff;--color: #000000}.login-social-network[_ngcontent-%COMP%]   ion-button.btn-google[_ngcontent-%COMP%]{--background: #ffffff}.login-social-network[_ngcontent-%COMP%]   ion-button.btn-facebook[_ngcontent-%COMP%]{--background: #ffffff;--color: #1877F2}"]}),i})()}];let mn=(()=>{var r;class i{}return(r=i).\u0275fac=function(o){return new(o||r)},r.\u0275mod=n.$C({type:r}),r.\u0275inj=n.G2t({imports:[T.iI.forChild(dn),T.iI]}),i})();var gn=s(3890);let hn=(()=>{var r;class i{}return(r=i).\u0275fac=function(o){return new(o||r)},r.\u0275mod=n.$C({type:r}),r.\u0275inj=n.G2t({imports:[k.MD,F.YN,p.bv,mn,gn.x,x.Ph]}),i})()}}]);