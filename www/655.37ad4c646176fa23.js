"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[655],{655:(b,u,s)=>{s.r(u),s.d(u,{HelpPageModule:()=>L});var d=s(177),v=s(9417),r=s(791),f=s(7625),p=s(467),h=s(5972);const P=function(){var i=(0,p.A)(function*(t){var o,e,a;t.params=t.params||{},(0,h.hm)({url:"api/Help/get-childs",params:{PId:null!==(o=t.params.PId)&&void 0!==o?o:null,PageNumber:null!==(e=t.params.PageNumber)&&void 0!==e?e:1,PageSize:null!==(a=t.params.PageSize)&&void 0!==a?a:10},success:l=>{"function"==typeof t.callback&&t.callback(l.data||null)},error:l=>{var g;"function"==typeof t.callback&&t.callback(null==l||null===(g=l.response)||void 0===g?void 0:g.data),console.error(l)},loading:t.loading,loadingController:t.loadingController})});return function(o){return i.apply(this,arguments)}}(),H=function(){var i=(0,p.A)(function*(t){t.params=t.params||{},(0,h.hm)({url:`api/Help/get-byid/${t.params.HelpId}`,success:o=>{"function"==typeof t.callback&&t.callback(o.data||null)},error:o=>{var e;"function"==typeof t.callback&&t.callback(null==o||null===(e=o.response)||void 0===e?void 0:e.data),console.error(o)},loading:t.loading,loadingController:t.loadingController})});return function(o){return i.apply(this,arguments)}}();var m=s(8650),C=s(8833),n=s(4438),I=s(4842);function R(i,t){if(1&i&&(n.qex(0),n.j41(1,"ion-accordion",7)(2,"ion-item",8)(3,"ion-label"),n.EFF(4),n.k0s()(),n.nrm(5,"div",9),n.k0s(),n.bVm()),2&i){const o=t.$implicit;n.R7$(),n.Y8G("value",o.HelpId),n.R7$(3),n.JRh(o.Title),n.R7$(),n.Y8G("innerHTML",o.Content,n.npT)}}function y(i,t){if(1&i){const o=n.RV6();n.j41(0,"ion-infinite-scroll",10),n.bIt("ionInfinite",function(a){n.eBV(o);const l=n.XpG();return n.Njj(l.onIonInfinite(a))}),n.nrm(1,"ion-infinite-scroll-content"),n.k0s()}}const M=[{path:"",component:(()=>{var i;class t{constructor(e,a){this.loadingController=e,this.toastController=a,this.APP_ROUTE=C._,this.paging={sortfield:null,sorttype:null,page:1,limit:10,loading:!1,active:!0},this.filter={},this.helps=[],this.limitLoad=0}ngOnInit(){this.refreshData()}onIonRefresher(e){this.filter={},this.refreshData(()=>{e.target.complete()})}onIonInfinite(e){this.loadMore(()=>{e.target.complete()})}pushData(e){1==this.paging.page&&(this.helps.length=0),this.helps=this.helps.concat(e)}refreshData(e){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit(e)}loadMore(e){this.paging.page+=1,this.loadData_Paging_Limit(e)}searchChange(e){this.filter.search=e.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}sortChange(e,a){this.paging.sortfield=e||null,this.paging.sorttype=a||null,this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}loadData_Paging_Limit(e){var a=this;return(0,p.A)(function*(){if(a.limitLoad>0)return void(e&&e());a.limitLoad=300;let l=setInterval(()=>{a.limitLoad-=100,a.limitLoad<=0&&(clearInterval(l),a.loadData_Paging(e))},100)})()}loadData_Paging(e){var a=this;return(0,p.A)(function*(){a.paging.loading=!0,P({loadingController:a.loadingController,params:{PageNumber:a.paging.page,PageSize:a.paging.limit},callback:l=>{var g;a.response=l,null!=l&&l.Succeeded?a.pushData(null!==(g=l.Data)&&void 0!==g?g:[]):(0,m.cX)(a.toastController,{},l).then(c=>c.present()),a.paging.loading=!1,a.paging.active=!(null==l||!l.HasNextPage),e&&e()}})})()}changeAccordion(e){var a=e.detail.value;a&&H({params:{HelpId:a},callback:l=>{if(null!=l&&l.Succeeded){var g=l.Data;g&&g.Content&&this.helps.filter(c=>c.HelpId==a).forEach(c=>c.Content=g.Content)}else(0,m.cX)(this.toastController,{},l).then(c=>c.present())}})}}return(i=t).\u0275fac=function(e){return new(e||i)(n.rXU(r.Xi),n.rXU(r.K_))},i.\u0275cmp=n.VBU({type:i,selectors:[["app-help"]],decls:14,vars:6,consts:[["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],[1,"container"],["mode","ios",3,"ionChange"],[4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],[3,"value"],["slot","header","lines","none","color","light"],["slot","content",1,"ion-padding",3,"innerHTML"],[3,"ionInfinite"]],template:function(e,a){1&e&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),n.nrm(3,"ion-back-button",1),n.k0s(),n.j41(4,"ion-title"),n.EFF(5),n.nI1(6,"translate"),n.k0s()()(),n.j41(7,"ion-content")(8,"ion-refresher",2),n.bIt("ionRefresh",function(g){return a.onIonRefresher(g)}),n.nrm(9,"ion-refresher-content"),n.k0s(),n.j41(10,"div",3)(11,"ion-accordion-group",4),n.bIt("ionChange",function(g){return a.changeAccordion(g)}),n.DNE(12,R,6,3,"ng-container",5),n.k0s()(),n.DNE(13,y,2,0,"ion-infinite-scroll",6),n.k0s()),2&e&&(n.R7$(3),n.Y8G("defaultHref",a.APP_ROUTE.DEFAULT),n.R7$(2),n.JRh(n.bMT(6,4,"UseManual")),n.R7$(7),n.Y8G("ngForOf",a.helps),n.R7$(),n.Y8G("ngIf",a.paging.active))},dependencies:[d.Sq,d.bT,r.xk,r.YH,r.QW,r.W9,r.eU,r.Ax,r.Hp,r.uz,r.he,r.To,r.Ki,r.BC,r.ai,r.el,I.D9],styles:["ion-accordion[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:.75rem}ion-accordion[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 4rem}"]}),t})()}];let D=(()=>{var i;class t{}return(i=t).\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[f.iI.forChild(M),f.iI]}),t})();var T=s(3890);let L=(()=>{var i;class t{}return(i=t).\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[d.MD,v.YN,r.bv,D,T.x]}),t})()}}]);