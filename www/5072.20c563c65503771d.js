"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5072],{5454:(ee,L,m)=>{m.d(L,{K5:()=>z,NL:()=>Y,X1:()=>u,fy:()=>v,nY:()=>I,r3:()=>H});var P=m(467),E=m(5972);const u=function(){var b=(0,P.A)(function*(s){var d,g,f,S,C,h,e,q,A,O,G,V,N,B,X,J,D,x;s.params=s.params||{},(0,E.Ll)({url:"api/RequestService/create",params:{ServiceId:null!==(d=s.params.ServiceId)&&void 0!==d?d:null,ChargePackageId:null!==(g=s.params.ChargePackageId)&&void 0!==g?g:null,RequestAddress:null!==(f=s.params.RequestAddress)&&void 0!==f?f:null,RequestLat:null!==(S=s.params.RequestLat)&&void 0!==S?S:null,RequestLong:null!==(C=s.params.RequestLong)&&void 0!==C?C:null,DestAddress:null!==(h=s.params.DestAddress)&&void 0!==h?h:null,DestLat:null!==(e=s.params.DestLat)&&void 0!==e?e:null,DestLong:null!==(q=s.params.DestLong)&&void 0!==q?q:null,Distance:null!==(A=s.params.Distance)&&void 0!==A?A:null,ExecutionDateAsString:null!==(O=s.params.ExecutionDateAsString)&&void 0!==O?O:null,ExecutionTimeAsString:null!==(G=s.params.ExecutionTimeAsString)&&void 0!==G?G:null,ExecutionTimeToAsString:null!==(V=s.params.ExecutionTimeToAsString)&&void 0!==V?V:null,Notes:null!==(N=s.params.Notes)&&void 0!==N?N:null,PromoteCode:null!==(B=s.params.PromoteCode)&&void 0!==B?B:null,IsVehicleVipCharging:null!==(X=s.params.IsVehicleVipCharging)&&void 0!==X?X:null,IsVehicleVipWallet:null!==(J=s.params.IsVehicleVipWallet)&&void 0!==J?J:null,WalletId:null!==(D=s.params.WalletId)&&void 0!==D?D:null,VehicleVipId:null!==(x=s.params.VehicleVipId)&&void 0!==x?x:null},success:$=>{"function"==typeof s.callback&&s.callback($.data||null)},error:$=>{var j;"function"==typeof s.callback&&s.callback(null==$||null===(j=$.response)||void 0===j?void 0:j.data),console.error($)},loading:s.loading,loadingController:s.loadingController})});return function(d){return b.apply(this,arguments)}}(),I=function(){var b=(0,P.A)(function*(s){var d,g;s.params=s.params||{},(0,E.Ll)({url:"api/RequestService/cancel",params:{RequestServiceId:null!==(d=s.params.RequestServiceId)&&void 0!==d?d:null,CancelReason:null!==(g=s.params.CancelReason)&&void 0!==g?g:null},success:f=>{"function"==typeof s.callback&&s.callback(f.data||null)},error:f=>{var S;"function"==typeof s.callback&&s.callback(null==f||null===(S=f.response)||void 0===S?void 0:S.data),console.error(f)},loading:s.loading,loadingController:s.loadingController})});return function(d){return b.apply(this,arguments)}}(),v=function(){var b=(0,P.A)(function*(s){var d,g,f,S;s.params=s.params||{},(0,E.hm)({url:"api/RequestService/get-myhistory",params:{VRequestStatus:null!==(d=s.params.VRequestStatus)&&void 0!==d?d:null,VRequestStatusMulti:null!==(g=s.params.VRequestStatusMulti)&&void 0!==g?g:null,PageNumber:null!==(f=s.params.PageNumber)&&void 0!==f?f:1,PageSize:null!==(S=s.params.PageSize)&&void 0!==S?S:10},success:C=>{"function"==typeof s.callback&&s.callback(C.data||null)},error:C=>{var h;"function"==typeof s.callback&&s.callback(null==C||null===(h=C.response)||void 0===h?void 0:h.data),console.error(C)},loading:s.loading,loadingController:s.loadingController})});return function(d){return b.apply(this,arguments)}}(),z=function(){var b=(0,P.A)(function*(s){s.params=s.params||{},(0,E.hm)({url:`api/RequestService/get-detail/${s.params.RequestServiceId}`,success:d=>{"function"==typeof s.callback&&s.callback(d.data||null)},error:d=>{var g;"function"==typeof s.callback&&s.callback(null==d||null===(g=d.response)||void 0===g?void 0:g.data),console.error(d)},loading:s.loading,loadingController:s.loadingController})});return function(d){return b.apply(this,arguments)}}(),H=function(){var b=(0,P.A)(function*(s){s.params=s.params||{},(0,E.hm)({url:`api/RequestService/get-mybycode/${s.params.RequestCode}`,success:d=>{"function"==typeof s.callback&&s.callback(d.data||null)},error:d=>{var g;"function"==typeof s.callback&&s.callback(null==d||null===(g=d.response)||void 0===g?void 0:g.data),console.error(d)},loading:s.loading,loadingController:s.loadingController})});return function(d){return b.apply(this,arguments)}}(),Y=function(){var b=(0,P.A)(function*(s){s.params=s.params||{},(0,E.hm)({url:"api/RequestService/get-availabletime",success:d=>{"function"==typeof s.callback&&s.callback(d.data||null)},error:d=>{var g;"function"==typeof s.callback&&s.callback(null==d||null===(g=d.response)||void 0===g?void 0:g.data),console.error(d)},loading:s.loading,loadingController:s.loadingController})});return function(d){return b.apply(this,arguments)}}()},5072:(ee,L,m)=>{m.r(L),m.d(L,{RequestServiceDetailPageModule:()=>ze});var P=m(177),E=m(9417),u=m(791),I=m(7625),v=m(467),z=m(1806),H=m(9051),Y=m(5972);const b=function(){var a=(0,v.A)(function*(r){var t,o,n,i,l;r.params=r.params||{},(0,Y.Ll)({url:"api/Rating/create",params:{VRatingType:null!==(t=r.params.VRatingType)&&void 0!==t?t:null,ObjectId:null!==(o=r.params.ObjectId)&&void 0!==o?o:null,RateValue:null!==(n=r.params.RateValue)&&void 0!==n?n:null,RateComment:null!==(i=r.params.RateComment)&&void 0!==i?i:null,RateAttach:null!==(l=r.params.RateAttach)&&void 0!==l?l:null},success:c=>{"function"==typeof r.callback&&r.callback(c.data||null)},error:c=>{var _;"function"==typeof r.callback&&r.callback(null==c||null===(_=c.response)||void 0===_?void 0:_.data),console.error(c)},loading:r.loading,loadingController:r.loadingController})});return function(t){return a.apply(this,arguments)}}();var C=m(8517),h=m(8650),e=m(4438),q=m(4842);const A=()=>[1,2,3,4,5],O=()=>[];function G(a,r){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div")(2,"ion-icon",20),e.bIt("click",function(n){const i=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.changeRateValue(n,i))}),e.k0s()(),e.bVm()}if(2&a){const t=r.$implicit,o=e.XpG();e.R7$(2),e.Y8G("color",o.rating.RateValue&&o.rating.RateValue>=t?"warning":"medium")}}function V(a,r){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div",22)(2,"ion-thumbnail"),e.nrm(3,"img",23),e.k0s(),e.j41(4,"div",24)(5,"ion-icon",25),e.bIt("click",function(n){const i=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.removeImage(n,i.id))}),e.k0s()()(),e.bVm()}if(2&a){const t=r.$implicit;e.R7$(3),e.Y8G("src",t.src,e.B4B)}}function N(a,r){if(1&a&&(e.qex(0),e.j41(1,"div",21),e.DNE(2,V,6,1,"ng-container",5),e.k0s(),e.bVm()),2&a){let t;const o=e.XpG();e.R7$(2),e.Y8G("ngForOf",null!==(t=o.rating.RateAttachs)&&void 0!==t?t:e.lJ4(1,O))}}let B=(()=>{var a;class r{constructor(o,n,i){this.modalController=o,this.loadingController=n,this.toastController=i,this.rating={}}ngOnInit(){this.rating.RateAttachs=this.rating.RateAttach?JSON.parse(this.rating.RateAttach):[]}close(o){var n=this;return(0,v.A)(function*(){n.modalController.dismiss(null,"cancel")})()}get submitDisabled(){return!this.rating.RateValue||!this.rating.RateComment}submit(o){var n=this;return(0,v.A)(function*(){n.submitDisabled||b({loadingController:n.loadingController,params:n.rating,callback:i=>{n.response=i,null!=i&&i.Succeeded?n.modalController.dismiss(null,"success"):(0,h.cX)(n.toastController,{},i).then(l=>l.present())}})})()}changeRateValue(o,n){var i=this;return(0,v.A)(function*(){i.rating.RateValue=n})()}changeRateComment(o,n){var i=this;return(0,v.A)(function*(){var l;i.rating.RateComment=null!==(l=o.detail.value)&&void 0!==l?l:n})()}addImage(o){var n=this;return(0,v.A)(function*(){(0,C.oG)({accept:"image/*",multiple:!0},i=>{let l=0,c=_=>{if(_){var p=new FileReader;p.onload=()=>{var R;null===(R=n.rating.RateAttachs)||void 0===R||R.push({id:Math.ceil(1e6*Math.random()),src:p.result}),c(i[l++])},p.onerror=()=>{c(i[l++])},p.readAsDataURL(_)}};c(i[l++])})})()}removeImage(o,n){var i=this;return(0,v.A)(function*(){var l,c;i.rating.RateAttachs=null!==(l=null===(c=i.rating.RateAttachs)||void 0===c?void 0:c.filter(_=>_.id!=n))&&void 0!==l?l:[],i.rating.RateAttach=i.rating.RateAttachs.length?JSON.stringify(i.rating.RateAttachs):void 0})()}}return(a=r).\u0275fac=function(o){return new(o||a)(e.rXU(u.W3),e.rXU(u.Xi),e.rXU(u.K_))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-modal-add-rating"]],inputs:{rating:"rating"},decls:40,vars:27,consts:[[1,"container","text-center","my-4"],[1,"text-muted"],[1,"container","mb-3"],[1,"mb-4"],[1,"d-flex","align-items-center","justify-content-around","list-star"],[4,"ngFor","ngForOf"],["lines","none"],[1,"form-group","mb-3"],[1,"text-danger"],[1,"ion-item-input"],["maxlength","250",3,"ionChange","autoGrow","placeholder","value"],[1,"d-flex","justify-content-center"],["size","small","color","medium",3,"click"],["slot","start","src","../../../assets/icon/ion-icon/camera.svg"],[4,"ngIf"],[1,"row","mt-3"],[1,"col-6","pr-1"],["color","medium","expand","block","shape","round","fill","outline",3,"click"],[1,"col-6","pl-1"],["color","primary","expand","block","shape","round",3,"click","disabled"],["src","../../../assets/icon/ion-icon/star.svg",3,"click","color"],[1,"d-flex","flex-wrap","mt-4","list-image"],[1,"position-relative","mr-3","mb-2"],[3,"src"],[1,"position-absolute","top-0","right-0","line-height-0","remove-image"],["name","close-circle-outline","color","danger",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"h4"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"small",1),e.EFF(5),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"div",2)(8,"div",3)(9,"div",4),e.DNE(10,G,3,1,"ng-container",5),e.k0s()(),e.j41(11,"ion-list",6)(12,"div",7)(13,"label"),e.EFF(14),e.nI1(15,"translate"),e.j41(16,"span",8),e.EFF(17,"*"),e.k0s()(),e.j41(18,"div",9)(19,"ion-item")(20,"ion-textarea",10),e.nI1(21,"translate"),e.bIt("ionChange",function(l){return n.changeRateComment(l)}),e.k0s()()()(),e.j41(22,"div",11)(23,"ion-button",12),e.bIt("click",function(l){return n.addImage(l)}),e.nrm(24,"ion-icon",13),e.j41(25,"ion-label"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()(),e.DNE(28,N,3,2,"ng-container",14),e.j41(29,"div",15)(30,"div",16)(31,"ion-button",17),e.bIt("click",function(l){return n.close(l)}),e.j41(32,"ion-label"),e.EFF(33),e.nI1(34,"translate"),e.k0s()()(),e.j41(35,"div",18)(36,"ion-button",19),e.bIt("click",function(l){return n.submit(l)}),e.j41(37,"ion-label"),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()()()()),2&o&&(e.R7$(2),e.JRh(e.bMT(3,12,"Rating")),e.R7$(3),e.JRh(e.bMT(6,14,"YourExperienceWithApp")),e.R7$(5),e.Y8G("ngForOf",e.lJ4(26,A)),e.R7$(4),e.SpI("",e.bMT(15,16,"WriteReview")," "),e.R7$(6),e.FS9("placeholder",e.bMT(21,18,"EnterYourComment")),e.Y8G("autoGrow",!0)("value",n.rating.RateComment),e.R7$(6),e.JRh(e.bMT(27,20,"UploadImage")),e.R7$(2),e.Y8G("ngIf",null==n.rating.RateAttachs?null:n.rating.RateAttachs.length),e.R7$(5),e.JRh(e.bMT(34,22,"Cancel")),e.R7$(3),e.Y8G("disabled",n.submitDisabled),e.R7$(2),e.JRh(e.bMT(39,24,"Send")))},dependencies:[P.Sq,P.bT,u.Jm,u.iq,u.uz,u.he,u.nf,u.nc,u.Zx,u.Gw,q.D9],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}.list-star[_ngcontent-%COMP%]{max-width:280px;margin:auto}.list-star[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:3rem}.list-image[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 5rem;border:1px solid var(--ion-color-light);--border-radius: .5rem;overflow:hidden}.list-image[_ngcontent-%COMP%]   .remove-image[_ngcontent-%COMP%]{margin-top:-.5rem;margin-right:-.5rem;border-radius:50%;line-height:0;background-color:#fff;cursor:pointer}.list-image[_ngcontent-%COMP%]   .remove-image[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}"]}),r})();var X=m(5137),J=m(7762),D=m(5312),x=m(3801),$=m(5970),j=m(2071),Q=m(5454);const te=function(){var a=(0,v.A)(function*(r){var t,o,n,i;r.params=r.params||{},(0,Y.hm)({url:"api/RequestServiceCancelReason/get-list",params:{ServiceId:null!==(t=r.params.ServiceId)&&void 0!==t?t:null,IsReasonForCustomer:null!==(o=r.params.IsReasonForCustomer)&&void 0!==o?o:null,PageNumber:null!==(n=r.params.PageNumber)&&void 0!==n?n:1,PageSize:null!==(i=r.params.PageSize)&&void 0!==i?i:10},success:l=>{"function"==typeof r.callback&&r.callback(l.data||null)},error:l=>{var c;"function"==typeof r.callback&&r.callback(null==l||null===(c=l.response)||void 0===c?void 0:c.data),console.error(l)},loading:r.loading,loadingController:r.loadingController})});return function(t){return a.apply(this,arguments)}}();var ne=m(6539),ie=m(2313),k=m(3588),K=m(8833);const ae=["modalAddCustomerInvoiceSuccess"],oe=(a,r)=>[a,r];function re(a,r){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2,"Th\u1eddi gian h\u1eb9n s\u1ea1c"),e.k0s(),e.j41(3,"td")(4,"b"),e.EFF(5),e.k0s()()()),2&a){const t=e.XpG(2);e.R7$(5),e.E5c("",t.APP_FUNC_FormatDate(t.requestService.ExecutionDate+" "+t.requestService.ExecutionTime,"HH:mm")," - ",t.APP_FUNC_FormatDate(t.requestService.ExecutionDate+" "+t.requestService.ExecutionTimeTo,"HH:mm"),", ",t.APP_FUNC_FormatDate(t.requestService.ExecutionDate+" "+t.requestService.ExecutionTime,"DD/MM/YYYY"),"")}}function le(a,r){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2,"\u0110i\u1ec3m \u0111\xf3n"),e.k0s(),e.j41(3,"td")(4,"b"),e.EFF(5),e.k0s()()(),e.j41(6,"tr")(7,"td"),e.EFF(8,"\u0110i\u1ec3m tr\u1ea3"),e.k0s(),e.j41(9,"td")(10,"b"),e.EFF(11),e.k0s()()()),2&a){const t=e.XpG(2);e.R7$(5),e.JRh(t.requestService.RequestAddress),e.R7$(6),e.JRh(t.requestService.DestAddress)}}function se(a,r){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&a){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Address")),e.R7$(4),e.JRh(t.requestService.RequestAddress)}}function ce(a,r){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&a){let t;const o=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,3,"DistanceRescure")),e.R7$(4),e.Lme("",null!==(t=o.requestService.Distance)&&void 0!==t?t:o.getDistance(),"",null!==(t=o.requestService.Unit)&&void 0!==t?t:"km","")}}function ue(a,r){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&a){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"ChargingPackage")),e.R7$(4),e.JRh(t.requestService.ChargePackageName)}}function de(a,r){if(1&a&&(e.j41(0,"div",9)(1,"div",17)(2,"div",11)(3,"div",18)(4,"b",19),e.EFF(5,"Nh\xe2n vi\xean th\u1ef1c hi\u1ec7n"),e.k0s()()(),e.nrm(6,"hr",14),e.j41(7,"div",15)(8,"table",16)(9,"tr")(10,"td"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"td")(14,"b"),e.EFF(15),e.k0s()()(),e.j41(16,"tr")(17,"td"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"td")(21,"b"),e.EFF(22),e.k0s()()(),e.j41(23,"tr")(24,"td"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"td")(28,"b"),e.EFF(29),e.k0s()()(),e.j41(30,"tr")(31,"td"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"td")(35,"b"),e.EFF(36),e.k0s()()()()()()()),2&a){const t=e.XpG(2);e.R7$(11),e.JRh(e.bMT(12,8,"Employe")),e.R7$(4),e.JRh(t.requestService.StaffFullName),e.R7$(3),e.JRh(e.bMT(19,10,"CarBrand")),e.R7$(4),e.JRh(t.requestService.CarBrand),e.R7$(3),e.JRh(e.bMT(26,12,"ModelName")),e.R7$(4),e.JRh(t.requestService.ModelName),e.R7$(3),e.JRh(e.bMT(33,14,"VehicleNumber")),e.R7$(4),e.JRh(t.requestService.VehicleNumber)}}function _e(a,r){if(1&a&&(e.j41(0,"div",20)(1,"div",27)(2,"b"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"table",16)(6,"tr")(7,"td"),e.EFF(8,"Ph\xed ph\u1ea1t h\u1ee7y d\u1ecbch v\u1ee5"),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()()()),2&a){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,2,"Used")),e.R7$(7),e.SpI("",t.APP_FUNC_FormatMoney(t.requestService.AftertaxBillValue),"\u0111")}}function me(a,r){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&a){let t;const o=e.XpG(3);e.R7$(2),e.JRh(e.bMT(3,3,"DistanceRescure")),e.R7$(4),e.Lme("",null!==(t=o.requestService.Distance)&&void 0!==t?t:o.getDistance(),"",null!==(t=o.requestService.Unit)&&void 0!==t?t:"km","")}}function pe(a,r){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s()()),2&a){let t;const o=e.XpG(3);e.R7$(2),e.JRh(e.bMT(3,3,"UsedElectricValue")),e.R7$(3),e.Lme("",o.APP_FUNC_RoundNumber(null!==(t=o.requestService.ElectricUsed)&&void 0!==t?t:0),"",null!==(t=o.requestService.Unit)&&void 0!==t?t:"kWh","")}}function ve(a,r){if(1&a&&(e.j41(0,"div",20)(1,"div",27)(2,"b"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"table",16),e.DNE(6,me,7,5,"tr")(7,pe,6,5),e.j41(8,"tr")(9,"td"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s()()()()),2&a){let t;const o=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,4,"Used")),e.R7$(3),e.vxM(6,o.requestService.VServiceType==o.v_service_type.CuuHo?6:7),e.R7$(4),e.JRh(e.bMT(11,6,"UsedMoneyValue")),e.R7$(3),e.SpI("",o.APP_FUNC_FormatMoney(null!==(t=o.requestService.AftertaxBillValue)&&void 0!==t?t:0)||"---","\u0111")}}function ge(a,r){if(1&a&&(e.j41(0,"div",21)(1,"div",27)(2,"b"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"table",16)(6,"tr")(7,"td"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"td")(11,"b"),e.EFF(12),e.k0s()()()()()),2&a){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,3,"BillVAT")),e.R7$(5),e.JRh(e.bMT(9,5,"Status")),e.R7$(4),e.JRh(t.requestService.VEinvoiceStatusName)}}function Re(a,r){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&a){const t=e.XpG(5);e.R7$(2),e.JRh(e.bMT(3,2,"Email")),e.R7$(4),e.JRh(t.customerInvoice.BuyerEmail)}}function Ce(a,r){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&a){const t=e.XpG(5);e.R7$(2),e.JRh(e.bMT(3,2,"Mobile")),e.R7$(4),e.JRh(t.customerInvoice.BuyerPhone)}}function fe(a,r){if(1&a&&(e.j41(0,"table",16)(1,"tr")(2,"td"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"td")(6,"b"),e.EFF(7),e.k0s()()(),e.j41(8,"tr")(9,"td"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"td")(13,"b"),e.EFF(14),e.k0s()()(),e.j41(15,"tr")(16,"td"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"td")(20,"b"),e.EFF(21),e.k0s()()(),e.DNE(22,Re,7,4,"tr",36)(23,Ce,7,4,"tr",36),e.k0s()),2&a){const t=e.XpG(4);e.R7$(3),e.JRh(e.bMT(4,8,"BillCompanyName")),e.R7$(4),e.JRh(t.customerInvoice.CompanyName),e.R7$(3),e.JRh(e.bMT(11,10,"BillCompanyAddress")),e.R7$(4),e.JRh(t.customerInvoice.Address),e.R7$(3),e.JRh(e.bMT(18,12,"BillCompanyTax")),e.R7$(4),e.JRh(t.customerInvoice.TaxCode),e.R7$(),e.Y8G("ngIf",t.customerInvoice.BuyerEmail),e.R7$(),e.Y8G("ngIf",t.customerInvoice.BuyerPhone)}}function he(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",32)(1,"div",11)(2,"b"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ion-button",33),e.bIt("click",function(n){e.eBV(t);const i=e.XpG(3);return e.Njj(i.presentModalCustomerInvoice(n))}),e.nrm(6,"ion-icon",34),e.k0s()(),e.nrm(7,"hr"),e.DNE(8,fe,24,14,"table",35),e.k0s()}if(2&a){const t=e.XpG(3);e.R7$(3),e.JRh(e.bMT(4,2,"ExportBillInfo")),e.R7$(5),e.Y8G("ngIf",t.customerInvoice)}}function be(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",22)(1,"div",28)(2,"ion-radio-group",29),e.bIt("ionChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changeIsGetBill(n))}),e.j41(3,"ion-radio",30),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"ion-radio",30),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,he,9,4,"div",31),e.k0s()}if(2&a){const t=e.XpG(2);e.R7$(2),e.Y8G("value",0),e.R7$(),e.Y8G("value",0),e.R7$(),e.JRh(e.bMT(5,6,"NoGetBill")),e.R7$(2),e.Y8G("value",1),e.R7$(),e.JRh(e.bMT(8,8,"YesGetBill")),e.R7$(2),e.Y8G("ngIf",t.IsGetBill)}}function Se(a,r){if(1&a&&(e.j41(0,"div",8)(1,"div",9)(2,"div",37)(3,"h6",38)(4,"b"),e.EFF(5,"Ghi ch\xfa c\u1ee7a kh\xe1ch kh\xe0ng"),e.k0s()(),e.nrm(6,"hr",39),e.j41(7,"div")(8,"b",40),e.EFF(9),e.k0s()()()()()),2&a){const t=e.XpG(3);e.R7$(9),e.JRh(t.requestService.Notes)}}function Pe(a,r){if(1&a&&(e.j41(0,"div",41)(1,"b",40),e.EFF(2),e.k0s()()),2&a){const t=e.XpG(4);e.R7$(2),e.JRh(t.requestService.AcceptNotes)}}function $e(a,r){if(1&a&&(e.j41(0,"div",42),e.nrm(1,"ion-img",43),e.k0s()),2&a){const t=e.XpG(4);e.R7$(),e.Y8G("src",t.readfile_url+t.requestService.AcceptImages)}}function Ee(a,r){if(1&a&&(e.j41(0,"div",8)(1,"div",9)(2,"div",37)(3,"h6",38)(4,"b"),e.EFF(5,"Ghi ch\xfa x\xe1c nh\u1eadn d\u1ecbch v\u1ee5"),e.k0s()(),e.nrm(6,"hr",39),e.DNE(7,Pe,3,1,"div",41)(8,$e,2,1,"div",42),e.k0s()()()),2&a){const t=e.XpG(3);e.R7$(7),e.vxM(7,t.requestService.AcceptNotes?7:-1),e.R7$(),e.vxM(8,t.requestService.AcceptImages?8:-1)}}function ke(a,r){if(1&a&&(e.j41(0,"div",41)(1,"b",40),e.EFF(2),e.k0s()()),2&a){const t=e.XpG(4);e.R7$(2),e.JRh(t.requestService.CancelReason)}}function Me(a,r){if(1&a&&(e.j41(0,"div",42),e.nrm(1,"ion-img",43),e.k0s()),2&a){const t=e.XpG(4);e.R7$(),e.Y8G("src",t.readfile_url+t.requestService.CancelReasonImages)}}function Fe(a,r){if(1&a&&(e.j41(0,"div",8)(1,"div",9)(2,"div",37)(3,"h6",38)(4,"b"),e.EFF(5,"L\xfd do t\u1eeb ch\u1ed1i/h\u1ee7y d\u1ecbch v\u1ee5"),e.k0s()(),e.nrm(6,"hr",39),e.DNE(7,ke,3,1,"div",41)(8,Me,2,1,"div",42),e.k0s()()()),2&a){const t=e.XpG(3);e.R7$(7),e.vxM(7,t.requestService.CancelReason?7:-1),e.R7$(),e.vxM(8,t.requestService.CancelReasonImages?8:-1)}}function Ie(a,r){if(1&a&&e.DNE(0,Se,10,1,"div",8)(1,Ee,9,2,"div",8)(2,Fe,9,2,"div",8),2&a){const t=e.XpG(2);e.vxM(0,t.requestService.Notes?0:-1),e.R7$(),e.vxM(1,t.requestService.AcceptNotes||t.requestService.AcceptImages?1:-1),e.R7$(),e.vxM(2,t.requestService.CancelReason||t.requestService.CancelReasonImages?2:-1)}}function qe(a,r){if(1&a&&(e.j41(0,"ion-select-option",51),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t.RequestServiceCancelReasonId),e.R7$(),e.JRh(t.Reason)}}function De(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",48)(1,"ion-item",49)(2,"ion-textarea",55),e.bIt("ionChange",function(n){e.eBV(t);const i=e.XpG(3);return e.Njj(i.changeReason(n))}),e.k0s()()()}if(2&a){const t=e.XpG(3);e.R7$(2),e.Y8G("autoGrow",!0)("value",t.dataForm.Reason)}}function xe(a,r){if(1&a){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ion-buttons",44)(6,"ion-button",45),e.bIt("click",function(){e.eBV(t),e.XpG();const n=e.sdS(57);return e.Njj(null==n?null:n.dismiss())}),e.nrm(7,"ion-icon",46),e.k0s()()()(),e.j41(8,"div",47)(9,"div",48)(10,"ion-item",49)(11,"ion-select",50),e.nI1(12,"translate"),e.nI1(13,"translate"),e.bIt("ionChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changeRequestServiceCancelReason(n))}),e.Z7z(14,qe,2,2,"ion-select-option",51,e.fX1),e.j41(16,"ion-select-option",51),e.EFF(17,"Kh\xe1c"),e.k0s()()()(),e.DNE(18,De,3,2,"div",48),e.k0s(),e.j41(19,"ion-footer")(20,"div",52)(21,"ion-button",53),e.bIt("click",function(){e.eBV(t),e.XpG();const n=e.sdS(57);return e.Njj(null==n?null:n.dismiss())}),e.j41(22,"ion-label"),e.EFF(23),e.nI1(24,"translate"),e.k0s()(),e.j41(25,"ion-button",54),e.bIt("click",function(n){e.eBV(t),e.XpG();const i=e.sdS(57),l=e.XpG();return e.Njj(l.cancelService(n,i))}),e.j41(26,"ion-label"),e.EFF(27),e.nI1(28,"translate"),e.k0s()()()()}if(2&a){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,9,"CancelService")),e.R7$(8),e.Y8G("value",t.dataForm.ReasonId)("cancelText",e.bMT(12,11,"Close"))("okText",e.bMT(13,13,"Apply")),e.R7$(3),e.Dyx(t.requestServiceCancelReasons),e.R7$(2),e.Y8G("value",-1),e.R7$(2),e.vxM(18,-1==t.dataForm.ReasonId?18:-1),e.R7$(5),e.JRh(e.bMT(24,15,"Cancel")),e.R7$(2),e.Y8G("disabled",t.cancelService_Disabled),e.R7$(2),e.JRh(e.bMT(28,17,"Confirm"))}}function je(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",56),e.nrm(1,"ion-img",57),e.j41(2,"h4"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div")(6,"small"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",58)(10,"ion-button",59),e.bIt("click",function(){e.eBV(t),e.XpG();const n=e.sdS(60);return e.Njj(null==n?null:n.dismiss())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()}2&a&&(e.R7$(3),e.JRh(e.bMT(4,3,"InvoiceRequestSent")),e.R7$(4),e.JRh(e.bMT(8,5,"InvoiceRequestSentMessage")),e.R7$(4),e.JRh(e.bMT(12,7,"Close")))}function ye(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",60),e.nrm(1,"ion-spinner",61),e.j41(2,"ion-label",62),e.EFF(3,"\u0110ang t\xecm nh\xe2n vi\xean ti\u1ebfp nh\u1eadn d\u1ecbch v\u1ee5 ..."),e.k0s()(),e.j41(4,"ion-button",59),e.bIt("click",function(){e.eBV(t),e.XpG();const n=e.sdS(57);return e.Njj(null==n?null:n.present())}),e.j41(5,"ion-label"),e.EFF(6,"H\u1ee7y d\u1ecbch v\u1ee5"),e.k0s()()}}function Te(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",60),e.nrm(1,"ion-spinner",61),e.j41(2,"ion-label",62),e.EFF(3,"\u0110ang t\xecm nh\xe2n vi\xean ti\u1ebfp nh\u1eadn d\u1ecbch v\u1ee5 ..."),e.k0s()(),e.j41(4,"ion-button",59),e.bIt("click",function(){e.eBV(t),e.XpG();const n=e.sdS(57);return e.Njj(null==n?null:n.present())}),e.j41(5,"ion-label"),e.EFF(6,"H\u1ee7y d\u1ecbch v\u1ee5"),e.k0s()()}}function Ae(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",60),e.nrm(1,"ion-icon",63),e.j41(2,"ion-label",64),e.EFF(3,"Nh\xe2n vi\xean \u0111\xe3 nh\u1eadn d\u1ecbch v\u1ee5."),e.k0s()(),e.j41(4,"ion-button",59),e.bIt("click",function(){e.eBV(t),e.XpG();const n=e.sdS(57);return e.Njj(null==n?null:n.present())}),e.j41(5,"ion-label"),e.EFF(6,"H\u1ee7y d\u1ecbch v\u1ee5"),e.k0s()()}}function Oe(a,r){if(1&a){const t=e.RV6();e.j41(0,"ion-button",65),e.bIt("click",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.presentModalAddFeedback(n))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"SendFeedback")))}function Ge(a,r){if(1&a){const t=e.RV6();e.j41(0,"ion-button",65),e.bIt("click",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.presentModalAddFeedback(n))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"SendFeedback")))}function Ve(a,r){if(1&a){const t=e.RV6();e.j41(0,"ion-button",68),e.bIt("click",function(n){e.eBV(t);const i=e.XpG(3);return e.Njj(i.presentModalAddChargingRateByService(n))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"Rate")))}function Ne(a,r){if(1&a){const t=e.RV6();e.j41(0,"ion-button",69),e.bIt("click",function(n){e.eBV(t);const i=e.XpG(3);return e.Njj(i.completeOrder(n))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"Complete")))}function Be(a,r){if(1&a){const t=e.RV6();e.j41(0,"ion-button",69),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.navigateByUrl(n.APP_ROUTE.BILL_INFO_DETAIL.replace(":id",n.requestService.BillId.toString())))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"ViewBill")))}function Xe(a,r){if(1&a){const t=e.RV6();e.j41(0,"ion-button",69),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.navigateByUrl(n.APP_ROUTE.CHARGING_SESSION_DETAIL.replace(":id",n.requestService.ChargeSessionId.toString())))}),e.j41(1,"ion-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"GoToChargingSession")))}function Je(a,r){if(1&a&&e.DNE(0,Ve,4,3,"ion-button",66)(1,Ne,4,3,"ion-button",67)(2,Be,4,3)(3,Xe,4,3),2&a){const t=e.XpG(2);e.vxM(0,t.requestService.VRequestStatus==t.v_request_status.HoanTat?0:-1),e.R7$(),e.vxM(1,t.requestService.BillId&&t.requestService.VEinvoiceStatus==t.v_einvoice_status.ChuaXacNhan?1:t.requestService.BillId?2:t.requestService.ChargeSessionId?3:-1)}}function Ue(a,r){if(1&a){const t=e.RV6();e.j41(0,"ion-content")(1,"ion-refresher",5),e.bIt("ionRefresh",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onIonRefresher(n))}),e.nrm(2,"ion-refresher-content"),e.k0s(),e.EFF(3," ,. "),e.nrm(4,"div",6),e.j41(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"div",11)(10,"div",12),e.EFF(11),e.k0s(),e.j41(12,"ion-text",13),e.EFF(13),e.k0s()(),e.nrm(14,"hr",14),e.j41(15,"div",15)(16,"table",16)(17,"tr")(18,"td"),e.EFF(19,"Ng\u01b0\u1eddi y\xeau c\u1ea7u"),e.k0s(),e.j41(20,"td")(21,"b"),e.EFF(22),e.k0s()()(),e.j41(23,"tr")(24,"td"),e.EFF(25,"Th\u1eddi gian g\u1eedi y\xeau c\u1ea7u"),e.k0s(),e.j41(26,"td")(27,"b"),e.EFF(28),e.k0s()()(),e.DNE(29,re,6,3,"tr")(30,le,12,2)(31,se,7,4),e.k0s()()()(),e.j41(32,"div",9)(33,"div",17)(34,"div",11)(35,"div",18)(36,"b",19),e.EFF(37,"Chi ti\u1ebft d\u1ecbch v\u1ee5"),e.k0s()()(),e.nrm(38,"hr",14),e.j41(39,"div",15)(40,"table",16),e.DNE(41,ce,7,5,"tr")(42,ue,7,4),e.j41(43,"tr")(44,"td"),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.j41(47,"td")(48,"b"),e.EFF(49),e.k0s()()()()()()(),e.DNE(50,de,37,16,"div",9),e.k0s(),e.DNE(51,_e,11,4,"div",20)(52,ve,14,8,"div",20)(53,ge,13,7,"div",21)(54,be,10,10,"div",22)(55,Ie,3,3),e.k0s(),e.j41(56,"ion-modal",23,0),e.bIt("didPresent",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onModalCancelServiceDidPresent(n))}),e.DNE(58,xe,29,19,"ng-template"),e.k0s(),e.j41(59,"ion-modal",24,1),e.DNE(61,je,13,9,"ng-template"),e.k0s()(),e.j41(62,"ion-footer",25)(63,"div",26),e.DNE(64,ye,7,0)(65,Te,7,0)(66,Ae,7,0)(67,Oe,4,3)(68,Ge,4,3)(69,Je,4,2),e.k0s()()}if(2&a){let t,o,n;const i=e.XpG();e.R7$(11),e.JRh(i.requestService.ServiceName),e.R7$(),e.Y8G("color",i.APP_FUNC_GetColor_VRequestStatus(i.requestService.VRequestStatus)),e.R7$(),e.JRh(i.requestService.VRequestStatusName),e.R7$(9),e.JRh(i.requestService.CustomerFullname),e.R7$(6),e.JRh(i.APP_FUNC_FormatDate(i.requestService.RequestDate,"HH:mm, DD/MM/YYYY")),e.R7$(),e.vxM(29,i.requestService.ExecutionDate&&i.requestService.ExecutionTime&&i.requestService.ExecutionTimeTo?29:-1),e.R7$(),e.vxM(30,i.requestService.VServiceType==i.v_service_type.CuuHo?30:31),e.R7$(11),e.vxM(41,i.requestService.VServiceType==i.v_service_type.CuuHo?41:42),e.R7$(4),e.JRh(e.bMT(46,17,"PayValue")),e.R7$(4),e.SpI("",i.APP_FUNC_FormatMoney(null!==(t=i.requestService.PayValue)&&void 0!==t?t:0),"\u0111"),e.R7$(),e.vxM(50,i.requestService.StaffUserId?50:-1),e.R7$(),e.vxM(51,e.l_i(19,oe,i.v_request_status.KhachHangHuy,i.v_request_status.TuChoiPhucVu).includes(null!==(o=i.requestService.VRequestStatus)&&void 0!==o?o:0)&&i.requestService.AftertaxBillValue?51:-1),e.R7$(),e.vxM(52,i.requestService.VRequestStatus==i.v_request_status.HoanTat?52:-1),e.R7$(),e.vxM(53,i.requestService.VEinvoiceStatus&&i.requestService.VEinvoiceStatus!=i.v_einvoice_status.ChuaXacNhan?53:-1),e.R7$(),e.vxM(54,i.requestService.VEinvoiceStatus==i.v_einvoice_status.ChuaXacNhan?54:-1),e.R7$(),e.vxM(55,i.requestService.VRequestStatus!=i.v_request_status.HoanTat?55:-1),e.R7$(9),e.vxM(64,(n=i.requestService.VRequestStatus)===i.v_request_status.YeuCauDichVu?64:n===i.v_request_status.ChoXacNhan?65:n===i.v_request_status.NhanVienDangDiDen?66:n===i.v_request_status.KhachHangHuy?67:n===i.v_request_status.TuChoiPhucVu?68:69)}}const Le=[{path:"",component:(()=>{var a;class r{constructor(o,n,i,l,c,_){var p;this.router=o,this.activatedRoute=n,this.modalController=i,this.animationController=l,this.toastController=c,this.loadingController=_,this.APP_ROUTE=K._,this.APP_FUNC_FormatDate=C.Rv,this.APP_FUNC_FormatMoney=C.xi,this.APP_FUNC_RoundNumber=C.Rw,this.APP_FUNC_GetColor_VRequestStatus=C.rZ,this.v_request_status=k.Gz,this.v_einvoice_status=k.XM,this.v_service_type=k.kA,this.readfile_url=D.c.readfile_url,this.requestServiceCancelReasons=[],this.customerInvoices=[],this.dataForm={};let R=null!==(p=n.snapshot.params.id)&&void 0!==p?p:"";R&&(this.RequestServiceId=parseFloat(R))}ngOnInit(){var o=this;this.IsOnInit=!0,(0,v.A)(function*(){(yield(0,ne.kU)())&&o.refreshData(()=>{})})()}ionViewDidEnter(){this.IsOnInit?this.IsOnInit=!1:this.refreshData()}onIonRefresher(o){this.refreshData(()=>{o.target.complete()})}refreshData(o){var n=this;return(0,v.A)(function*(){(0,Q.K5)({params:{RequestServiceId:n.RequestServiceId},callback:i=>{var l,c,_,p,R,U,y,M,F;n.response=i,null!=i&&i.Succeeded?(n.requestService=null!==(l=i.Data)&&void 0!==l?l:{},n.customerPosition={lat:null!==(c=null===(_=n.requestService)||void 0===_?void 0:_.RequestLat)&&void 0!==c?c:0,lng:null!==(p=null===(R=n.requestService)||void 0===R?void 0:R.RequestLong)&&void 0!==p?p:0},[k.Gz.YeuCauDichVu,k.Gz.ChoXacNhan].includes(null!==(U=null===(y=n.requestService)||void 0===y?void 0:y.VRequestStatus)&&void 0!==U?U:0)?setTimeout(()=>{n.refreshData()},1e4):[k.Gz.NhanVienDangDiDen,k.Gz.DangPhucVu].includes(null!==(M=null===(F=n.requestService)||void 0===F?void 0:F.VRequestStatus)&&void 0!==M?M:0)&&setTimeout(()=>{n.refreshData()},3e4)):(0,h.cX)(n.toastController,{},i).then(T=>{T.onDidDismiss().then(w=>{n.router.navigateByUrl(K._.REQUEST_SERVICE)}),T.present()}),o&&o()}})})()}initMap(){var o=this;const n=function(){var l=(0,v.A)(function*(){let c,_,R=window.google.maps;const{Map:U}=yield R.importLibrary("maps"),{AdvancedMarkerElement:y}=yield R.importLibrary("marker");let M=new U(document.getElementById("map"),{zoom:12,center:o.customerPosition,disableDefaultUI:!0,mapId:"DEMO_MAP_ID"});o.customerPosition&&(c=new y({map:M,position:o.customerPosition,title:"V\u1ecb tr\xed kh\xe1ch h\xe0ng \u0111\u1eb7t l\u1ecbch"})),o.employePosition&&(_=new y({map:M,position:o.employePosition,title:"V\u1ecb tr\xed nh\xe2n vi\xean iSAC"})),o.customerPosition&&o.employePosition&&setTimeout(()=>{var F,T,w,W,He=R.DirectionsService(),Z=R.DirectionsRenderer();Z.setMap(M),He.route({origin:R.LatLng(null===(F=o.employePosition)||void 0===F?void 0:F.lat,null===(T=o.employePosition)||void 0===T?void 0:T.lng),destination:R.LatLng(null===(w=o.customerPosition)||void 0===w?void 0:w.lat,null===(W=o.customerPosition)||void 0===W?void 0:W.lng),travelMode:"DRIVING"},function(Ke,We){"OK"==We&&Z.setDirections(Ke)})},1e3)});return function(){return l.apply(this,arguments)}}();window.initMap=n;let i=document.createElement("script");i.async=!0,i.src=`https://maps.google.com/maps/api/js?key=${D.c.apiKey}&libraries=places,marker,routes&callback=initMap&loading=async`,document.head.append(i)}refreshCurrentPosition(o){var n=this;return(0,v.A)(function*(){let i=()=>{(0,x.Xz)().then(l=>{n.employePosition=l,o&&o()})};J.L.getCurrentPosition({enableHighAccuracy:!0}).then(function(){var l=(0,v.A)(function*(c){if(c.coords){var _={lat:c.coords.latitude,lng:c.coords.longitude};yield(0,x.fj)({params:_})}i()});return function(c){return l.apply(this,arguments)}}()).catch(()=>{i()})})()}navigateByUrl(o){this.router.navigateByUrl(o)}getDistance(){var o,n,i,l;return(0,C.Rw)((0,C.GH)({lat:null===(o=this.requestService)||void 0===o?void 0:o.RequestLat,lng:null===(n=this.requestService)||void 0===n?void 0:n.RequestLong},{lat:null===(i=this.requestService)||void 0===i?void 0:i.DestLat,lng:null===(l=this.requestService)||void 0===l?void 0:l.DestLong}),10)}getDistance2CL(){return this.employePosition&&this.customerPosition?(0,C.Rw)((0,C.GH)(this.employePosition,this.customerPosition),10):0}getTime2CL(){return this.employePosition&&this.customerPosition?(0,C.Rw)(3*(0,C.GH)(this.employePosition,this.customerPosition),1):0}onModalCancelServiceDidPresent(o){var n=this;return(0,v.A)(function*(){var i;te({loadingController:n.loadingController,params:{ServiceId:null===(i=n.requestService)||void 0===i?void 0:i.ServiceId,IsReasonForCustomer:!0,PageNumber:1,PageSize:100},callback:l=>{var c;null!=l&&l.Succeeded?n.requestServiceCancelReasons=null!==(c=l.Data)&&void 0!==c?c:[]:(0,h.cX)(n.toastController,{},l).then(_=>_.present())}})})()}changeRequestServiceCancelReason(o){var n=this;return(0,v.A)(function*(){n.dataForm.ReasonId=o.detail.value})()}changeReason(o){var n=this;return(0,v.A)(function*(){var i;n.dataForm.Reason=null===(i=o.detail.value)||void 0===i?void 0:i.trim()})()}get cancelService_Disabled(){var o;return!(null!==(o=this.requestServiceCancelReasons.find(n=>n.RequestServiceCancelReasonId==this.dataForm.ReasonId))&&void 0!==o&&o.Reason||this.dataForm.Reason)}cancelService(o,n){var i=this;return(0,v.A)(function*(){var l,c,_;(0,Q.nY)({loadingController:i.loadingController,params:{RequestServiceId:null===(l=i.requestService)||void 0===l?void 0:l.RequestServiceId,CancelReason:null!==(c=null===(_=i.requestServiceCancelReasons.find(p=>p.RequestServiceCancelReasonId==i.dataForm.ReasonId))||void 0===_?void 0:_.Reason)&&void 0!==c?c:i.dataForm.Reason},callback:p=>{null!=p&&p.Succeeded?(null==n||n.dismiss(),i.router.navigateByUrl(K._.REQUEST_SERVICE),(0,h.cX)(i.toastController,{color:"danger",message:"\u0110\xe3 h\u1ee7y d\u1ecbch v\u1ee5"}).then(R=>R.present())):(0,h.cX)(i.toastController,{},p).then(R=>R.present())}})})()}presentModalAddChargingRateByService(o){var n=this;return(0,v.A)(function*(){var i;(yield n.modalController.create({component:B,componentProps:{rating:{VRatingType:k.em.DanhGiaNhanVien,ObjectId:null===(i=n.requestService)||void 0===i?void 0:i.CustomerUserId,RateValue:5}},cssClass:"ion-modal-auto ion-modal-bottom"})).present()})()}presentModalAddFeedback(o){var n=this;return(0,v.A)(function*(){var i;let l=yield n.modalController.create({component:H.l,componentProps:{feedback:{DocType:ie.vK.REQUEST_SERVICE,DocId:null===(i=n.requestService)||void 0===i?void 0:i.RequestServiceId}},cssClass:"ion-modal-breakpoint",breakpoints:[0,.5,1],initialBreakpoint:1});l.onDidDismiss().then(c=>{"success"==c.role&&n.refreshData()}),l.present()})()}changeIsGetBill(o){this.IsGetBill=o.detail.value,this.GetCustomerinvoices()}GetCustomerinvoice(o){var n=this;return(0,v.A)(function*(){o&&(0,$.kT)({loadingController:n.loadingController,params:{CustomerInvoiceId:o},callback:i=>{null!=i&&i.Succeeded&&(n.customerInvoice=i.Data)}})})()}GetCustomerinvoices(){var o=this;return(0,v.A)(function*(){(0,$.Ul)({loadingController:o.loadingController,params:{PageNumber:1,PageSize:100},callback:n=>{var i;if(null!=n&&n.Succeeded)if(o.customerInvoices=null!==(i=n.Data)&&void 0!==i?i:[],o.customerInvoices.length)if(1==o.customerInvoices.length)o.customerInvoice=o.customerInvoices[0];else{var l;o.customerInvoice=null!==(l=o.customerInvoices.filter(c=>c.IsDefault)[0])&&void 0!==l?l:o.customerInvoices[0]}else o.presentModalAddCustomerInvoice()}})})()}presentModalCustomerInvoice(o){var n=this;return(0,v.A)(function*(){var i;const l=yield n.modalController.create({component:X.u,componentProps:{CustomerInvoiceId:null===(i=n.customerInvoice)||void 0===i?void 0:i.CustomerInvoiceId}});l.onDidDismiss().then(c=>{"submit"==c.role&&n.GetCustomerinvoice(c.data)}),l.present()})()}presentModalAddCustomerInvoice(o,n){var i=this;return(0,v.A)(function*(){const l=yield i.modalController.create({component:z.$,componentProps:{CustomerInvoiceId:n}});l.onDidDismiss().then(c=>{"success"==c.role&&i.GetCustomerinvoices()}),l.present()})()}completeOrder(o){var n=this;return(0,v.A)(function*(){var i;if(null!==(i=n.requestService)&&void 0!==i&&i.BillId&&!n.isCompleteOrder)if(n.isCompleteOrder=!0,n.IsGetBill){var l;(0,j.k)({loadingController:n.loadingController,params:Object.assign({},n.customerInvoice,{BillId:null===(l=n.requestService)||void 0===l?void 0:l.BillId}),callback:_=>{var p;null!=_&&_.Succeeded?(n.refreshData(),null===(p=n.modalAddCustomerInvoiceSuccessRef)||void 0===p||p.present()):((0,h.cX)(n.toastController,{},_).then(R=>R.present()),n.isCompleteOrder=!1)}})}else{var c;(0,j.o)({loadingController:n.loadingController,params:{BillId:null===(c=n.requestService)||void 0===c?void 0:c.BillId},callback:_=>{null!=_&&_.Succeeded?n.refreshData():((0,h.cX)(n.toastController,{},_).then(p=>p.present()),n.isCompleteOrder=!1)}})}})()}}return(a=r).\u0275fac=function(o){return new(o||a)(e.rXU(I.Ix),e.rXU(I.nX),e.rXU(u.W3),e.rXU(u.Hx),e.rXU(u.K_),e.rXU(u.Xi))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-request-service-detail"]],viewQuery:function(o,n){if(1&o&&e.GBs(ae,5),2&o){let i;e.mGM(i=e.lsd())&&(n.modalAddCustomerInvoiceSuccessRef=i.first)}},decls:8,vars:5,consts:[["modalCancelService",""],["modalAddCustomerInvoiceSuccess",""],["color","primary"],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],[1,"bg"],[1,"container","mt-5"],[1,"row","align-items-stretch"],[1,"col-12","col-lg-6","mb-4"],[1,"card-service","h-100","bg-white","rounded","p-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"fs-18","fw-700"],[1,"fs-14",3,"color"],[1,"mt-2","mb-2"],[1,"d-flex","align-items-start"],[1,"table","table-borderless","m-0"],[1,"card-vehicle","h-100","bg-white","rounded","p-3"],[1,"text-ellipsis"],[1,"mr-1"],[1,"card-used","rounded","bg-white","mb-4"],[1,"card-einvoice","rounded","bg-white","mb-4"],[1,"mb-4"],[1,"ion-modal-auto",3,"didPresent"],[1,"ion-modal-small"],[1,"ion-padding-vertical"],[1,"container","d-flex","align-items-center","justify-content-between"],[1,"mb-2","d-flex","justify-content-between"],[1,"mb-3","bill-group-radio"],["mode","md",3,"ionChange","value"],["label-placement","end",3,"value"],["class","card-bill rounded bg-white mt-3",4,"ngIf"],[1,"card-bill","rounded","bg-white","mt-3"],["size","small","fill","clear",3,"click"],["src","../../../assets/icon/ion-icon/chevron-right.svg",1,"fs-4"],["class","table table-borderless m-0",4,"ngIf"],[4,"ngIf"],[1,"card-day","rounded","bg-white","p-3"],[1,"m-0"],[1,"border-dashed","mt-2","mb-3"],[1,"text-medium"],[1,"mb-3"],[1,"card-day","rounded","bg-white","mt-2"],[3,"src"],["slot","end"],[3,"click"],["name","close-outline",1,"fs-24"],[1,"ion-padding","mb-4"],[1,"mt-3","ion-item-input"],["lines","none"],["placeholder","Ch\u1ecdn l\xed do h\u1ee7y d\u1ecbch v\u1ee5","interface","action-sheet",3,"ionChange","value","cancelText","okText"],[3,"value"],[1,"d-flex","p-2"],["fill","outline","color","medium","expand","block","shape","round",1,"flex-grow-1","m-1",3,"click"],["color","danger","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click","disabled"],["maxlength","250","placeholder","Nh\u1eadp l\xed do h\u1ee7y d\u1ecbch v\u1ee5!",3,"ionChange","autoGrow","value"],[1,"container","p-4","text-center","container-success"],["src","../../../assets/icon/ion-img/success.svg"],[1,"mt-5"],["color","medium","shape","round","fill","outline","expand","block",3,"click"],[1,"mr-3","d-flex","align-items-center"],["name","lines"],[1,"fs-14","ml-2"],["color","primary","name","checkmark-circle-outline",1,"fs-24"],["color","primary",1,"fs-14","ml-2"],["color","medium","shape","round","fill","outline","expand","block",1,"flex-grow-1","m-1",3,"click"],["color","medium","fill","outline","shape","round","expand","block",1,"flex-grow-1","m-1"],["color","primary","shape","round","expand","block",1,"flex-grow-1","m-1"],["color","medium","fill","outline","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"],["color","primary","shape","round","expand","block",1,"flex-grow-1","m-1",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"ion-header",2)(1,"ion-toolbar")(2,"ion-buttons",3),e.nrm(3,"ion-back-button",4),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.DNE(7,Ue,70,22)),2&o&&(e.R7$(3),e.Y8G("defaultHref",n.APP_ROUTE.DEFAULT),e.R7$(2),e.JRh(e.bMT(6,3,"ServiceDetail")),e.R7$(2),e.vxM(7,n.requestService?7:-1))},dependencies:[P.bT,u.Jm,u.QW,u.W9,u.M0,u.eU,u.iq,u.KW,u.uz,u.he,u.KO,u.f0,u.To,u.Ki,u.Nm,u.Ip,u.w2,u.IO,u.nc,u.BC,u.ai,u.Sb,u.Je,u.Gw,u.el,q.D9],styles:[".bg[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;width:100%;height:150px;background-color:var(--ion-color-primary);background-image:url(bg-charging-location.24bf138423cec5f5.svg);background-repeat:no-repeat;background-position:center center;background-size:auto 200%}.card-day.rounded[_ngcontent-%COMP%], .card-day.rounded[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%], .card-service.rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-service[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important}.card-service[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem}.card-service[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;vertical-align:top}.card-service[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;color:var(--ion-color-medium-shade)}.card-service[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}.card-vehicle.rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-vehicle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;vertical-align:top}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;color:var(--ion-color-medium-shade)}.card-vehicle[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}.card-package.rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-used[_ngcontent-%COMP%], .card-einvoice[_ngcontent-%COMP%]{padding:1rem}.card-used.rounded[_ngcontent-%COMP%], .card-einvoice.rounded[_ngcontent-%COMP%]{border-radius:1rem!important}.card-used[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%], .card-einvoice[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed}.card-used[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card-einvoice[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;vertical-align:top}.card-used[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .card-einvoice[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;font-size:.875rem;color:var(--ion-color-medium-shade)}.card-used[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   b[_ngcontent-%COMP%], .card-einvoice[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   b[_ngcontent-%COMP%]{color:var(--ion-color-dark)}.card-used[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, .card-einvoice[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}.card-bill[_ngcontent-%COMP%]{padding:1rem}.card-bill.rounded[_ngcontent-%COMP%]{border-radius:1.5rem!important}.card-bill[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important}.card-bill[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem}.card-bill[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;vertical-align:top}.card-bill[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;font-size:.875rem;color:var(--ion-color-medium-shade)}.card-bill[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   b[_ngcontent-%COMP%]{color:var(--ion-color-dark)}.card-bill[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}.bill-group-radio[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]{margin:0 2rem .5rem 0}"]}),r})()}];let Ye=(()=>{var a;class r{}return(a=r).\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[I.iI.forChild(Le),I.iI]}),r})();var we=m(3890);let ze=(()=>{var a;class r{}return(a=r).\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[P.MD,E.YN,u.bv,Ye,we.x]}),r})()}}]);